---
layout: page
title: "CoffeeScript (for jay muratore)"
prev: f_0063.html
next: f_0065.html
book_path: books/trevor-burnham-coffeescript-accelerated-javascript-development-pragmatic--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>

<h2 class="calibre13">A1.4 Web Interactivity with jQuery</h2>
<p id="N146DD" class="calibre5">Answers to Section 5.7, <a href="f_0052.html#sec.jqueryExercises">​<em class="emph">Exercises</em>​</a>:</p>
<ol class="calibre24">
<li class="calibre3">
<p id="N146E6" class="calibre5">
          This line of code will hide all current list items contained by <code class="cf">#menu</code>, but it  will not affect those created in the future:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">$(<em class="string">'#menu li'</em>).hide()</code>
</td>
</tr>
</table>
<p id="N146FA" class="calibre5">
          To hide all current and future list items in <code class="cf">#menu</code>, there are two things we need to do. First, we modify our stylesheet to provide a special class for <code class="cf">#menu</code>, <code class="cf">hideItems</code>:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">#menu.hideItems <strong class="prompt">li</strong> {</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">  visibility: hidden;</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">}</code>
</td>
</tr>
</table>
<p id="N1471A" class="calibre5">
          With the aid of that bit of CSS, hiding all menu items is as easy as using jQuery’s <code class="cf">addClass</code> method:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">$(<em class="string">'#menu'</em>).addClass <em class="string">'hideItems'</em>
</code>
</td>
</tr>
</table>
<p id="N14730" class="calibre5">
          Now all current and future menu items shall be unseen until we call <code class="cf">removeClass</code>.
        </p>
</li>
<li class="calibre3">
<p id="N14737" class="calibre5">
          There are two things worth noticing about this code:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">$(<em class="string">'a'</em>).click(destroyWorld).unbind(<em class="string">'click'</em>)</code>
</td>
</tr>
</table>
<p id="N1474B" class="calibre5">
          First, <code class="cf">destroyWorld</code> will never get called, because the <code class="cf">click</code> event handler is unbound immediately after it’s bound. Second, the <code class="cf">unbind</code> here will remove all <code class="cf">click</code> event handlers from all <code class="cf">&lt;a&gt;</code> elements.
        </p>
</li>
<li class="calibre3">
<p id="N1475E" class="calibre5">
          Of the four selectors, the odd one out is #3, <code class="cf">$(’.redShirt, #awayTeam’).die()</code>:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">$(<em class="string">'#awayTeam .redShirt'</em>).die()</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">$(<em class="string">'#awayTeam'</em>).find(<em class="string">'.redShirt'</em>).die()</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">$(<em class="string">'.redShirt, #awayTeam'</em>).die()</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">$(<em class="string">'.redShirt'</em>, $(<em class="string">'#awayTeam'</em>)).die()</code>
</td>
</tr>
</table>
<p id="N1478A" class="calibre5">
           This would kill all live events on all elements with the <code class="cf">redShirt</code> class and on the <code class="cf">awayTeam</code> element as well, rather than just on the <code class="cf">redShirt</code>-class members of the <code class="cf">awayTeam</code>.
        </p>
</li>
<li class="calibre3">
<p id="N1479A" class="calibre5">
          The following code will, in fact, change <code class="cf">drJekyll</code>’s ID to <code class="cf">mrHyde</code>.
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">$(<em class="string">'#drJekyll'</em>).click <strong class="prompt">-&gt;</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">  alert <em class="string">'Now I shall transform!'</em>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">  $(<em class="string">'#drJekyll'</em>).attr <em class="string">'id'</em>, <em class="string">'mrHyde'</em>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">  $(<em class="string">'#drJekyll'</em>).unbind <em class="string">'click'</em>
</code>
</td>
</tr>
</table>
<p id="N147CB" class="calibre5">
          But annoyingly, it’ll shout “Now I shall transform!” every time it’s clicked. The problem is that the <code class="cf">’#drJekyll’</code> selector doesn’t match anything after the ID change. Moving the <code class="cf">unbind</code> to the top of the <code class="cf">click</code> function would be one solution. Using <code class="cf">$(this)</code> instead of <code class="cf">$(’#drJekyll’)</code> would be even better.
        </p>
</li>
</ol>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

