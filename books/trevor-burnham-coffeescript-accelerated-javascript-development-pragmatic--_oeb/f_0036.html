---
layout: page
title: "CoffeeScript (for jay muratore)"
prev: f_0035.html
next: f_0037.html
book_path: books/trevor-burnham-coffeescript-accelerated-javascript-development-pragmatic--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>

<h2 id="sec.collectionsExercises" class="calibre13">3.9 Exercises</h2>
<ol class="calibre24">
<li class="calibre3">
<p id="N126AC" class="calibre5">
          It’s common to use <code class="cf">slice</code> to copy an entire array:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">coffee&gt;<strong class="prompt"> original = ['Mary', 'Poppins']</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">coffee&gt;<strong class="prompt"> copy = original[0..]</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">coffee&gt;<strong class="prompt"> copy[0] = 'Sh' + copy[0][1..]</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">coffee&gt;<strong class="prompt"> copy[1] = 'B' + copy[1][1..]</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">coffee&gt;<strong class="prompt"> original.join ' '</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">Mary Poppins</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">coffee&gt;<strong class="prompt"> copy.join ' '</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">Shary Boppins</code>
</td>
</tr>
</table>
<p id="N126E4" class="calibre5">
          Explain how <code class="cf">copy = original[0..]</code> differs from <code class="cf">copy = original</code>.
        </p>
</li>
<li class="calibre3">
<p id="N126EE" class="calibre5">
          One subtle difference between CoffeeScript’s <code class="cf">for...in</code> loops and the C-style <code class="cf">for</code> loops in JavaScript is illustrated by this code. Explain why this code produces the following result:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">once = <strong class="prompt">-&gt;</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">  <strong class="prompt">if</strong> once.hasRun</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">    <strong class="prompt">null</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">  <strong class="prompt">else</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">    once.hasRun = <strong class="prompt">true</strong>
</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">    [1, 2, 3]</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">console.log x <strong class="prompt">for</strong> x <strong class="prompt">in</strong> once()</code>
</td>
</tr>
</table>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">1</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">2</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">3</code>
</td>
</tr>
</table>
</li>
<li class="calibre3">
<p id="N12737" class="calibre5">
          What is the output of this code?
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">
<strong class="prompt">for</strong> x <strong class="prompt">in</strong> [1, 2]</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">  setTimeout (<strong class="prompt">-&gt;</strong> console.log x), 50</code>
</td>
</tr>
</table>
<p id="N12750" class="calibre5">
          Bonus question: Does it matter if the timeout is <code class="cf">0</code>?
        </p>
<p id="N12756" class="calibre5">
          For illumination, see <a href="f_0056.html#sec.scopeInLoops">​<em class="emph">Scope in Loops</em>​</a>.
        </p>
</li>
<li class="calibre3">
<p id="N1275D" class="calibre5">
          Recall that <code class="cf">’foo’ in arr</code> will tell you whether the array <code class="cf">arr</code> contains the string <code class="cf">’foo’</code> and whether <code class="cf">’bar’ of obj</code> will tell you if <code class="cf">obj.bar</code> exists. But how would you check whether an arbitrary object contains a given value? Start with this:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">objContains = (obj, val) <strong class="prompt">-&gt;</strong>
</code>
</td>
</tr>
</table>
</li>
<li class="calibre3">
<p id="N1277D" class="calibre5">
          Let’s say that we need to run a function at least once and then run it again repeatedly until a condition is met. In C/Java/JavaScript, we can write this:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">
<strong class="prompt">do</strong> {</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">  user.harangue()</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">} <strong class="prompt">while</strong> (!user.paidInFull)</code>
</td>
</tr>
</table>
<p id="N12796" class="calibre5">
          The direct CoffeeScript equivalent would be the following:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">user.harangue()</code>
</td>
</tr>
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">user.harangue() <strong class="prompt">until</strong> user.paidInFull</code>
</td>
</tr>
</table>
<p id="N127AA" class="calibre5">
          But this violates the sacred principle of DRY (Don’t Repeat Yourself). Define a <code class="cf">doAndRepeatUntil</code> function that takes two functions (equivalent to the loop body and the condition), so that we can instead write it this way:
        </p>
<table class="processedcode">
<tr class="calibre15">
<td class="codeprefix"> </td>
<td class="codeline">
<code class="calibre16">doAndRepeatUntil user.harangue, <strong class="prompt">-&gt;</strong> user.paidInFull</code>
</td>
</tr>
</table>
</li>
<li class="calibre3">
<p id="N127BF" class="calibre5">
          For the project in this chapter, we set <code class="cf">MIN_WORD_LENGTH</code> as a constant. However, it makes more sense from a modularity standpoint to derive this from the dictionary we load into the game. How would you do that on one line using <code class="cf">Math.min.apply</code> and a list comprehension? (<code class="cf">Math.min</code> returns the argument given with the lowest value, such as <code class="cf">Math.min 15, 16, 23, 42, 5, 8</code> is <code class="cf">5</code>.)
        </p>
</li>
</ol>

<div class="footnotes">
<h4 class="calibre12">Footnotes</h4>
<table cellspacing="3" class="calibre6">
<tr valign="top" class="calibre8">
<td class="footnote-number">
<a id="FOOTNOTE-29" href="f_0029.html#FNPTR-29">[29]</a>
</td>
<td class="calibre10">
<p id="N11AB6" class="calibre5">
<a href="http://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array">http://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre8">
<td class="footnote-number">
<a id="FOOTNOTE-30" href="f_0032.html#FNPTR-30">[30]</a>
</td>
<td class="calibre10">
<p id="N1206A" class="calibre5">
<a href="http://documentcloud.github.com/underscore/">http://documentcloud.github.com/underscore/</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre8">
<td class="footnote-number">
<a id="FOOTNOTE-31" href="f_0034.html#FNPTR-31">[31]</a>
</td>
<td class="calibre10">
<p id="N12292" class="calibre5">From <a href="http://www.zyzzyva.net/wordlists.shtml">http://www.zyzzyva.net/wordlists.shtml</a>
</p>
</td>
</tr>
</table>
</div>
<div class="copyright">Copyright © 2011, The Pragmatic Bookshelf.</div>




<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

