---
layout: page
title: "JavaScript Web Applications"
prev: OEBPS/apcs14.html
next: OEBPS/apcs16.html
book_path: books/alex-maccaw-javascript-web-applications-otx--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" title="Graceful Degradation"><div class="book"><div class="book"><div class="book"><h1 class="title1"><a id="I_sect1_d1e17104" class="calibre1"></a>Graceful Degradation</h1></div></div></div><p class="calibre3"><a id="I_indexterm_d1e17108" class="calibre1"></a><a id="I_indexterm_d1e17113" class="calibre1"></a><a id="I_indexterm_d1e17118" class="calibre1"></a>If you write your CSS correctly, your application will
    degrade gracefully. It will be functional in browsers that don’t support
    CSS3—it just won’t be very pretty.</p><p class="calibre3">The key to graceful degradation is that browsers ignore things they
    don’t understand, such as unknown CSS properties, values, and selectors.
    CSS properties override <span class="calibre1">one another</span>,
    so if one is defined twice in the same rule, the first property will be
    <span class="calibre1">overridden</span>. You should put the
    property that’s CSS 2.1-compliant first, so it will be overridden if
    <code class="literal">rgba</code> is supported:</p><pre class="screen">#example-gd {
  background: white;
  background: rgba(255, 255, 255, .75);
}</pre><p class="calibre3">What about vendor prefixes? Well, the same rule applies. Just
    include prefixes for each browser—it will use the one it understands. You
    should put the prefixless version last, as it will be used when the
    browser’s CSS3 support is standardized and prefixes are removed:</p><pre class="screen">#example-gd {
  background: #FFF; 
  background: -webkit-gradient(linear, left top, left bottom, from(#FFF), to(#CCC));
  background: -webkit-linear-gradient(#FFF, #CCC);
  background: -moz-linear-gradient(#FFF, #CCC);
  background: linear-gradient(#FFF, #CCC);
}</pre><div class="book" title="Modernizr"><div class="book"><div class="book"><div class="book"><h2 class="title3"><a id="id2950289" class="calibre12"></a>Modernizr</h2></div></div></div><p class="calibre3"><a class="ulink" href="http://www.modernizr.com">Modernizr</a><a id="I_indexterm_d1e17145" class="calibre1"></a> detects support for various CSS3 properties, letting you
      target specific browser behavior in your stylesheet:</p><pre class="screen">.multiplebgs div p {
  /* properties for browsers that
     support multiple backgrounds */
}
.no-multiplebgs div p {
  /* optional fallback properties
     for browsers that don't */
}</pre><p class="calibre3">Some of the features Modernizr detects support for are:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><p class="calibre3"><code class="literal">@font-face</code></p></li><li class="listitem"><p class="calibre3"><code class="literal">rgba()</code></p></li><li class="listitem"><p class="calibre3"><code class="literal">hsla()</code></p></li><li class="listitem"><p class="calibre3"><code class="literal">border-image:</code></p></li><li class="listitem"><p class="calibre3"><code class="literal">border-radius:</code></p></li><li class="listitem"><p class="calibre3"><code class="literal">box-shadow:</code></p></li><li class="listitem"><p class="calibre3"><code class="literal">text-shadow</code>:</p></li><li class="listitem"><p class="calibre3">Multiple backgrounds</p></li><li class="listitem"><p class="calibre3">Flexible box model</p></li><li class="listitem"><p class="calibre3">CSS animations</p></li><li class="listitem"><p class="calibre3">CSS gradients</p></li><li class="listitem"><p class="calibre3">CSS 2D transforms</p></li><li class="listitem"><p class="calibre3">CSS transitions</p></li></ul></div><p class="calibre3">To see a full list or to download Modernizr, visit the <a class="ulink" href="http://www.modernizr.com">project page</a>.</p><p class="calibre3">Using Modernizr is very simple—just include the JavaScript file
      and add a class of <code class="literal">no-js</code> to the
      <code class="literal">&lt;html&gt;</code> tag:</p><pre class="screen">&lt;script src="/javascripts/modernizr.js"&gt;&lt;/script&gt;
&lt;html class="no-js"&gt;</pre><p class="calibre3">Modernizr then adds some classes to the <code class="literal">&lt;html&gt;</code> tag, which you can use in your
      selectors to target specific browser behaviors:</p><pre class="screen">/* Alternate layout when the Flexible Box Model is not available */
.no-flexbox #content {
  float: left;
}</pre></div><div class="book" title="Google Chrome Frame"><div class="book"><div class="book"><div class="book"><h2 class="title3"><a id="id2950439" class="calibre12"></a>Google Chrome Frame</h2></div></div></div><p class="calibre3"><a id="I_indexterm_d1e17228" class="calibre1"></a><a id="I_indexterm_d1e17231" class="calibre1"></a>Google Chrome Frame (GCF) is an Internet Explorer
      extension that lets you switch IE’s renderer to Google Chrome’s
      renderer, <a class="ulink" href="http://www.chromium.org">Chromium</a>.</p><p class="calibre3">Once the extension is installed, you can enable GCF with a
      <code class="literal">meta</code> tag in the page’s head:</p><pre class="screen">&lt;meta http-equiv="X-UA-Compatible" content="chrome=1"&gt;</pre><p class="calibre3">Or, an alternative is to add the setting to the response’s
      header:</p><pre class="screen">X-UA-Compatible: chrome=1</pre><p class="calibre3">That’s all that’s required to enable GCF rendering for your web
      page. However, GCF has some more features, like prompting users to
      install it if they’re running IE (and it’s not already installed). The
      prompt can just overlay on top of the page and will refresh
      automatically when GCF is installed—no browser restart is
      necessary.</p><p class="calibre3">The first step is to include the GCF JavaScript:</p><pre class="screen">&lt;script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js" </pre><p class="calibre3">Then, in a page load handler or at the bottom of the page, we need
      to invoke CFInstall:</p><pre class="screen">&lt;script&gt;
  jQuery(function(){
    CFInstall.check({
      mode: "overlay",
    });
  });
&lt;/script&gt;</pre><p class="calibre3">CFInstall takes several options:</p><div class="book"><dl class="book"><dt class="calibre8"><span class="calibre1"><code class="literal">mode</code></span></dt><dd class="calibre9"><p class="calibre3">Inline, overlay, or popup</p></dd><dt class="calibre8"><span class="calibre1"><code class="literal">destination</code></span></dt><dd class="calibre9"><p class="calibre3">The address to navigate to on installation, usually the
            current page</p></dd><dt class="calibre8"><span class="calibre1"><code class="literal">node</code></span></dt><dd class="calibre9"><p class="calibre3">The ID of an element that will contain the installation
            prompt</p></dd></dl></div><p class="calibre3">Once GCF is installed, the browser’s <code class="literal">User-Agent</code>
      header will be extended with the string <code class="literal">chromeframe</code>.
      GCF cleverly uses Internet Explorer’s network stack to perform URL
      requests. This ensures that requests have the same cookies, history, and
      SSL state when using GCF, which basically preserves the user’s existing
      sessions.</p><p class="calibre3">For further information, see the <a class="ulink" href="http://www.chromium.org/developers/how-tos/chrome-frame-getting-started">getting
      started guide</a>.</p></div></div></div>

{% endraw %}

