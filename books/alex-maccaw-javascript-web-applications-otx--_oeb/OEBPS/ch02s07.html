---
layout: page
title: "JavaScript Web Applications"
prev: OEBPS/ch02s06.html
next: OEBPS/ch02s08.html
book_path: books/alex-maccaw-javascript-web-applications-otx--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" title="Delegating Events"><div class="book"><div class="book"><div class="book"><h1 class="title1"><a id="I_sect12_d1e2246" class="calibre1"></a>Delegating Events</h1></div></div></div><p class="calibre3"><a id="I_indexterm2_d1e2250" class="calibre1"></a><a id="I_indexterm2_d1e2255" class="calibre1"></a>It may have occurred to you that since events bubble up, we
    could just add a listener on a parent element, checking for events on its
    children. This is exactly the technique that frameworks like <a class="ulink" href="http://www.sproutcore.com">SproutCore</a> use to reduce the
    number of event listeners in the application:</p><pre class="screen">// Delegating events on a ul list
list.addEventListener("click", function(e){ 
  if (e.currentTarget.tagName == "li") {
    /* ... */
    return false;
  }
}, false);</pre><p class="calibre3">jQuery has a great way of doing this; simply pass the <code class="literal">delegate()</code> function <a id="I_indexterm2_d1e2271" class="calibre1"></a><a id="I_indexterm2_d1e2274" class="calibre1"></a>a child selector, event type, and handler. The alternative
    to this approach would be to add a <span class="calibre1"><em class="calibre4">click</em></span> event to
    every <code class="literal">li</code> element. However, by using
    <code class="literal">delegate()</code>, youâ€™re reducing the number
    of event listeners, improving performance:</p><pre class="screen">// Don't do this! It adds a listener to every 'li' element (expensive)
$("ul li").click(function(){ /* ... */ });

// This only adds one event listener
$("ul").delegate("li", "click", /* ... */);</pre><p class="calibre3">Another advantage to event delegation is that any children added
    dynamically to the element would still have the event listener. So, in the
    above example, any <code class="literal">li</code> elements added to
    the list after the page loaded would still invoke the click
    handler.</p></div></div>

{% endraw %}

