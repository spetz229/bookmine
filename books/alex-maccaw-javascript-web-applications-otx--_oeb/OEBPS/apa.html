---
layout: page
title: "JavaScript Web Applications"
prev: OEBPS/ch13s06.html
next: OEBPS/apas02.html
book_path: books/alex-maccaw-javascript-web-applications-otx--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" title="Appendix A. jQuery Primer"><div class="book"><div class="book"><div class="book"><h1 class="title1"><a id="appendix---jquery-primer" class="calibre1"></a>Appendix A. jQuery Primer</h1></div></div></div><p class="calibre3"><a id="index-672I327HF1R" class="calibre1"></a><a id="index-348W603KN2T" class="calibre1"></a><a id="I_indexterm_d1e15158" class="calibre1"></a>A lot of libraries have been developed to make the DOM easier
  to work with, but few have the popularity and praise of jQuery. And for good
  reason: jQuery’s API is excellent and the library is lightweight and
  namespaced, so it shouldn’t conflict with anything else you’re using. What’s
  more, jQuery is easily extendable; a whole <a class="ulink" href="http://plugins.jquery.com">host of plug-ins</a> have been
  developed, from JavaScript validation to progress bars.</p><p class="calibre3">jQuery is namespaced behind the <code class="literal">jQuery</code> variable, which is aliased with a dollar
  sign (<code class="literal">$</code>). Unlike libraries such as <a class="ulink" href="http://prototypejs.org">Prototype</a>, jQuery doesn’t extend any
  native JavaScript objects, largely to avoid conflicts with other
  libraries.</p><p class="calibre3">The other important thing to understand about jQuery is
  selectors.<a id="I_indexterm_d1e15180" class="calibre1"></a> If you’re familiar with CSS, selectors will be second nature
  to you. All of jQuery’s instance methods are performed on selectors, so
  rather than iterating over elements, you can just use a selector to collect
  them. Any functions called on the jQuery selector will be executed on every
  element selected.</p><p class="calibre3">To demonstrate this, let me show you an example of adding a class name
  <code class="literal">selected</code> to all the elements with the
  class <code class="literal">foo</code>. The first example will be in
  pure JavaScript, and the second will use jQuery:</p><pre class="screen">// Pure JavaScript example
var elements = document.getElementsByClassName("foo");
for (var i=0; i &lt; elements.length; i++) {
  elements[i].className += " selected";
}

// jQuery example
$(".foo").addClass("selected");</pre><p class="calibre3">So, you can see how jQuery’s selectors API <a id="I_indexterm_d1e15198" class="calibre1"></a>greatly reduces the code required. Let’s take a closer look at
  those selectors. Just as you’d use a hash (<code class="literal">#</code>) in CSS to select elements by ID, you can do the
  same with jQuery:</p><pre class="screen">// Select an element by ID (wem)
var element = document.getElementById("wem");
var element = $("#wem");

// Select all elements by class (bar)
var elements = document.getElementsByClassName("bar");
var elements = $(".bar");

// Select all elements by tag (p)
var elements = document.getElementsByTagName("p");
var elements = $("p");</pre><p class="calibre3">As with CSS, you can combine selectors to make them more
  specific:</p><pre class="screen">// Select the children of 'bar' with a class of 'foo'
var foo = $(".bar .foo");</pre><p class="calibre3">You can even select by an elements attribute:</p><pre class="screen">var username = $("input[name='username']");</pre><p class="calibre3">Or, you can select the first matched element:</p><pre class="screen">var example = $(".wem:first");</pre><p class="calibre3">Whenever we call a function on the selector, all elements selected are
  affected:</p><pre class="screen">// Add a class to all elements with class 'foo'
$(".foo").addClass("bar");</pre><p class="calibre3">As I mentioned, all of jQuery’s functions are namespaced, so if you
  call a function directly on a DOM element, it will fail:</p><pre class="screen">// This will fail!
var element = document.getElementById("wem");
element.addClass("bar");</pre><p class="calibre3">Instead, if you want to use jQuery’s API, you’ll have to wrap up the
  element into a jQuery instance:</p><pre class="screen">var element = document.getElementById("wem");
$(element).addClass("bar");</pre><div class="book" title="DOM Traversal"><div class="book"><div class="book"><div class="book"><h1 class="title1"><a id="I_sect1_d1e15234" class="calibre1"></a>DOM Traversal</h1></div></div></div><p class="calibre3"><a id="I_indexterm_d1e15238" class="calibre1"></a><a id="index-871R637DD2O" class="calibre1"></a>Once you’ve selected some elements, jQuery gives you a
    <a class="ulink" href="http://api.jquery.com/category/traversing">number of
    ways</a> of finding other elements relative to elements in the
    selector:</p><pre class="screen">var wem = $("#wem");

// Find scoped children
wem.find(".test");

// Select the direct parent
wem.parent();

// Or get an array of parents, scoped by an optional selector
wem.parents(".optionalSelector");

// Select the direct descendants (of the first element)
wem.children();</pre><p class="calibre3">Or, you can traverse elements inside the selector:</p><pre class="screen">var wem = $("#wem");

// Returns the element at the specified index (0)
wem.eq( 0 );

// Returns the first element (equivalent to $.fn.eq(0))
wem.first();

// Reduce elements to those that match a selector (".foo")
wem.filter(".foo");

// Reduce elements to those that pass the test function
wem.filter(function(){
  // this, is the current element
  return $(this).hasClass(".foo");
});

// Reduce elements to those that have descendants that match a selector (".selected")
wem.has(".selected");</pre><p class="calibre3">jQuery has some iterators, <code class="literal">map()</code>
    and <code class="literal">each()</code>, that accept a
    callback:<a id="I_indexterm_d1e15264" class="calibre1"></a></p><pre class="screen">var wem = $("#wem");

// Pass each element selected into a function, 
// constructing a new array based on the return values
wem.map(function(element, index){
  assertEqual(this, element);

  return this.id;
});

// Iterate a callback over selected elements, equivalent to a `for` loop.
wem.each(function(index, element){
  assertEqual(this, element);

  /* ... */
});</pre><p class="calibre3">It’s also possible to add elements to a selector manually:</p><pre class="screen">// Add all p elements to the selector
var wem = $("#wem");
wem.add( $("p") );</pre></div></div></div>

{% endraw %}

