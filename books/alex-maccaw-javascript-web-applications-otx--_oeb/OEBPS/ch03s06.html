---
layout: page
title: "JavaScript Web Applications"
prev: OEBPS/ch03s05.html
next: OEBPS/ch03s07.html
book_path: books/alex-maccaw-javascript-web-applications-otx--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" title="Populating Our ORM"><div class="book"><div class="book"><div class="book"><h1 class="title1"><a id="I_sect13_d1e3556" class="calibre1"></a>Populating Our ORM</h1></div></div></div><p class="calibre3"><a id="I_indexterm3_d1e3560" class="calibre1"></a><a id="I_indexterm3_d1e3565" class="calibre1"></a><a id="I_indexterm3_d1e3570" class="calibre1"></a>Populating our ORM with data is pretty straightforward. All
    we need to do is fetch the data from the server and then update our
    model’s records. Let’s add a <code class="literal">populate()</code> function to the
    <code class="literal">Model</code> object, which will iterate over
    any values given, create instances, and update the <code class="literal">records</code> object:</p><pre class="screen">Model.extend({
  populate: function(values){
    // Reset model &amp; records
    this.records = {};

    for (var i=0, il = values.length; i &lt; il; i++) {    
      var record = this.init(values[i]);
      record.newRecord = false;
      this.records[record.id] = record;
    }
  }
});</pre><p class="calibre3">Now, we can use the <code class="literal">Model.populate()</code> function with the result of our
    request for data:</p><pre class="screen">jQuery.getJSON("/assets", function(result){
  Asset.populate(result);
});</pre><p class="calibre3">Any records the server returned will now be available in our
    ORM.</p></div></div>

{% endraw %}

