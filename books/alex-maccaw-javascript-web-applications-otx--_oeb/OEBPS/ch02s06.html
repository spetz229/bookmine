---
layout: page
title: "JavaScript Web Applications"
prev: OEBPS/ch02s05.html
next: OEBPS/ch02s07.html
book_path: books/alex-maccaw-javascript-web-applications-otx--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" title="Context Change"><div class="book"><div class="book"><div class="book"><h1 class="title1"><a id="I_sect12_d1e2205" class="calibre1"></a>Context Change</h1></div></div></div><p class="calibre3"><a id="I_indexterm2_d1e2209" class="calibre1"></a><a id="I_indexterm2_d1e2214" class="calibre1"></a>One thing that’s often confusing about events is how the
    context changes when the handler is invoked. When using the browser’s
    native <code class="literal">addEventListener()</code><a id="I_indexterm2_d1e2222" class="calibre1"></a>, the context is changed from the local one to the targeted
    HTML element:</p><pre class="screen">new function(){
  this.appName = "wem";

  document.body.addEventListener("click", function(e){ 
    // Context has changed, so appName will be undefined
    alert(this.appName);
  }, false);
};</pre><p class="calibre3">To preserve the original context, wrap the handler in an anonymous
    function, keeping a reference to it. We covered this pattern in <a class="ulink" href="ch01.html" title="Chapter 1. MVC and Classes">Chapter 1</a>, where we used a proxy function to maintain the
    current context. It’s such a common pattern that jQuery includes a
    <code class="literal">proxy()</code> function—<a id="I_indexterm2_d1e2235" class="calibre1"></a><a id="I_indexterm2_d1e2238" class="calibre1"></a>just pass in the function and context in which you want it
    to be invoked:</p><pre class="screen">$("signinForm").submit($.proxy(function(){ /* ... */ }, this));</pre></div></div>

{% endraw %}

