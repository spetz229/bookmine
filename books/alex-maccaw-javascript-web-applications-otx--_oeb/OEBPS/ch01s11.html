---
layout: page
title: "JavaScript Web Applications"
prev: OEBPS/ch01s10.html
next: OEBPS/ch01s12.html
book_path: books/alex-maccaw-javascript-web-applications-otx--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" title="Adding Private Functions"><div class="book"><div class="book"><div class="book"><h1 class="title1"><a id="I_sect11_d1e1430" class="calibre1"></a>Adding Private Functions</h1></div></div></div><p class="calibre3"><a id="I_indexterm1_d1e1434" class="calibre1"></a><a id="I_indexterm1_d1e1439" class="calibre1"></a><a id="I_indexterm1_d1e1442" class="calibre1"></a>So far, any property we’ve added to our classes has been
    open to the world and can be changed at any time. Let’s now explore how to
    add private properties to our classes.</p><p class="calibre3">A lot of developers end up prefixing private properties with an
    underscore (_).<a id="I_indexterm1_d1e1450" class="calibre1"></a><a id="I_indexterm1_d1e1453" class="calibre1"></a> Although these can still be changed, it makes it obvious
    that they’re part of a private API. I try to steer clear of this approach
    because it looks rather ugly.</p><p class="calibre3">JavaScript does have support for immutable properties;<a id="I_indexterm1_d1e1459" class="calibre1"></a><a id="I_indexterm1_d1e1462" class="calibre1"></a> however, this isn’t implemented across the main browsers,
    so we’ll have to wait before using this method. Instead, we’ll use
    JavaScript anonymous functions <a id="I_indexterm1_d1e1468" class="calibre1"></a>to create a private scope, which can only be accessed
    internally:</p><pre class="screen">var Person = function(){};

(function(){

  var findById = function(){ /* ... */ };

  Person.find = function(id){
    if (typeof id == "integer")
      return findById(id);
  };

})();</pre><p class="calibre3">We’re wrapping all our class’ properties in an anonymous function,
    then creating local variables (<code class="literal">findById</code>), which can only be accessed in the
    current scope. The <code class="literal">Person</code> variable is defined in the
    global scope, so it can be accessed from anywhere.</p><p class="calibre3">Never define a variable without using the <code class="literal">var</code> operator,<a id="I_indexterm1_d1e1489" class="calibre1"></a><a id="I_indexterm1_d1e1492" class="calibre1"></a> since it always creates a global variable. If you need to
    define a global variable, do so in the global scope or as a property on
    <code class="literal">window</code>:</p><pre class="screen">(function(exports){
  var foo = "bar";

  // Expose variable
  exports.foo = foo;
})(window);

assertEqual(foo, "bar");</pre></div></div>

{% endraw %}

