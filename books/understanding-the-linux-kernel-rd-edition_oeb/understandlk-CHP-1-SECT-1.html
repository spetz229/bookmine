---
layout: page
title: "Understanding the Linux Kernel, 3rd Edition"
prev: understandlk-CHP-1.html
next: understandlk-CHP-1-SECT-2.html
book_path: books/understanding-the-linux-kernel-rd-edition_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<a name="understandlk-CHP-1-SECT-1"></a>
<h3 class="docSection1Title">1.1. Linux Versus Other Unix-Like Kernels</h3><a name="IDX-CHP-1-0095"></a>
<a name="IDX-CHP-1-0096"></a>
<a name="IDX-CHP-1-0097"></a>
<a name="IDX-CHP-1-0098"></a>
<a name="IDX-CHP-1-0099"></a>
<a name="IDX-CHP-1-0100"></a>
<a name="IDX-CHP-1-0101"></a>
<a name="IDX-CHP-1-0102"></a>
<a name="IDX-CHP-1-0103"></a>
<a name="IDX-CHP-1-0104"></a>
<p class="docText1">The various Unix-like systems on the market, some of which have a long history and show signs of archaic practices, differ in many important respects. All commercial variants were derived from either SVR4 or 4.4BSD, and all tend to agree on some common standards like IEEE's Portable Operating Systems based on Unix (<span class="docEmphasis">POSIX</span>) and X/Open's Common Applications Environment (CAE).</p>
<p class="docText1">The current standards specify only an application programming interface (API)that is, a well-defined environment in which user programs should run. Therefore, the standards do not impose any restriction on internal design choices of a compliant kernel.<sup class="docFootnote"><a class="pcalibre5 docLink pcalibre1" href="#understandlk-CHP-1-FN3">[*]</a></sup></p><blockquote class="calibre22"><p class="docFootnote1"><sup class="calibre24"><a name="understandlk-CHP-1-FN3">[*]</a></sup> As a matter of fact, several non-Unix operating systems, such as Windows<a name="IDX-CHP-1-0105"></a> 
 NT and its descendents, are POSIX-compliant.</p></blockquote>
<p class="docText1">To define a common user interface, Unix-like kernels often share fundamental design ideas and features. In this respect, Linux is comparable with the other Unix-like operating systems. Reading this book and studying the Linux kernel, therefore, may help you understand the other Unix variants, too.</p>
<p class="docText1">The 2.6 version of the Linux kernel aims to be compliant with the IEEE POSIX standard. This, of course, means that most existing Unix programs can be compiled and executed on a Linux system with very little effort or even without the need for patches to the source code. Moreover, Linux includes all the features of a modern Unix operating system, such as virtual memory, a virtual filesystem, lightweight processes, Unix signals<a name="IDX-CHP-1-0106"></a> 
, SVR4 interprocess communications, support for Symmetric Multiprocessor (SMP) systems, and so on.</p>
<p class="docText1">When Linus Torvalds wrote the first kernel, he referred to some classical books on Unix internals, like Maurice Bach's <span class="docEmphasis">The Design of the Unix Operating System</span> (Prentice Hall, 1986). Actually, Linux still has some bias toward the Unix baseline described in Bach's book (i.e., SVR2). However, Linux doesn't stick to any particular variant. Instead, it tries to adopt the best features and design choices of several different Unix kernels.</p>
<p class="docText1">The following list describes how Linux competes against some well-known commercial Unix kernels:</p>
<a name="IDX-CHP-1-0107"></a><a name="IDX-CHP-1-0108"></a><a name="IDX-CHP-1-0109"></a><a name="IDX-CHP-1-0110"></a><a name="IDX-CHP-1-0111"></a><a name="IDX-CHP-1-0112"></a><a name="IDX-CHP-1-0113"></a><a name="IDX-CHP-1-0114"></a><a name="IDX-CHP-1-0115"></a><a name="IDX-CHP-1-0116"></a><a name="IDX-CHP-1-0117"></a><a name="IDX-CHP-1-0118"></a><a name="IDX-CHP-1-0119"></a><a name="IDX-CHP-1-0120"></a><a name="IDX-CHP-1-0121"></a><a name="IDX-CHP-1-0122"></a><a name="IDX-CHP-1-0123"></a><a name="IDX-CHP-1-0124"></a><a name="IDX-CHP-1-0125"></a><dl class="docText1"><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Monolithic kernel</span></span></p></dt>
<dd class="calibre20"><p class="docList">It is a large, complex do-it-yourself program, composed of several logically different components. In this, it is quite conventional; most commercial Unix variants are monolithic. (Notable exceptions are the Apple Mac OS X<a name="IDX-CHP-1-0107"></a> 
 and the GNU Hurd<a name="IDX-CHP-1-0108"></a> 
 operating systems, both derived from the Carnegie-Mellon's Mach, which follow a microkernel approach.)</p></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Compiled and statically linked traditional Unix kernels</span></span></p></dt>
<dd class="calibre20"><p class="docList">Most modern kernels can dynamically load and unload some portions of the kernel code (typically, device drivers), which are usually called modules<a name="IDX-CHP-1-0109"></a> 
. Linux's support for modules is very good, because it is able to automatically load and unload modules on demand. Among the main commercial Unix variants, only the SVR4.2 and Solaris<a name="IDX-CHP-1-0110"></a> 
 kernels have a similar feature.</p></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Kernel threading</span></span></p></dt>
<dd class="calibre20"><p class="docList">Some Unix kernels, such as Solaris and SVR4.2/MP, are organized as a set of kernel threads<a name="IDX-CHP-1-0111"></a> 
. A kernel thread is an execution context that can be independently scheduled; it may be associated with a user program, or it may run only some kernel functions. Context switches between kernel threads are usually much less expensive than context switches between ordinary processes, because the former usually operate on a common address space. Linux uses kernel threads in a very limited way to execute a few kernel functions periodically; however, they do not represent the basic execution context abstraction. (That's the topic of the next item.)</p></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Multithreaded application support</span></span></p></dt>
<dd class="calibre20"><p class="docList">Most modern operating systems have some kind of support for multithreaded applications<a name="IDX-CHP-1-0112"></a> 
  that is, user programs that are designed in terms of many relatively independent execution flows that share a large portion of the application data structures. A multithreaded user application could be composed of many lightweight processes<a name="IDX-CHP-1-0113"></a> 
 (LWP), which are processes that can operate on a common address space, common physical memory pages, common opened files, and so on. Linux defines its own version of lightweight processes, which is different from the types used on other systems such as SVR4 and Solaris. While all the commercial Unix variants of LWP are based on kernel threads, Linux regards lightweight processes as the basic execution context and handles them via the nonstandard <tt class="calibre25">clone( )</tt><a name="IDX-CHP-1-0114"></a> 
 system call.</p></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Preemptive kernel</span></span></p></dt>
<dd class="calibre20"><p class="docList">When compiled with the "Preemptible Kernel" option, Linux 2.6 can arbitrarily interleave execution flows while they are in privileged mode. Besides Linux 2.6, a few other conventional, general-purpose Unix systems, such as Solaris<a name="IDX-CHP-1-0115"></a> 
 and Mach 3.0<a name="IDX-CHP-1-0116"></a> 
, are fully preemptive kernels. SVR4.2/MP introduces some <span class="docEmphasis">fixed preemption points</span><a name="IDX-CHP-1-0117"></a> 
 as a method to get limited preemption capability.</p></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Multiprocessor support</span></span></p></dt>
<dd class="calibre20"><p class="docList">Several Unix kernel variants take advantage of multiprocessor systems. Linux 2.6 supports symmetric multiprocessing (SMP<a name="IDX-CHP-1-0118"></a> 
) for different memory models, including NUMA: the system can use multiple processors and each processor can handle any task  there is no discrimination among them. Although a few parts of the kernel code are still serialized by means of a single "big kernel lock<a name="IDX-CHP-1-0119"></a> 
," it is fair to say that Linux 2.6 makes a near optimal use of SMP.</p></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Filesystem</span></span></p></dt>
<dd class="calibre20"><p class="docList">Linux's standard filesystems<a name="IDX-CHP-1-0120"></a>
<a name="IDX-CHP-1-0121"></a> 
 come in many flavors. You can use the plain old Ext2 filesystem if you don't have specific needs. You might switch to Ext3 if you want to avoid lengthy filesystem checks after a system crash. If you'll have to deal with many small files, the ReiserFS<a name="IDX-CHP-1-0122"></a> 
 filesystem is likely to be the best choice. Besides Ext3 and ReiserFS, several other journaling filesystems can be used in Linux; they include IBM AIX's Journaling File System (JFS<a name="IDX-CHP-1-0123"></a> 
) and Silicon Graphics IRIX<a name="IDX-CHP-1-0124"></a> 
's XFS<a name="IDX-CHP-1-0125"></a> 
 filesystem. Thanks to a powerful object-oriented Virtual File System technology (inspired by Solaris and SVR4), porting a foreign filesystem to Linux is generally easier than porting to other kernels.</p></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">STREAMS</span></span></p></dt>
<dd class="calibre20"><p class="docList">Linux has no analog to the STREAMS I/O subsystem introduced in SVR4, although it is included now in most Unix kernels and has become the preferred interface for writing device drivers, terminal drivers, and network protocols.</p></dd></dl>
<p class="docText1">This assessment suggests that Linux is fully competitive nowadays with commercial operating systems. Moreover, Linux has several features that make it an exciting operating system. Commercial Unix kernels often introduce new features to gain a larger slice of the market, but these features are not necessarily useful, stable, or productive. As a matter of fact, modern Unix kernels tend to be quite bloated. By contrast, Linuxtogether with the other open source operating systemsdoesn't suffer from the restrictions and the conditioning imposed by the market, hence it can freely evolve according to the ideas of its designers (mainly Linus Torvalds). Specifically, Linux offers the following advantages over its commercial competitors:</p>
<a name="IDX-CHP-1-0126"></a><a name="IDX-CHP-1-0127"></a><a name="IDX-CHP-1-0128"></a><a name="IDX-CHP-1-0129"></a><a name="IDX-CHP-1-0130"></a><a name="IDX-CHP-1-0131"></a><a name="IDX-CHP-1-0132"></a><a name="IDX-CHP-1-0133"></a><a name="IDX-CHP-1-0134"></a><a name="IDX-CHP-1-0135"></a><dl class="docText1"><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Linux is cost-free</span></span></p></dt>
<dd class="calibre20"><p class="docList">You can install a complete Unix system at no expense other than the hardware (of course).</p></dd>
<dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Linux is fully customizable in all its components</span></span></p></dt>
<dd class="calibre20"><p class="docList">Thanks to the compilation options, you can customize the kernel by selecting only the features really needed. Moreover, thanks to the GPL, you are allowed to freely read and modify the source code of the kernel and of all system programs.<sup class="docFootnote"><a class="pcalibre5 docLink pcalibre1" href="#understandlk-CHP-1-FN4">[*]</a></sup></p><blockquote class="calibre22"><p class="docFootnote2"><sup class="calibre24"><a name="understandlk-CHP-1-FN4">[*]</a></sup> Many commercial companies are now supporting their products under Linux. However, many of them aren't distributed under an open source license, so you might not be allowed to read or modify their source code.</p></blockquote></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Linux runs on low-end, inexpensive hardware platforms</span></span></p></dt>
<dd class="calibre20"><p class="docList">You are able to build a network server using an old Intel 80386 system with 4 MB of RAM.</p></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Linux is powerful</span></span></p></dt>
<dd class="calibre20"><p class="docList">Linux systems are very fast, because they fully exploit the features of the hardware components. The main Linux goal is efficiency, and indeed many design choices of commercial variants, like the STREAMS I/O subsystem, have been rejected by Linus because of their implied performance penalty.</p></dd>
<dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Linux developers are excellent programmers</span></span></p></dt>
<dd class="calibre20"><p class="docList">Linux systems are very stable; they have a very low failure rate and system maintenance time.</p></dd>
<dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">The Linux kernel can be very small and compact</span></span></p></dt>
<dd class="calibre20"><p class="docList">It is possible to fit a kernel image, including a few system programs, on just one 1.44 MB floppy disk. As far as we know, none of the commercial Unix variants is able to boot from a single floppy disk.</p></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Linux is highly compatible with many common operating systems</span></span></p></dt>
<dd class="calibre20"><p class="docList">Linux lets you directly mount filesystems for all versions of MS-DOS<a name="IDX-CHP-1-0126"></a> 
 and Microsoft Windows<a name="IDX-CHP-1-0127"></a> 
, SVR4, OS/2<a name="IDX-CHP-1-0128"></a> 
, Mac OS X<a name="IDX-CHP-1-0129"></a> 
, Solaris<a name="IDX-CHP-1-0130"></a> 
, SunOS<a name="IDX-CHP-1-0131"></a> 
, NEXTSTEP<a name="IDX-CHP-1-0132"></a> 
, many BSD<a name="IDX-CHP-1-0133"></a> 
 variants, and so on. Linux also is able to operate with many network layers, such as Ethernet (as well as Fast Ethernet, Gigabit Ethernet, and 10 Gigabit Ethernet), Fiber Distributed Data Interface (FDDI), High Performance Parallel Interface (HIPPI), IEEE 802.11 (Wireless LAN), and IEEE 802.15 (Bluetooth). By using suitable libraries, Linux systems are even able to directly run programs written for other operating systems. For example, Linux is able to execute some applications written for MS-DOS, Microsoft Windows, SVR3 and R4, 4.4BSD, SCO Unix<a name="IDX-CHP-1-0134"></a> 
, Xenix<a name="IDX-CHP-1-0135"></a> 
, and others on the 80x86 platform.</p></dd><dt class="calibre7"><br class="calibre7"/><p class="calibre14"><span class="docPubcolor"><span class="docEmphasis">Linux is well supported</span></span></p></dt>
<dd class="calibre20"><p class="docList">Believe it or not, it may be a lot easier to get patches and updates for Linux than for any proprietary operating system. The answer to a problem often comes back within a few hours after sending a message to some newsgroup or mailing list. Moreover, drivers for Linux are usually available a few weeks after new hardware products have been introduced on the market. By contrast, hardware manufacturers release device drivers for only a few commercial operating systems  usually Microsoft's. Therefore, all commercial Unix variants run on a restricted subset of hardware components.</p></dd></dl>
<p class="docText1">With an estimated installed base of several tens of millions, people who are used to certain features that are standard under other operating systems are starting to expect the same from Linux. In that regard, the demand on Linux developers is also increasing. Luckily, though, Linux has evolved under the close direction of Linus and his subsystem maintainers to accommodate the needs of the masses.</p>
<a href="31071535.html"><img src="pixel.jpg" alt="" border="0" class="calibre19"/></a>
<br class="calibre7"/>

</div>

{% endraw %}

