---
layout: page
title: "Understanding the Linux Kernel, 3rd Edition"
prev: understandlk-CHP-5-SECT-4.html
next: understandlk-CHP-6-SECT-1.html
book_path: books/understanding-the-linux-kernel-rd-edition_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<a name="understandlk-CHP-6"></a>
<div class="calibre23"></div><h2 class="docPrefaceTitle">Chapter 6. Timing Measurements</h2>
<p class="docText1">Countless computerized activities are driven by timing measurements<a name="IDX-CHP-6-1629"></a> 
, often behind the user's back. For instance, if the screen is automatically switched off after you have stopped using the computer's console, it is due to a timer that allows the kernel to keep track of how much time has elapsed since you pushed a key or moved the mouse. If you receive a warning from the system asking you to remove a set of unused files, it is the outcome of a program that identifies all user files that have not been accessed for a long time. To do these things, programs must be able to retrieve a timestamp identifying its last access time from each file. Such a timestamp must be automatically written by the kernel. More significantly, timing drives process switches along with even more visible kernel activities such as checking for time-outs.</p>
<p class="docText1">We can distinguish two main kinds of timing measurement that must be performed by the Linux kernel:</p>
<ul class="calibre11"><li class="calibre12"><p class="docText1">Keeping the current time and date so they can be returned to user programs through the <tt class="calibre25">time( )</tt>, <tt class="calibre25">ftime( )</tt>, and <tt class="calibre25">gettimeofday( )</tt> APIs (see the section "<a class="pcalibre5 docLink pcalibre1" href="understandlk-CHP-6-SECT-6.html#understandlk-CHP-6-SECT-6.1">The time( ) and gettimeofday( ) System Calls</a>" later in this chapter) and used by the kernel itself as timestamps for files and network packets</p></li><li class="calibre12"><p class="docText1">Maintaining timers  mechanisms that are able to notify the kernel (see the later section "<a class="pcalibre5 docLink pcalibre1" href="understandlk-CHP-6-SECT-5.html#understandlk-CHP-6-SECT-5">Software Timers and Delay Functions</a>") or a user program (see the later sections "<a class="pcalibre5 docLink pcalibre1" href="understandlk-CHP-6-SECT-6.html#understandlk-CHP-6-SECT-6.3">The setitimer( ) and alarm( ) System Calls</a>" and "System Calls for POSIX Timers") that a certain interval of time has elapsed</p></li></ul>
<p class="docText1">Timing measurements are performed by several hardware circuits based on fixed-frequency oscillators and counters. This chapter consists of four different parts. The first two sections describe the hardware devices that underly timing and give an overall picture of Linux timekeeping architecture. The following sections describe the main time-related duties of the kernel: implementing CPU time sharing, updating system time and resource usage statistics, and maintaining software timers. The last section discusses the system calls related to timing measurements and the corresponding service routines.</p>
<a href="31071535.html"><img src="pixel.jpg" alt="" border="0" class="calibre19"/></a>
<br class="calibre7"/>

</div>

{% endraw %}

