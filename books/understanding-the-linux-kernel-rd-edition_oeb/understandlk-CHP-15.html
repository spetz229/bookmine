---
layout: page
title: "Understanding the Linux Kernel, 3rd Edition"
prev: understandlk-CHP-14-SECT-5.html
next: understandlk-CHP-15-SECT-1.html
book_path: books/understanding-the-linux-kernel-rd-edition_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<a name="understandlk-CHP-15"></a>
<div class="calibre23"></div><h2 class="docPrefaceTitle">Chapter 15. The Page Cache</h2>
<p class="docText1">As already mentioned in the section "<a class="pcalibre5 docLink pcalibre1" href="understandlk-CHP-12-SECT-1.html#understandlk-CHP-12-SECT-1.1">The Common File Model</a>" in <a class="pcalibre5 docLink pcalibre1" href="understandlk-CHP-12.html#understandlk-CHP-12">Chapter 12</a>, a disk cache is a software mechanism that allows the system to keep in RAM some data that is normally stored on a disk, so that further accesses to that data can be satisfied quickly without accessing the disk.</p>
<p class="docText1">Disk caches are crucial for system performance, because repeated accesses to the same disk data are quite common. A User Mode process that interacts with a disk is entitled to ask repeatedly to read or write the same disk data. Moreover, different processes may also need to address the same disk data at different times. As an example, you may use the <i class="docEmphasis">cp</i> command to copy a text file and then invoke your favorite editor to modify it. To satisfy your requests, the command shell will create two different processes that access the same file at different times.</p>
<p class="docText1">We have already encountered other disk caches<a name="IDX-CHP-15-3749"></a> 
 in <a class="pcalibre5 docLink pcalibre1" href="understandlk-CHP-12.html#understandlk-CHP-12">Chapter 12</a>: the dentry cache<a name="IDX-CHP-15-3750"></a> 
, which stores dentry objects representing filesystem pathnames, and the inode cache<a name="IDX-CHP-15-3751"></a> 
, which stores inode objects representing disk inodes. Notice, however, that dentry objects and inode objects are not mere buffers storing the contents of some disk blocks; thus, the dentry cache and the inode cache are rather peculiar as disk caches.</p>
<p class="docText1">This chapter deals with the page cache<a name="IDX-CHP-15-3752"></a> 
, which is a disk cache working on whole pages of data. We introduce the page cache in the first section. Then, we discuss in the section "<a class="pcalibre5 docLink pcalibre1" href="understandlk-CHP-15-SECT-2.html#understandlk-CHP-15-SECT-2">Storing Blocks in the Page Cache</a>" how the page cache can be used to retrieve single blocks of data (for instance, superblocks and inodes); this feature is crucial to speed up the VFS and the disk-based filesystems. Next, we describe in the section "<a class="pcalibre5 docLink pcalibre1" href="understandlk-CHP-15-SECT-3.html#understandlk-CHP-15-SECT-3">Writing Dirty Pages to Disk</a>" how the dirty pages in the page cache are written back to disk. Finally, we mention in the last section "<a class="pcalibre5 docLink pcalibre1" href="understandlk-CHP-15-SECT-4.html#understandlk-CHP-15-SECT-4">The sync( ), fsync( ), and fdatasync( ) System Calls</a>" some system calls that allow a user to flush the contents of the page cache so as to update the disk contents.</p>
<a href="31071535.html"><img src="pixel.jpg" alt="" border="0" class="calibre19"/></a>
<br class="calibre7"/>

</div>

{% endraw %}

