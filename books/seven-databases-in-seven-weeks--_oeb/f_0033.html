---
layout: page
title: "Seven Databases in Seven Weeks (for Greg Kennedy)"
prev: f_0032.html
next: f_0034.html
book_path: books/seven-databases-in-seven-weeks--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>

<h2 id="N150A5" class="calibre18">4.5 Wrap-Up</h2>
<p id="N150A9" class="calibre5">
HBase is a juxtaposition of simplicity and complexity.  The data storage model is pretty straightforward, with a few built-in schema constraints.  It doesn’t help, though, that many terms are overloaded with baggage from the relational world (for example, words like <span class="calibre6">table</span> and <span class="calibre6">column</span>).  Most of HBase schema design is deciding on the performance characteristics of your tables and columns.
    </p>
<h3 class="calibre20">HBase’s Strengths</h3>
<p id="N150B6" class="calibre5">
Noteworthy features of HBase include a robust scale-out architecture and built-in versioning and compression capabilities.  HBase’s built-in versioning capability can be a compelling feature for certain use cases.  Keeping the version history of wiki pages is a crucial feature for policing and maintenance, for instance.  By choosing HBase, we don’t have to take any special steps to implement page history—we get it for free.
      </p>
<p id="N150BE" class="calibre5">
On the performance front, HBase is meant to scale out.  If you have huge amounts of data, measured in many gigabytes or terabytes, HBase may be for you.  HBase is rack-aware, replicating data within and between datacenter racks so that node failures can be handled gracefully and quickly.
      </p>
<p id="N150C1" class="calibre5">
        The HBase community is pretty awesome.  There’s almost always somebody on the IRC channel<a id="FNPTR-35" href="#FOOTNOTE-35">[35]</a> or mailing lists<a id="FNPTR-36" href="#FOOTNOTE-36">[36]</a> ready to help with questions and get you pointed in the right direction.  Although a number of high-profile companies use HBase for their projects, there is no corporate HBase service provider.  This means the people of the HBase community do it for the love of the project and the common good.
      </p>
<h3 class="calibre20">HBase’s Weaknesses</h3>
<p id="N150E2" class="calibre5">
Although HBase is designed to scale out, it doesn’t scale down.  
The HBase community seems to agree that five nodes is the minimum number you’ll want to use.  
Because it’s designed to be big, it can also be harder to administrate.  Solving small problems isn’t what HBase is about, and nonexpert documentation is tough to come by, which steepens the learning curve.
      </p>
<p id="N150EE" class="calibre5">
Additionally, HBase is almost never deployed alone.  Rather, it’s part of an ecosystem of scale-ready pieces.  These include Hadoop (an implementation of Google’s MapReduce), the Hadoop distributed file system (HDFS), and Zookeeper (a headless service that aids internode coordination).  This ecosystem is both a strength and a weakness; it simultaneously affords a great deal of architectural sturdiness but also encumbers the administrator with the burden of maintaining it.
      </p>
<p id="N15104" class="calibre5">
One noteworthy characteristic of HBase is that it doesn’t offer any sorting or indexing capabilities aside from the row keys.  Rows are kept in sorted order by their row keys, but no such sorting is done on any other field, such as column names and values.  So, if you want to find rows by something other than their key, you need to scan the table or maintain your own index.
      </p>
<p id="N15107" class="calibre5">
Another missing concept is datatypes.  All field values in HBase are treated as uninterpreted arrays of bytes.  There is no distinction between, say, an integer value, a string, and a date.  They’re all bytes to HBase, so it’s up to your application to interpret the bytes.
</p>
<h3 class="calibre20">HBase on CAP</h3>
<p id="N15116" class="calibre5">
With respect to CAP, HBase is decidedly CP.  HBase makes strong consistency guarantees.  If a client succeeds in writing a value, other clients will receive the updated value on the next request.  Some databases, like Riak, allow you to tweak the CAP equation on a per-operation basis.  Not so with HBase.  In the face of reasonable amounts of partitioning—for example, a node failing—HBase will remain available, shunting the responsibility off to other nodes in the cluster.  However, in the pathological example, where only one node is left alive, HBase has no choice but to refuse requests.
      </p>
<p id="N15123" class="calibre5">
The CAP discussion gets a little more complex when you introduce cluster-to-cluster replication, an advanced feature we didn’t cover in this chapter.  A typical multicluster setup could have clusters separated geographically by some distance.  In this case, for a given column family, one cluster is the system of record, while the other clusters merely provide access to the replicated data.  This system is <span class="calibre6">eventually consistent</span> since the replication clusters will serve up the most recent values they’re aware of, which may not be the most recent values in the master cluster.
      </p>
<h3 class="calibre20">Parting Thoughts</h3>
<p id="N1512D" class="calibre5">
As one of the first nonrelational databases we had ever encountered, HBase was quite a challenge for us.  The terminology can be deceptively reassuring, and the installation and configuration are not for the faint of heart.  On the plus side, some of the features HBase offers, such as versioning and compression,  are quite unique.  These aspects can make HBase quite appealing for solving certain problems.  And of course, it scales out to many nodes of commodity hardware quite well.  All in all, HBase—like a nail gun—is a pretty big tool, so watch your thumbs.
     </p>

<div class="footnotes">
<h4 class="calibre21">Footnotes</h4>
<table cellspacing="3" class="table-of-contents">
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-26" href="f_0029.html#FNPTR-26">[26]</a>
</td>
<td class="calibre9">
<p id="N13C05" class="calibre5">
<a href="http://research.google.com/archive/bigtable.html">http://research.google.com/archive/bigtable.html</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-27" href="f_0031.html#FNPTR-27">[27]</a>
</td>
<td class="calibre9">
<p id="N14598" class="calibre5">
<a href="http://dumps.wikimedia.org">http://dumps.wikimedia.org</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-28" href="f_0031.html#FNPTR-28">[28]</a>
</td>
<td class="calibre9">
<p id="N145A1" class="calibre5">
<a href="http://dumps.wikimedia.org/enwiki/latest/enwiki-latest-pages-articles.xml.bz2">http://dumps.wikimedia.org/enwiki/latest/enwiki-latest-pages-articles.xml.bz2</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-29" href="f_0031.html#FNPTR-29">[29]</a>
</td>
<td class="calibre9">
<p id="N145A7" class="calibre5">
<a href="http://dumps.wikimedia.org/enwiktionary/latest/enwiktionary-latest-pages-articles.xml.bz2">http://dumps.wikimedia.org/enwiktionary/latest/enwiktionary-latest-pages-articles.xml.bz2</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-30" href="f_0031.html#FNPTR-30">[30]</a>
</td>
<td class="calibre9">
<p id="N14B94" class="calibre5">
<a href="http://explore.data.gov/Health-and-Nutrition/MyPyramid-Food-Raw-Data/b978-7txq">http://explore.data.gov/Health-and-Nutrition/MyPyramid-Food-Raw-Data/b978-7txq</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-31" href="f_0032.html#FNPTR-31">[31]</a>
</td>
<td class="calibre9">
<p id="N14E8D" class="calibre5">
<a href="http://aws.amazon.com/">http://aws.amazon.com/</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-32" href="f_0032.html#FNPTR-32">[32]</a>
</td>
<td class="calibre9">
<p id="N14E93" class="calibre5">
<a href="http://aws.amazon.com/ec2/">http://aws.amazon.com/ec2/</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-33" href="f_0032.html#FNPTR-33">[33]</a>
</td>
<td class="calibre9">
<p id="N14E99" class="calibre5">
<a href="https://console.aws.amazon.com/ec2/#s=Instances">https://console.aws.amazon.com/ec2/#s=Instances</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-34" href="f_0032.html#FNPTR-34">[34]</a>
</td>
<td class="calibre9">
<p id="N14ED9" class="calibre5">
<a href="http://incubator.apache.org/whirr/">http://incubator.apache.org/whirr/</a>
</p>
</td>
</tr>
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-35" href="#FNPTR-35">[35]</a>
</td>
<td class="calibre9">
<p id="N150D3" class="calibre5">
<code class="cf3">irc://irc.freenode.net/#hbase</code>
</p>
</td>
</tr>
<tr valign="top" class="calibre14">
<td class="footnote-number">
<a id="FOOTNOTE-36" href="#FNPTR-36">[36]</a>
</td>
<td class="calibre9">
<p id="N150D9" class="calibre5">
<a href="http://hbase.apache.org/mail-lists.html">http://hbase.apache.org/mail-lists.html</a>
</p>
</td>
</tr>
</table>
</div>
<div class="copyright">Copyright © 2012, The Pragmatic Bookshelf.</div>




<script src="scripts/book_local.js" type="text/javascript" class="calibre3"/>
</div>

{% endraw %}

