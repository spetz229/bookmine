---
layout: page
title: "Real World Haskell, 1st Edition"
prev: deftypes_split_001.html
next: deftypes_alias.html
book_path: books/real-world-haskell-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>

    <a name="toppage" class="calibre5" id="toppage"></a>
    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="sfbody">
      <tr valign="top" class="calibre6">
        <td class="calibre7">
          <a name="MainContent" class="calibre5" id="MainContent"></a>
          <table width="95%" class="sfbody">
            <tr class="calibre6">
              <td class="v">
                <!--Copyright (c) 2002 Safari Tech Books Online-->
                <table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody">
                  <tr class="calibre6">
                    <td valign="middle" class="v1" height="5">
                      <img src="pixel.gif" alt="" border="0" class="calibre8"/>
                    </td>
                  </tr>
                  <tr class="calibre6">
                    <td valign="middle" class="v1">
                      <table cellpadding="0" cellspacing="0" border="0" width="100%" class="sfbody">
                        <tr class="calibre6">
                          <td class="v"><span class="calibre9"> </span>
                   
                  <span class="calibre9">   </span>
             <span class="calibre9"> </span></td>
                        </tr>
                      </table>
                    </td>
                    <td class="v1"/>
                    <td valign="middle" class="v2"><a href="21061538.html" class="calibre13"><img src="btn_next_.gif" alt="Next" border="0" class="calibre26"/></a> 
           
          <span class="calibre9"><a target="_self" href="deftypes_split_000.html" title="Previous section" class="calibre13"><img border="0" src="btn_prev.gif" alt="Previous section" id="btn_prev" class="calibre14"/></a></span>
				
				 
				
				<span class="calibre9"><a target="_self" href="deftypes_alias.html" title="Next section" class="calibre13"><img border="0" src="btn_next.gif" alt="Next section" id="btn_next" class="calibre14"/></a></span></td>
                  </tr>
                </table>
                <div id="section" class="calibre15">
                  <table width="100%" border="0" cellspacing="0" cellpadding="0" class="sfbody1">
                    <tr class="calibre16">
                      <td valign="top" class="v3">Safari IT Books Language Constructs Functional Programming Haskell Safari IT Books Programming Programming Programming Bryan O'Sullivan  Donald Bruce Stewart  John Goerzen  O'Reilly Media, Inc. Real World Haskell, 1st Edition<a name="deftypes_data" class="calibre27" id="deftypes_data"></a><h3 id="643999-810" class="docSection1Title">3.1. Defining a New Data Type</h3><a name="x_C4" class="calibre27" id="x_C4"></a><p class="docText">Although<a name="ch03-datatypes001" class="calibre27" id="ch03-datatypes001"></a><a name="ch03-types0001" class="calibre27" id="ch03-types0001"></a><a name="ch03-typesdefining" class="calibre27" id="ch03-typesdefining"></a> lists and tuples are useful, we'll often want to construct
    new data types of our own. This allows us to add structure to the values
    in our programs. Instead of using an anonymous tuple, we can give a
    collection of related values a name and a distinct type. Defining our own
    types also improves the type safety of our code: Haskell will not allow us
    to accidentally mix values of two types that are structurally similar but
    have different names.</p><a name="x_Cf" class="calibre27" id="x_Cf"></a><p class="docText">For motivation, we'll consider a few kinds of data that a
    small online bookstore might need to manage. We won't make any attempt at
    complete or realistic data definitions, but at least we're tying them to
    the real world.</p><a name="x_Df" class="calibre27" id="x_Df"></a><p class="docText">We define a new data type using <a name="I_indexterm3_d1e5588" class="calibre27" id="I_indexterm3_d1e5588"></a>the <tt class="calibre34">data</tt> keyword:</p><pre class="calibre39">-- file: ch03/BookStore.hs
data BookInfo = Book Int String [String]
                deriving (Show)</pre><br class="calibre48"/>
<a name="x_D4" class="calibre27" id="x_D4"></a><p class="docText">BookInfo after the <tt class="calibre34">data</tt> keyword
    is the name of our new type. We call BookInfo a
    <span class="docEmphasis">type constructor</span>. <a name="I_indexterm3_d1e5610" class="calibre27" id="I_indexterm3_d1e5610"></a>Once we define a type, we will use its type constructor to
    refer to it. As we've already mentioned, a type name, and hence a type
    constructor, must start with a capital letter.</p><a name="x_pB1" class="calibre27" id="x_pB1"></a><p class="docText">The <tt class="calibre34">Book</tt> that follows is the name of
    the<a name="I_indexterm3_d1e5619" class="calibre27" id="I_indexterm3_d1e5619"></a> <span class="docEmphasis">value constructor</span> (sometimes called a
    data constructor). We use this to create a value of the
    <tt class="calibre34">BookInfo</tt> type. A value constructor's name must also start
    with a capital letter.</p><a name="x_Ef" class="calibre27" id="x_Ef"></a><p class="docText">After <tt class="calibre34">Book</tt>, the <tt class="calibre34">Int</tt>,
    <tt class="calibre34">String</tt>, and <tt class="calibre34">[String]</tt> that follow are <a name="I_indexterm3_d1e5643" class="calibre27" id="I_indexterm3_d1e5643"></a>the <span class="docEmphasis">components</span> of the type. A component
    serves the same purpose in Haskell as a field in a <a name="I_indexterm3_d1e5651" class="calibre27" id="I_indexterm3_d1e5651"></a><a name="I_indexterm3_d1e5654" class="calibre27" id="I_indexterm3_d1e5654"></a><a name="I_indexterm3_d1e5657" class="calibre27" id="I_indexterm3_d1e5657"></a>structure or class would in another language: it's a
    "slot" where we keep a value. (We'll often refer to
    components as fields.)</p><a name="x_Ff" class="calibre27" id="x_Ff"></a><p class="docText">In this example, the <tt class="calibre34">Int</tt> represents a book's
    identifier (e.g., in a stock database), T represents its title, and
    <tt class="calibre34">[String]</tt> represents the names of its authors.</p><a name="x_Gf" class="calibre27" id="x_Gf"></a><p class="docText">To make the link to a concept we've already seen, the
    BookInfo type contains the same components as a 3-tuple of
    type <tt class="calibre34">(Int, String, [String])</tt>, but it has a distinct type. We
    can't accidentally (or deliberately) use one in a context where the other
    is expected. For instance, a bookstore is also likely to carry
    magazines:</p><pre class="calibre39">-- file: ch03/BookStore.hs
data MagazineInfo = Magazine Int String [String]
                    deriving (Show)</pre><br class="calibre48"/>
<a name="x_qB1" class="calibre27" id="x_qB1"></a><p class="docText">Even though this <tt class="calibre34">MagazineInfo</tt> type has the
    same structure as our <tt class="calibre34">BookInfo</tt> type, Haskell treats the types
    as distinct because their type and value constructors have different
    names.</p><a name="deftypes_datad1e5757" class="calibre27" id="deftypes_datad1e5757"></a><div class="docNote"><p class="docNormalTitle">NOTE</p><p class="calibre37"><a name="x_E4" class="calibre27" id="x_E4"></a></p><p class="docText">We'll explain the full meaning of <tt class="calibre34">deriving
      (Show)</tt> later, in <a class="docLink" href="typeclasses_wellknown.html#typeclasses_wellknown_show">Section 6.4.1</a>.
      For now, it's enough to know that we need to tack this onto a type
      declaration so that <i class="docEmphasis">ghci</i> will
      automatically know how to print a value of this type.</p></div><a name="x_F4" class="calibre27" id="x_F4"></a><p class="docText">We can create a new value of type <tt class="calibre34">BookInfo</tt> by
    treating <i class="docEmphasis">Book</i> as a function and
    applying it with arguments of types <tt class="calibre34">Int</tt>, <tt class="calibre34">String</tt>,
    and <tt class="calibre34">[String]</tt>:</p><pre class="calibre39">-- file: ch03/BookStore.hs
myInfo = Book 9780135072455 "Algebra of Programming"
         ["Richard Bird", "Oege de Moor"]</pre><br class="calibre48"/>
<a name="x_G4" class="calibre27" id="x_G4"></a><p class="docText">Once we define a type, we can experiment with <a name="I_indexterm3_d1e5725" class="calibre27" id="I_indexterm3_d1e5725"></a>it in <i class="docEmphasis">ghci</i>. We begin by
    using the <i class="docEmphasis">:load</i> command<a name="I_indexterm3_d1e5737" class="calibre27" id="I_indexterm3_d1e5737"></a> to load our source file:</p><pre class="calibre39">ghci&gt; <b class="calibre40">:load BookStore</b>
[1 of 1] Compiling Main             ( BookStore.hs, interpreted )
Ok, modules loaded: Main.
</pre><a name="x_H4" class="calibre27" id="x_H4"></a><p class="docText">Remember the <tt class="calibre34">myInfo</tt> variable that we defined
    in our source file? Here it is:</p><pre class="calibre39">ghci&gt; <b class="calibre40">myInfo</b>
Book 9780135072455 "Algebra of Programming" ["Richard Bird","Oege de Moor"]
ghci&gt; <b class="calibre40">:type myInfo</b>
myInfo :: BookInfo</pre><a name="x_I4" class="calibre27" id="x_I4"></a><p class="docText">We can construct new values interactively in <i class="docEmphasis">ghci</i>, too:</p><pre class="calibre39">ghci&gt; <b class="calibre40">Book 0 "The Book of Imaginary Beings" ["Jorge Luis Borges"]</b>
Book 0 "The Book of Imaginary Beings" ["Jorge Luis Borges"]
</pre><a name="x_AL" class="calibre27" id="x_AL"></a><p class="docText">The <i class="docEmphasis">ghci</i>
    command<a name="I_indexterm3_d1e5779" class="calibre27" id="I_indexterm3_d1e5779"></a> <i class="docEmphasis">:type</i> lets us see what
    the type of an expression is:</p><pre class="calibre39">ghci&gt; <b class="calibre40">:type Book 1 "Cosmicomics" ["Italo Calvino"]</b>
Book 1 "Cosmicomics" ["Italo Calvino"] :: BookInfo
</pre><a name="x_rB1" class="calibre27" id="x_rB1"></a><p class="docText">Remember that if we want to define a new variable inside
    <i class="docEmphasis">ghci</i>, the syntax is slightly different
    from that of a Haskell source file—we need to put a <tt class="calibre34">let</tt> in front:</p><pre class="calibre39">        ghci&gt; 
        <b class="calibre40">let cities = Book 173 "Use of Weapons" ["Iain M. Banks"]</b></pre><a name="x_J4" class="calibre27" id="x_J4"></a><p class="docText">To find out more about a type, we can use some of <i class="docEmphasis">ghci</i>'s browsing capabilities. The <i class="docEmphasis">:info</i> command gets <i class="docEmphasis">ghci</i> to tell us everything it knows about a
    name:</p><pre class="calibre39">ghci&gt; <b class="calibre40">:info BookInfo</b>
data BookInfo = Book Int String [String]
  	-- Defined at BookStore.hs:4:5-12
instance Show BookInfo -- Defined at BookStore.hs:4:5-12
</pre><a name="x_K4" class="calibre27" id="x_K4"></a><p class="docText">We can also find out why we use <i class="docEmphasis">Book</i> to construct a new value of type
    <tt class="calibre34">BookStore</tt>:</p><pre class="calibre39">ghci&gt; <b class="calibre40">:type Book</b>
Book :: Int -&gt; String -&gt; [String] -&gt; BookInfo
</pre><a name="x_L4" class="calibre27" id="x_L4"></a><p class="docText">We can treat a value constructor as just another
    function—one that happens to create and return a new value of the type we
    desire.</p><a name="deftypes_datad1e5907" class="calibre27" id="deftypes_datad1e5907"></a><h4 id="title-IDALPFG" class="docSection1Title">3.1.1. Naming Types and Values</h4><a name="x_Hf" class="calibre27" id="x_Hf"></a><p class="docText">When we <a name="I_indexterm3_d1e5845" class="calibre27" id="I_indexterm3_d1e5845"></a>introduced the type <tt class="calibre34">BookStore</tt>, we
      deliberately chose to give the type constructor <tt class="calibre34">BookStore</tt> a
      different name from the value constructor <tt class="calibre34">Book</tt>, purely to
      make it obvious which was which.</p><a name="x_If" class="calibre27" id="x_If"></a><p class="docText">However, in Haskell, the names of types and values are
      independent of each other. We use a type constructor (i.e., the type's
      name) only in a type declaration or a type signature. We use a value
      constructor only in actual code. Because these uses are distinct, there
      is no ambiguity if we give a type constructor and a value constructor
      the same name. If we are writing a type signature, we must be referring
      to a type constructor. If we are writing an expression, we must be using
      the value constructor:</p><pre class="calibre39">-- file: ch03/BookStore.hs
-- We will introduce the CustomerID type shortly.

data BookReview = BookReview BookInfo CustomerID String</pre><br class="calibre48"/>
<a name="x_Kf" class="calibre27" id="x_Kf"></a><p class="docText">This definition says that the type named
      <tt class="calibre34">BookReview</tt> has a value constructor that is also named
      <tt class="calibre34">BookReview</tt>.</p><a name="x_Lf" class="calibre27" id="x_Lf"></a><p class="docText">Not only is it <span class="docEmphasis">legal</span> for a value
      constructor to have the same name as its type constructor, it's
      <span class="docEmphasis">normal</span>. You'll see this all the time in regular
      Haskell code.</p>
<ul class="calibre18"></ul></td>
                    </tr>
                  </table>
                  <table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody1">
                    <tr class="calibre16">
                      <td valign="middle" class="v3" height="5">
                        <img src="pixel.gif" alt="" border="0" class="calibre32"/>
                      </td>
                    </tr>
                    <tr class="calibre16">
                      <td valign="middle" class="v3">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%" class="sfbody1">
                          <tr class="calibre16">
                            <td class="v5"><span class="calibre33"> </span>
                   
                  <span class="calibre33">   </span>
             <span class="calibre33"> </span></td>
                          </tr>
                        </table>
                      </td>
                      <td class="v3"/>
                      <td valign="middle" class="v6"><a href="21061538.html" class="calibre2"><img src="btn_next_.gif" alt="Next" border="0" class="calibre31"/></a> 
           
          <span class="calibre33"><a target="_self" href="deftypes_split_000.html" title="Previous section" class="calibre2"><img border="0" src="btn_prev.gif" alt="Previous section" id="btn_prev" class="calibre17"/></a></span>
				
				 
				
				<span class="calibre33"><a target="_self" href="deftypes_alias.html" title="Next section" class="calibre2"><img border="0" src="btn_next.gif" alt="Next section" id="btn_next" class="calibre17"/></a></span></td>
                    </tr>
                  </table>
                  <table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody1">
                    <tr class="calibre16">
                      <td valign="top" class="v6">
                        <span class="calibre33"></span>
                      </td>
                    </tr>
                  </table>
                </div>
                <!--IP User 2-->
              </td>
            </tr>
          </table>
        </td>
        <td class="calibre7">
                         
                      </td>
      </tr>
      <tr class="calibre6">
        <td colspan="3" valign="bottom" class="calibre7">
          <br class="calibre20"/>
          <p class="v4"></p>
          <br class="calibre20"/>
        </td>
      </tr>
    </table>
  </div>

{% endraw %}

