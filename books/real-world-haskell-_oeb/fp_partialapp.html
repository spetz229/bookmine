---
layout: page
title: "Real World Haskell, 1st Edition"
prev: fp_anonymous.html
next: fp_aspattern.html
book_path: books/real-world-haskell-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>

    <a name="toppage" class="calibre5" id="toppage"></a>
    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="sfbody">
      <tr valign="top" class="calibre6">
        <td class="calibre7">
          <a name="MainContent" class="calibre5" id="MainContent"></a>
          <table width="95%" class="sfbody">
            <tr class="calibre6">
              <td class="v">
                <!--Copyright (c) 2002 Safari Tech Books Online-->
                <table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody">
                  <tr class="calibre6">
                    <td valign="middle" class="v1" height="5">
                      <img src="pixel.gif" alt="" border="0" class="calibre8"/>
                    </td>
                  </tr>
                  <tr class="calibre6">
                    <td valign="middle" class="v1">
                      <table cellpadding="0" cellspacing="0" border="0" width="100%" class="sfbody">
                        <tr class="calibre6">
                          <td class="v"><span class="calibre9"> </span>
                   
                  <span class="calibre9">   </span>
             <span class="calibre9"> </span></td>
                        </tr>
                      </table>
                    </td>
                    <td class="v1"/>
                    <td valign="middle" class="v2"> 
           
          <span class="calibre9"><a target="_self" href="fp_anonymous.html" title="Previous section" class="calibre13"><img border="0" src="btn_prev.gif" alt="Previous section" id="btn_prev" class="calibre14"/></a></span>
				
				 
				
				<span class="calibre9"><a target="_self" href="fp_aspattern.html" title="Next section" class="calibre13"><img border="0" src="btn_next.gif" alt="Next section" id="btn_next" class="calibre14"/></a></span></td>
                  </tr>
                </table>
                <div id="section" class="calibre15">
                  <table width="100%" border="0" cellspacing="0" cellpadding="0" class="sfbody1">
                    <tr class="calibre16">
                      <td valign="top" class="v3">Safari IT Books Language Constructs Functional Programming Haskell Safari IT Books Programming Programming Programming Bryan O'Sullivan  Donald Bruce Stewart  John Goerzen  O'Reilly Media, Inc. Real World Haskell, 1st Edition<a name="fp_partialapp" class="calibre27" id="fp_partialapp"></a><h3 id="title-IDADAIUD" class="docSection1Title">4.8. Partial Function Application and Currying</h3><a name="x_o9" class="calibre27" id="x_o9"></a><p class="docText">You may wonder why the <tt class="calibre34">-&gt;</tt> arrow<a name="I_indexterm4_d1e11663" class="calibre27" id="I_indexterm4_d1e11663"></a> is used for what seems to be two purposes in the type
    signature of a function:</p><pre class="calibre39">ghci&gt; <b class="calibre40">:type dropWhile</b>
dropWhile :: (a -&gt; Bool) -&gt; [a] -&gt; [a]
</pre><a name="x_p9" class="calibre27" id="x_p9"></a><p class="docText">It looks like the <tt class="calibre34">-&gt;</tt> is separating the
    arguments to <i class="docEmphasis">dropWhile</i> from each
    other, but that it also separates the arguments from the return type. Iin
    fact <i class="docEmphasis">-&gt;</i> has only one meaning: it
    denotes a function that takes an argument of the type on the left and
    returns a value of the type on the right.</p><a name="x_q9" class="calibre27" id="x_q9"></a><p class="docText">The implication here is very important. In Haskell,
    <span class="docEmphasis">all functions take only one argument</span>. While <i class="docEmphasis">dropWhile</i> <span class="docEmphasis">looks</span> like a
    function that takes two arguments, it is actually a function of one
    argument, which returns a function that takes one argument. Here's a
    perfectly valid Haskell expression:</p><pre class="calibre39">ghci&gt; <b class="calibre40">:module +Data.Char</b>ghci&gt; <b class="calibre40">:type dropWhile isSpace</b>
dropWhile isSpace :: [Char] -&gt; [Char]</pre><a name="x_s9" class="calibre27" id="x_s9"></a><p class="docText">Well, <span class="docEmphasis">that</span> looks useful. The value
    <tt class="calibre34">dropWhile isSpace</tt> is a function that strips leading
    whitespace from a string. How is this useful? As one example, we can use
    it as an argument to a higher order function:</p><pre class="calibre39">ghci&gt; <b class="calibre40">map (dropWhile isSpace) [" a","f","   e"]</b>
["a","f","e"]
</pre><a name="x_t9" class="calibre27" id="x_t9"></a><p class="docText">Every time we supply an argument to a function, we can
    "chop" an element off the front of its type signature. Let's
    take <i class="docEmphasis">zip3</i> as an example to see what
    we mean; this is a function that zips three lists into a list of
    three-tuples:</p><pre class="calibre39">ghci&gt; <b class="calibre40">:type zip3</b>
zip3 :: [a] -&gt; [b] -&gt; [c] -&gt; [(a, b, c)]
ghci&gt; <b class="calibre40">zip3 "foo" "bar" "quux"</b>
[('f','b','q'),('o','a','u'),('o','r','u')]</pre><a name="x_u9" class="calibre27" id="x_u9"></a><p class="docText">If we apply <i class="docEmphasis">zip3</i> with
    just one argument, we get a function that accepts two arguments. No matter
    what arguments we supply to this compound function, its first argument
    will always be the fixed value we specified:</p><pre class="calibre39">ghci&gt; <b class="calibre40">:type zip3 "foo"</b>
zip3 "foo" :: [b] -&gt; [c] -&gt; [(Char, b, c)]
ghci&gt; <b class="calibre40">let zip3foo = zip3 "foo"</b>
ghci&gt; <b class="calibre40">:type zip3foo</b>
zip3foo :: [b] -&gt; [c] -&gt; [(Char, b, c)]
ghci&gt; <b class="calibre40">(zip3 "foo") "aaa" "bbb"</b>
[('f','a','b'),('o','a','b'),('o','a','b')]
ghci&gt; <b class="calibre40">zip3foo "aaa" "bbb"</b>
[('f','a','b'),('o','a','b'),('o','a','b')]
ghci&gt; <b class="calibre40">zip3foo [1,2,3] [True,False,True]</b>
[('f',1,True),('o',2,False),('o',3,True)]</pre><a name="x_v9" class="calibre27" id="x_v9"></a><p class="docText">When we pass fewer arguments to a function than the
    function can accept, we<a name="I_indexterm4_d1e11779" class="calibre27" id="I_indexterm4_d1e11779"></a><a name="I_indexterm4_d1e11782" class="calibre27" id="I_indexterm4_d1e11782"></a> call it <span class="docEmphasis">partial application</span> of the
    function—we're applying the function to only some of its <span class="docEmphasis">arguments</span>.</p><a name="x_w9" class="calibre27" id="x_w9"></a><p class="docText">In the previous example, we have a partially applied
    function, <tt class="calibre34">zip3 "foo"</tt>, and a new function, <i class="docEmphasis">zip3foo</i>. We can see that the type signatures of
    the two and their behavior are identical.</p><a name="x_x9" class="calibre27" id="x_x9"></a><p class="docText">This applies just as well if we fix two arguments, giving
    us a function of just one <span class="docEmphasis">argument</span>:</p><pre class="calibre39">ghci&gt; <b class="calibre40">let zip3foobar = zip3 "foo" "bar"</b>ghci&gt; <b class="calibre40">:type zip3foobar</b>
zip3foobar :: [c] -&gt; [(Char, Char, c)]
ghci&gt; <b class="calibre40">zip3foobar "quux"</b>
[('f','b','q'),('o','a','u'),('o','r','u')]
ghci&gt; <b class="calibre40">zip3foobar [1,2]</b>
[('f','b',1),('o','a',2)]</pre><a name="x_y9" class="calibre27" id="x_y9"></a><p class="docText">Partial function application lets us avoid writing
    tiresome throwaway functions. It's often more useful for this purpose than
    the anonymous functions we introduced earlier in this chapter in <a class="docLink" href="fp_anonymous.html#fp_anonymous">Section 4.7</a>. Looking back at the <i class="docEmphasis">isInAny</i> function we defined there, here's how
    we'd use a partially applied function instead of a named helper function
    or a lambda:</p><pre class="calibre39">-- file: ch04/Partial.hs
isInAny3 needle haystack = any (isInfixOf needle) haystack</pre><br class="calibre48"/>
<a name="x_z9" class="calibre27" id="x_z9"></a><p class="docText">Here, the expression <tt class="calibre34">isInfixOf needle</tt> is the
    partially applied function. We're taking the function <i class="docEmphasis">isInfixOf</i> and "fixing" its first
    argument to be the <span class="docMonofont">needle</span> variable from our parameter
    list. This gives us a partially applied function that has exactly the same
    type and behavior as the helper and lambda in our earlier
    definitions.</p><a name="x_HD1" class="calibre27" id="x_HD1"></a><p class="docText">Partial function application is <a name="I_indexterm4_d1e11853" class="calibre27" id="I_indexterm4_d1e11853"></a>named <span class="docEmphasis">currying</span>, after the logician
    Haskell Curry (for whom the Haskell language is named).</p><a name="x_eL" class="calibre27" id="x_eL"></a><p class="docText">As another example of currying in use, let's return to the
    list-summing function we wrote in <a class="docLink" href="fp_loop_split_000.html#fp_foldl">Section 4.6.6</a>:</p><pre class="calibre39">-- file: ch04/Sum.hs
niceSum :: [Integer] -&gt; Integer
niceSum xs = foldl (+) 0 xs</pre><br class="calibre48"/>
<a name="x_fL" class="calibre27" id="x_fL"></a><p class="docText">We don't need to fully apply <i class="docEmphasis">foldl</i>; we can omit the list
    <span class="docMonofont">xs</span> from both the parameter list and the parameters to
    <i class="docEmphasis">foldl</i>, and we'll end up with a more
    compact function that has the same type:</p><pre class="calibre39">-- file: ch04/Sum.hs
nicerSum :: [Integer] -&gt; Integer
nicerSum = foldl (+) 0</pre><br class="calibre48"/>
<a name="fp_partialappd1e11945" class="calibre27" id="fp_partialappd1e11945"></a><h4 id="title-IDAEIIUD" class="docSection1Title">4.8.1. Sections</h4><a name="x_AA" class="calibre27" id="x_AA"></a><p class="docText">Haskell<a name="I_indexterm4_d1e11885" class="calibre27" id="I_indexterm4_d1e11885"></a> provides a handy notational shortcut to let us write a
      partially applied function in infix style. If we enclose an operator in
      parentheses, we can supply its left or right argument inside the
      parentheses to get a partially applied function. This kind of partial
      application is called a <span class="docEmphasis">section</span>:</p><pre class="calibre39">ghci&gt; <b class="calibre40">(1+) 2</b>
3
ghci&gt; <b class="calibre40">map (*3) [24,36]</b>
[72,108]
ghci&gt; <b class="calibre40">map (2^) [3,5,7,9]</b>
[8,32,128,512]</pre><a name="x_BA" class="calibre27" id="x_BA"></a><p class="docText">If we provide the left argument inside the section, then
      calling the resulting function with one argument supplies the operator's
      right argument, and vice versa.</p><a name="x_CA" class="calibre27" id="x_CA"></a><p class="docText">Recall that we can wrap a function name in backquotes to
      use it as an infix operator. This lets us use sections with
      functions:</p><pre class="calibre39">ghci&gt; <b class="calibre40">:type (`elem` ['a'..'z'])</b>
(`elem` ['a'..'z']) :: Char -&gt; Bool
</pre><a name="x_DA" class="calibre27" id="x_DA"></a><p class="docText">The preceding definition fixes <i class="docEmphasis">elem</i>'s second argument, giving us a function
      that checks to see whether its argument is a lowercase letter:</p><pre class="calibre39">ghci&gt; <b class="calibre40">(`elem` ['a'..'z']) 'f'</b>
True
</pre><a name="x_EA" class="calibre27" id="x_EA"></a><p class="docText">Using this as an argument to <i class="docEmphasis">all</i>, we get a function that checks an entire
      string to see if it's all lowercase:</p><pre class="calibre39">ghci&gt; <b class="calibre40">all (`elem` ['a'..'z']) "Frobozz"</b>
False
</pre><a name="x_ID1" class="calibre27" id="x_ID1"></a><p class="docText">If we use this style, we can further improve the
      readability of our earlier <i class="docEmphasis">isInAny3</i>
<span class="docEmphasis">function</span>:</p><pre class="calibre39">-- file: ch04/Partial.hs
isInAny4 needle haystack = any (needle `isInfixOf`) haystack</pre><br class="calibre48"/>
<a href="21061538.html" class="calibre2"><img src="pixel.gif" alt="" border="0" class="calibre31"/></a><ul class="calibre18"></ul></td>
                    </tr>
                  </table>
                  <table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody1">
                    <tr class="calibre16">
                      <td valign="middle" class="v3" height="5">
                        <img src="pixel.gif" alt="" border="0" class="calibre32"/>
                      </td>
                    </tr>
                    <tr class="calibre16">
                      <td valign="middle" class="v3">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%" class="sfbody1">
                          <tr class="calibre16">
                            <td class="v5"><span class="calibre33"> </span>
                   
                  <span class="calibre33">   </span>
             <span class="calibre33"> </span></td>
                          </tr>
                        </table>
                      </td>
                      <td class="v3"/>
                      <td valign="middle" class="v6"> 
           
          <span class="calibre33"><a target="_self" href="fp_anonymous.html" title="Previous section" class="calibre2"><img border="0" src="btn_prev.gif" alt="Previous section" id="btn_prev" class="calibre17"/></a></span>
				
				 
				
				<span class="calibre33"><a target="_self" href="fp_aspattern.html" title="Next section" class="calibre2"><img border="0" src="btn_next.gif" alt="Next section" id="btn_next" class="calibre17"/></a></span></td>
                    </tr>
                  </table>
                  <table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody1">
                    <tr class="calibre16">
                      <td valign="top" class="v6">
                        <span class="calibre33"></span>
                      </td>
                    </tr>
                  </table>
                </div>
                <!--IP User 2-->
              </td>
            </tr>
          </table>
        </td>
        <td class="calibre7">
                         
                      </td>
      </tr>
      <tr class="calibre6">
        <td colspan="3" valign="bottom" class="calibre7">
          <br class="calibre20"/>
          <p class="v4"></p>
          <br class="calibre20"/>
        </td>
      </tr>
    </table>
  </div>

{% endraw %}

