---
layout: page
title: "Real World Haskell, 1st Edition"
prev: I_sect126_d1e49680.html
next: I_sect126_d1e49851.html
book_path: books/real-world-haskell-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>

    <a name="toppage" class="calibre5" id="toppage"></a>
    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="sfbody">
      <tr valign="top" class="calibre6">
        <td class="calibre7">
          <a name="MainContent" class="calibre5" id="MainContent"></a>
          <table width="95%" class="sfbody">
            <tr class="calibre6">
              <td class="v">
                <!--Copyright (c) 2002 Safari Tech Books Online-->
                <table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody">
                  <tr class="calibre6">
                    <td valign="middle" class="v1" height="5">
                      <img src="pixel.gif" alt="" border="0" class="calibre8"/>
                    </td>
                  </tr>
                  <tr class="calibre6">
                    <td valign="middle" class="v1">
                      <table cellpadding="0" cellspacing="0" border="0" width="100%" class="sfbody">
                        <tr class="calibre6">
                          <td class="v"><span class="calibre9"> </span>
                   
                  <span class="calibre9">   </span>
             <span class="calibre9"> </span></td>
                        </tr>
                      </table>
                    </td>
                    <td class="v1"/>
                    <td valign="middle" class="v2"><a href="21061538.html" class="calibre13"><img src="btn_next_.gif" alt="Next" border="0" class="calibre26"/></a> 
           
          <span class="calibre9"><a target="_self" href="I_sect126_d1e49680.html" title="Previous section" class="calibre13"><img border="0" src="btn_prev.gif" alt="Previous section" id="btn_prev" class="calibre14"/></a></span>
				
				 
				
				<span class="calibre9"><a target="_self" href="I_sect126_d1e49851.html" title="Next section" class="calibre13"><img border="0" src="btn_next.gif" alt="Next section" id="btn_next" class="calibre14"/></a></span></td>
                  </tr>
                </table>
                <div id="section" class="calibre15">
                  <table width="100%" border="0" cellspacing="0" cellpadding="0" class="sfbody1">
                    <tr class="calibre16">
                      <td valign="top" class="v3">Safari IT Books Language Constructs Functional Programming Haskell Safari IT Books Programming Programming Programming Bryan O'Sullivan  Donald Bruce Stewart  John Goerzen  O'Reilly Media, Inc. Real World Haskell, 1st Edition<a name="I_sect126_d1e49776" class="calibre27" id="I_sect126_d1e49776"></a><h3 id="643999-959" class="docSection1Title">26.5. Designing an API for Qualified Import</h3><a name="x_w71" class="calibre27" id="x_w71"></a><p class="docText">The public interfaces that we provide for working with
    Bloom filters are worth a little discussion:</p><pre class="calibre39">-- file: BloomFilter/Mutable.hs
module BloomFilter.Mutable
    (
      MutBloom
    , elem
    , notElem
    , insert
    , length
    , new
    ) where

import Control.Monad (liftM)
import Control.Monad.ST (ST)
import Data.Array.MArray (getBounds, newArray, readArray, writeArray)
import Data.Word (Word32)
import Prelude hiding (elem, length, notElem)

import BloomFilter.Internal (MutBloom(..))</pre><br class="calibre48"/>
<a name="x_x71" class="calibre27" id="x_x71"></a><p class="docText">We export several names that clash with names the
    <tt class="calibre34">Prelude</tt> exports. This is deliberate: we expect users of
    our modules to import them with qualified names. This reduces the burden
    on the memory of our users, as they should already be familiar with the
    <tt class="calibre34">Prelude</tt>'s <i class="docEmphasis">elem</i>, <i class="docEmphasis">notElem</i>, and <i class="docEmphasis">length</i> functions.</p><a name="x_y71" class="calibre27" id="x_y71"></a><p class="docText">When we use a module written in this style, we might
    often import it with a single-letter prefix—for instance, as <tt class="calibre34">import
    qualified BloomFilter.Mutable as M</tt>. This would allow us to write
    <i class="docEmphasis">M.length</i>, which stays compact and
    readable.</p><a name="x_z71" class="calibre27" id="x_z71"></a><p class="docText">Alternatively, we could import the module unqualified and
    import the <tt class="calibre34">Prelude</tt> while hiding the clashing names with
    <tt class="calibre34">import Prelude hiding (length)</tt>. This is much less useful, as
    it gives a reader skimming the code no local cue that she is
    <span class="docEmphasis">not</span> actually seeing the <tt class="calibre34">Prelude</tt>'s
    <i class="docEmphasis">length</i>.</p><a name="x_A81" class="calibre27" id="x_A81"></a><p class="docText">Of course, we seem to be violating this precept in our
    own module's header: we import the <tt class="calibre34">Prelude</tt> and hide
    some of the names it exports. There is a practical reason for this. We
    define a function named <i class="docEmphasis">length</i>. If we
    export this from our module without first hiding the
    <tt class="calibre34">Prelude</tt>'s <i class="docEmphasis">length</i>,
    the compiler will complain that it cannot tell whether to export our
    version of <i class="docEmphasis">length</i> or the
    <tt class="calibre34">Prelude</tt>'s.</p><a name="x_B81" class="calibre27" id="x_B81"></a><p class="docText">While we could export the fully qualified name <i class="docEmphasis">BloomFilter.Mutable.length</i> to eliminate the
    ambiguity, that seems uglier in this case. This decision has no
    consequences for someone using our module, just for ourselves as the
    authors of what ought to be a "black box," so there is little chance of
    confusion here.</p>
<ul class="calibre18"></ul></td>
                    </tr>
                  </table>
                  <table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody1">
                    <tr class="calibre16">
                      <td valign="middle" class="v3" height="5">
                        <img src="pixel.gif" alt="" border="0" class="calibre32"/>
                      </td>
                    </tr>
                    <tr class="calibre16">
                      <td valign="middle" class="v3">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%" class="sfbody1">
                          <tr class="calibre16">
                            <td class="v5"><span class="calibre33"> </span>
                   
                  <span class="calibre33">   </span>
             <span class="calibre33"> </span></td>
                          </tr>
                        </table>
                      </td>
                      <td class="v3"/>
                      <td valign="middle" class="v6"><a href="21061538.html" class="calibre2"><img src="btn_next_.gif" alt="Next" border="0" class="calibre31"/></a> 
           
          <span class="calibre33"><a target="_self" href="I_sect126_d1e49680.html" title="Previous section" class="calibre2"><img border="0" src="btn_prev.gif" alt="Previous section" id="btn_prev" class="calibre17"/></a></span>
				
				 
				
				<span class="calibre33"><a target="_self" href="I_sect126_d1e49851.html" title="Next section" class="calibre2"><img border="0" src="btn_next.gif" alt="Next section" id="btn_next" class="calibre17"/></a></span></td>
                    </tr>
                  </table>
                  <table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody1">
                    <tr class="calibre16">
                      <td valign="top" class="v6">
                        <span class="calibre33"></span>
                      </td>
                    </tr>
                  </table>
                </div>
                <!--IP User 2-->
              </td>
            </tr>
          </table>
        </td>
        <td class="calibre7">
                         
                      </td>
      </tr>
      <tr class="calibre6">
        <td colspan="3" valign="bottom" class="calibre7">
          <br class="calibre20"/>
          <p class="v4"></p>
          <br class="calibre20"/>
        </td>
      </tr>
    </table>
  </div>

{% endraw %}

