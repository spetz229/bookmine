---
layout: page
title: "Real World Haskell, 1st Edition"
prev: fp_loop_split_000.html
next: fp_anonymous.html
book_path: books/real-world-haskell-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>

<p class="calibre37"><table cellspacing="0" width="90%" border="1" cellpadding="5" class="sfbody1"><tr class="calibre16"><td class="v3"><h2 class="docSidebarTitle" id="calibre_pb_0">Exercises</h2><div class="calibre15"><ol class="docList2" type="1"><li class="calibre19"><div class="calibre15"><p class="docText">Use a fold (choosing the appropriate fold will make your
            code much simpler) to rewrite and improve upon the <i class="docEmphasis">asInt</i> function from the earlier
            section<a class="docLink" href="fp_loop_split_000.html#fp_tailrecursion">Section 4.6.1</a>.</p><pre class="calibre39">-- file: ch04/ch04.exercises.hs
asInt_fold :: String -&gt; Int</pre><br class="calibre48"/>
</div></li><li class="calibre19"><div class="calibre15"><p class="docText">Your function should behave as follows:</p><pre class="calibre39">ghci&gt; <b class="calibre40">asInt_fold "101"</b>
101
ghci&gt; <b class="calibre40">asInt_fold "-31337"</b>
-31337
ghci&gt; <b class="calibre40">asInt_fold "1798"</b>
1798</pre><br class="calibre48"/>
</div></li><li class="calibre19"><div class="calibre15"><p class="docText">Extend your function to handle the following kinds of
            exceptional conditions by calling <i class="docEmphasis">error</i>:</p><pre class="calibre39">ghci&gt; <b class="calibre40">asInt_fold ""</b>
0
ghci&gt; <b class="calibre40">asInt_fold "-"</b>
0
ghci&gt; <b class="calibre40">asInt_fold "-3"</b>
-3
ghci&gt; <b class="calibre40">asInt_fold "2.7"</b>
*** Exception: Char.digitToInt: not a digit '.'
ghci&gt; <b class="calibre40">asInt_fold "314159265358979323846"</b>
564616105916946374</pre><br class="calibre48"/>
</div></li><li class="calibre19"><div class="calibre15"><p class="docText">The <i class="docEmphasis">asInt_fold</i> function
            uses <i class="docEmphasis">error</i>, so its callers
            cannot handle errors. Rewrite the function to fix this
            problem:</p><pre class="calibre39">-- file: ch04/ch04.exercises.hs
type ErrorMessage = String
asInt_either :: String -&gt; Ei</pre><br class="calibre48"/>
<pre class="calibre39">ghci&gt; <b class="calibre40">asInt_either "33"</b>
Right 33
ghci&gt; <b class="calibre40">asInt_either "foo"</b>
Left "non-digit 'o'"</pre><br class="calibre48"/>
</div></li><li class="calibre19"><div class="calibre15"><p class="docText">The <tt class="calibre34">Prelude</tt> function <i class="docEmphasis">concat</i> <a name="I_indexterm4_d1e11442" class="calibre27" id="I_indexterm4_d1e11442"></a>concatenates a list of lists into a single list and
            has the following type:</p><pre class="calibre39">-- file: ch04/ch04.exercises.hs
concat :: [[a]] -&gt; [a]</pre><br class="calibre48"/>
</div></li><li class="calibre19"><div class="calibre15"><p class="docText">Write your own definition of <i class="docEmphasis">concat</i> using <i class="docEmphasis">foldr</i>.</p></div></li><li class="calibre19"><div class="calibre15"><p class="docText">Write your own definition of the standard <i class="docEmphasis">takeWhile</i> function, first using
            explicit recursion, and then <i class="docEmphasis">foldr</i>.</p></div></li><li class="calibre19"><div class="calibre15"><p class="docText">The <tt class="calibre34">Data.List</tt> module defines a function,
            <i class="docEmphasis">groupBy</i>, which has the
            following type:</p><pre class="calibre39">-- file: ch04/ch04.exercises.hs
groupBy :: (a -&gt; a -&gt; Bool) -&gt; [a] -&gt; [[a]]</pre><br class="calibre48"/>
</div></li><li class="calibre19"><div class="calibre15"><p class="docText">Use <i class="docEmphasis">ghci</i> to load the
            <tt class="calibre34">Data.List</tt> module and figure out what <i class="docEmphasis">groupBy</i> does, then write your own
            implementation using a fold.</p></div></li><li class="calibre19"><div class="calibre15"><p class="docText">How many of the following <tt class="calibre34">Prelude</tt>
            functions can you rewrite using list folds?</p><ul class="calibre51"><li class="calibre19"><p class="docText">
<i class="docEmphasis">any</i>
</p></li><li class="calibre19"><p class="docText">
<i class="docEmphasis">cycle</i>
</p></li><li class="calibre19"><p class="docText">
<i class="docEmphasis">words</i>
</p></li><li class="calibre19"><p class="docText">
<i class="docEmphasis">unlines</i>
</p></li></ul><p class="docText">For those functions where you can use either <i class="docEmphasis">foldl'</i> or <i class="docEmphasis">foldr</i>, which is more appropriate in
            each case?</p></div></li></ol></div></td></tr></table></p><br class="calibre20"/><a name="fp_loopd1e11588" class="calibre5" id="fp_loopd1e11588"></a><h4 id="title-IDANWKVC" class="docSection1Title">4.6.10. Further Reading</h4><a name="x_c9" class="calibre5" id="x_c9"></a><p class="docText">The article "A tutorial on the universality and
      expressiveness of fold" by Graham ) is an excellent
      and in-depth tutorial that covers folds. It includes many examples of
      how to use simple, systematic calculation techniques to turn functions
      that use explicit recursion into folds.<span class="docEmphasis">Hutton</span> (</p>
<ul class="calibre28"></ul><table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody"><tr class="calibre6"><td valign="middle" class="v1" height="5"><img src="pixel.gif" alt="" border="0" class="calibre8"/></td></tr><tr class="calibre6"><td valign="middle" class="v1"><table cellpadding="0" cellspacing="0" border="0" width="100%" class="sfbody"><tr class="calibre6"><td class="v"><span class="calibre9"> </span>
                   
                  <span class="calibre9">   </span>
             <span class="calibre9"> </span></td></tr></table></td><td class="v1"/><td valign="middle" class="v2"><a href="21061538.html" class="calibre13"><img src="btn_next_.gif" alt="Next" border="0" class="calibre26"/></a> 
           
          <span class="calibre9"><a target="_self" href="fp_lists_split_000.html" title="Previous section" class="calibre13"><img border="0" src="btn_prev.gif" alt="Previous section" id="btn_prev" class="calibre14"/></a></span>
				
				 
				
				<span class="calibre9"><a target="_self" href="fp_anonymous.html" title="Next section" class="calibre13"><img border="0" src="btn_next.gif" alt="Next section" id="btn_next" class="calibre14"/></a></span></td></tr></table><table width="100%" border="0" cellspacing="0" cellpadding="2" class="sfbody"><tr class="calibre6"><td valign="top" class="v2"><span class="calibre9"></span></td></tr></table><!--IP User 2--><td class="calibre7">
                         
                      </td><tr class="calibre6"><td colspan="3" valign="bottom" class="calibre7"><br class="calibre20"/><p class="v4"></p><br class="calibre20"/></td></tr></div>

{% endraw %}

