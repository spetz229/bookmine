---
layout: page
title: "Java Concurrency in Practice"
prev: ch05lev1sec6.html
next: part02.html
book_path: books/brian-goetz-tim-peierls-joshua-bloch-joseph-bowbeer-david-holmes-doug-lea-java-concurrency-in-practice--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<a name="ch05lev1sec7" class="calibre18" id="ch05lev1sec7"></a>
<h3 id="631532-862" class="docSection1Title">Summary of Part I</h3>
<p class="docText1"><a name="iddle1024" class="calibre18" id="iddle1024"></a><a name="iddle1025" class="calibre18" id="iddle1025"></a><a name="iddle1415" class="calibre18" id="iddle1415"></a><a name="iddle1464" class="calibre18" id="iddle1464"></a><a name="iddle1657" class="calibre18" id="iddle1657"></a><a name="iddle1658" class="calibre18" id="iddle1658"></a><a name="iddle1898" class="calibre18" id="iddle1898"></a><a name="iddle1961" class="calibre18" id="iddle1961"></a><a name="iddle2009" class="calibre18" id="iddle2009"></a><a name="iddle2352" class="calibre18" id="iddle2352"></a><a name="iddle2505" class="calibre18" id="iddle2505"></a><a name="iddle2707" class="calibre18" id="iddle2707"></a><a name="iddle2847" class="calibre18" id="iddle2847"></a><a name="iddle3074" class="calibre18" id="iddle3074"></a><a name="iddle4410" class="calibre18" id="iddle4410"></a><a name="iddle4411" class="calibre18" id="iddle4411"></a>We've covered a lot of material so far! The following "concurrency cheat sheet" summarizes the main concepts and rules presented in <a class="calibre2" href="part01.html#part01">Part I</a>.</p>
<a name="ch05sb04" class="calibre18" id="ch05sb04"></a><p class="calibre21"><table cellspacing="0" width="90%" border="1" cellpadding="5" class="calibre5"><tr class="calibre6"><td class="calibre28">
<ul class="calibre15"><li class="calibre16"><p class="docText1"><span class="docEmphasis">It's the mutable state, stupid.</span> <sup class="docFootnote"><a class="calibre2" href="#ch05fn06">[1]</a></sup></p><p class="docText1">All concurrency issues boil down to coordinating access to mutable state. The less mutable state, the easier it is to ensure thread safety.</p></li><li class="calibre16"><p class="docText1"><span class="docEmphasis">Make fields final unless they need to be mutable.</span></p></li><li class="calibre16"><p class="docText1"><span class="docEmphasis">Immutable objects are automatically thread-safe.</span></p><p class="docText1">Immutable objects simplify concurrent programming tremendously. They are simpler and safer, and can be shared freely without locking or defensive copying.</p></li><li class="calibre16"><p class="docText1"><span class="docEmphasis">Encapsulation makes it practical to manage the complexity.</span></p><p class="docText1">You could write a thread-safe program with all data stored in global variables, but why would you want to? Encapsulating data within objects makes it easier to preserve their invariants; encapsulating synchronization within objects makes it easier to comply with their synchronization policy.</p></li><li class="calibre16"><p class="docText1"><span class="docEmphasis">Guard each mutable variable with a lock.</span></p></li><li class="calibre16"><p class="docText1"><span class="docEmphasis">Guard all variables in an invariant with the same lock.</span></p></li><li class="calibre16"><p class="docText1"><span class="docEmphasis">Hold locks for the duration of compound actions.</span></p></li><li class="calibre16"><p class="docText1"><span class="docEmphasis">A program that accesses a mutable variable from multiple threads without synchronization is a broken program.</span></p></li><li class="calibre16"><p class="docText1"><span class="docEmphasis">Don't rely on clever reasoning about why you don't need to synchronize.</span></p></li><li class="calibre16"><p class="docText1"><span class="docEmphasis">Include thread safety in the design processor explicitly document that your class is not thread-safe.</span></p></li><li class="calibre16"><p class="docText1"><span class="docEmphasis">Document your synchronization policy.</span></p></li></ul>
</td></tr></table></p><p class="calibre1"> </p><blockquote class="calibre19"><p class="docFootnote1"><sup class="calibre27"><a name="ch05fn06" class="calibre18" id="ch05fn06">[1]</a></sup> During the 1992 U.S. presidential election, electoral strategist James Carville hung a sign in Bill Clinton's campaign headquarters reading "The economy, stupid", to keep the campaign on message.</p></blockquote>

<p class="calibre1"> </p>

</div>

{% endraw %}

