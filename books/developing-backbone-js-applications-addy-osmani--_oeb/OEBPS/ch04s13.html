---
layout: page
title: "Developing Backbone.js Applications"
prev: OEBPS/ch04s12.html
next: OEBPS/ch04s14.html
book_path: books/developing-backbone-js-applications-addy-osmani--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" title="Views/Templates"><div class="book"><div class="book"><div class="book"><h1 class="title2"><a id="viewstemplates" class="calibre1"></a>Views/Templates</h1></div></div></div><p class="calibre6">
      Although the collection layer is perhaps the most important part
      of Backbone.Paginator, it would be of little use without views
      interacting with it. The project zipball comes with three complete
      examples of using the components with the Netflix API, but hereâ€™s
      a sample view and template from the
      <code class="literal">requestPager()</code> example for those interested in
      learning more:
    </p><p class="calibre6">
      First, we have a view for a pagination bar in our UI that allows
      us to navigate around our paginated collection:
    </p><pre class="programlistingjavascript"><code class="p">(</code><code class="kd">function</code> <code class="p">(</code> <code class="nx">views</code> <code class="p">)</code> <code class="p">{</code>

    <code class="nx">views</code><code class="p">.</code><code class="nx">PaginatedView</code> <code class="o">=</code> <code class="nx">Backbone</code><code class="p">.</code><code class="nx">View</code><code class="p">.</code><code class="nx">extend</code><code class="p">({</code>

        <code class="nx">events</code><code class="o">:</code> <code class="p">{</code>
            <code class="s">'click a.servernext'</code><code class="o">:</code> <code class="s">'nextResultPage'</code><code class="p">,</code>
            <code class="s">'click a.serverprevious'</code><code class="o">:</code> <code class="s">'previousResultPage'</code><code class="p">,</code>
            <code class="s">'click a.orderUpdate'</code><code class="o">:</code> <code class="s">'updateSortBy'</code><code class="p">,</code>
            <code class="s">'click a.serverlast'</code><code class="o">:</code> <code class="s">'gotoLast'</code><code class="p">,</code>
            <code class="s">'click a.page'</code><code class="o">:</code> <code class="s">'gotoPage'</code><code class="p">,</code>
            <code class="s">'click a.serverfirst'</code><code class="o">:</code> <code class="s">'gotoFirst'</code><code class="p">,</code>
            <code class="s">'click a.serverpage'</code><code class="o">:</code> <code class="s">'gotoPage'</code><code class="p">,</code>
            <code class="s">'click .serverhowmany a'</code><code class="o">:</code> <code class="s">'changeCount'</code>

        <code class="p">},</code>

        <code class="nx">tagName</code><code class="o">:</code> <code class="s">'aside'</code><code class="p">,</code>

        <code class="nx">template</code><code class="o">:</code> <code class="nx">_</code><code class="p">.</code><code class="nx">template</code><code class="p">(</code><code class="nx">$</code><code class="p">(</code><code class="s">'#tmpServerPagination'</code><code class="p">).</code><code class="nx">html</code><code class="p">()),</code>

        <code class="nx">initialize</code><code class="o">:</code> <code class="kd">function</code> <code class="p">()</code> <code class="p">{</code>

            <code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">on</code><code class="p">(</code><code class="s">'reset'</code><code class="p">,</code> <code class="kd">this</code><code class="p">.</code><code class="nx">render</code><code class="p">,</code> <code class="kd">this</code><code class="p">);</code>
            <code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">on</code><code class="p">(</code><code class="s">'change'</code><code class="p">,</code> <code class="kd">this</code><code class="p">.</code><code class="nx">render</code><code class="p">,</code> <code class="kd">this</code><code class="p">);</code>
            <code class="kd">this</code><code class="p">.</code><code class="nx">$el</code><code class="p">.</code><code class="nx">appendTo</code><code class="p">(</code><code class="s">'#pagination'</code><code class="p">);</code>

        <code class="p">},</code>

        <code class="nx">render</code><code class="o">:</code> <code class="kd">function</code> <code class="p">()</code> <code class="p">{</code>
            <code class="kd">var</code> <code class="nx">html</code> <code class="o">=</code> <code class="kd">this</code><code class="p">.</code><code class="nx">template</code><code class="p">(</code><code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">info</code><code class="p">());</code>
            <code class="kd">this</code><code class="p">.</code><code class="nx">$el</code><code class="p">.</code><code class="nx">html</code><code class="p">(</code><code class="nx">html</code><code class="p">);</code>
        <code class="p">},</code>

        <code class="nx">updateSortBy</code><code class="o">:</code> <code class="kd">function</code> <code class="p">(</code><code class="nx">e</code><code class="p">)</code> <code class="p">{</code>
            <code class="nx">e</code><code class="p">.</code><code class="nx">preventDefault</code><code class="p">();</code>
            <code class="kd">var</code> <code class="nx">currentSort</code> <code class="o">=</code> <code class="nx">$</code><code class="p">(</code><code class="s">'#sortByField'</code><code class="p">).</code><code class="nx">val</code><code class="p">();</code>
            <code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">updateOrder</code><code class="p">(</code><code class="nx">currentSort</code><code class="p">);</code>
        <code class="p">},</code>

        <code class="nx">nextResultPage</code><code class="o">:</code> <code class="kd">function</code> <code class="p">(</code><code class="nx">e</code><code class="p">)</code> <code class="p">{</code>
            <code class="nx">e</code><code class="p">.</code><code class="nx">preventDefault</code><code class="p">();</code>
            <code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">requestNextPage</code><code class="p">();</code>
        <code class="p">},</code>

        <code class="nx">previousResultPage</code><code class="o">:</code> <code class="kd">function</code> <code class="p">(</code><code class="nx">e</code><code class="p">)</code> <code class="p">{</code>
            <code class="nx">e</code><code class="p">.</code><code class="nx">preventDefault</code><code class="p">();</code>
            <code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">requestPreviousPage</code><code class="p">();</code>
        <code class="p">},</code>

        <code class="nx">gotoFirst</code><code class="o">:</code> <code class="kd">function</code> <code class="p">(</code><code class="nx">e</code><code class="p">)</code> <code class="p">{</code>
            <code class="nx">e</code><code class="p">.</code><code class="nx">preventDefault</code><code class="p">();</code>
            <code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">goTo</code><code class="p">(</code><code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">information</code><code class="p">.</code><code class="nx">firstPage</code><code class="p">);</code>
        <code class="p">},</code>

        <code class="nx">gotoLast</code><code class="o">:</code> <code class="kd">function</code> <code class="p">(</code><code class="nx">e</code><code class="p">)</code> <code class="p">{</code>
            <code class="nx">e</code><code class="p">.</code><code class="nx">preventDefault</code><code class="p">();</code>
            <code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">goTo</code><code class="p">(</code><code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">information</code><code class="p">.</code><code class="nx">lastPage</code><code class="p">);</code>
        <code class="p">},</code>

        <code class="nx">gotoPage</code><code class="o">:</code> <code class="kd">function</code> <code class="p">(</code><code class="nx">e</code><code class="p">)</code> <code class="p">{</code>
            <code class="nx">e</code><code class="p">.</code><code class="nx">preventDefault</code><code class="p">();</code>
            <code class="kd">var</code> <code class="nx">page</code> <code class="o">=</code> <code class="nx">$</code><code class="p">(</code><code class="nx">e</code><code class="p">.</code><code class="nx">target</code><code class="p">).</code><code class="nx">text</code><code class="p">();</code>
            <code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">goTo</code><code class="p">(</code><code class="nx">page</code><code class="p">);</code>
        <code class="p">},</code>

        <code class="nx">changeCount</code><code class="o">:</code> <code class="kd">function</code> <code class="p">(</code><code class="nx">e</code><code class="p">)</code> <code class="p">{</code>
            <code class="nx">e</code><code class="p">.</code><code class="nx">preventDefault</code><code class="p">();</code>
            <code class="kd">var</code> <code class="nx">per</code> <code class="o">=</code> <code class="nx">$</code><code class="p">(</code><code class="nx">e</code><code class="p">.</code><code class="nx">target</code><code class="p">).</code><code class="nx">text</code><code class="p">();</code>
            <code class="kd">this</code><code class="p">.</code><code class="nx">collection</code><code class="p">.</code><code class="nx">howManyPer</code><code class="p">(</code><code class="nx">per</code><code class="p">);</code>
        <code class="p">}</code>

    <code class="p">});</code>

<code class="p">})(</code> <code class="nx">app</code><code class="p">.</code><code class="nx">views</code> <code class="p">);</code>
</pre><p class="calibre6">
      which we use with a template like this to generate the necessary
      pagination links (more are shown in the full example):
    </p><pre class="programlistingjavascript"><code class="nt">&lt;span</code> <code class="na">class=</code><code class="s">"divider"</code><code class="nt">&gt;</code>/<code class="nt">&lt;/span&gt;</code>  
        <code class="err">&lt;</code>% if (page &gt; firstPage) { %&gt;  
            <code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">"#"</code> <code class="na">class=</code><code class="s">"serverprevious"</code><code class="nt">&gt;</code>Previous<code class="nt">&lt;/a&gt;</code>  
        <code class="err">&lt;</code>% }else{ %&gt;  
            <code class="nt">&lt;span&gt;</code>Previous<code class="nt">&lt;/span&gt;</code>  
        <code class="err">&lt;</code>% }%&gt;  
        <code class="err">&lt;</code>% if (page <code class="nt">&lt; totalPages</code><code class="err">)</code> <code class="err">{</code> <code class="err">%</code><code class="nt">&gt;</code>  
            <code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">"#"</code> <code class="na">class=</code><code class="s">"servernext"</code><code class="nt">&gt;</code>Next<code class="nt">&lt;/a&gt;</code>  
        <code class="err">&lt;</code>% } %&gt;  
        <code class="err">&lt;</code>% if (firstPage != page) { %&gt;  
            <code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">"#"</code> <code class="na">class=</code><code class="s">"serverfirst"</code><code class="nt">&gt;</code>First<code class="nt">&lt;/a&gt;</code>  
        <code class="err">&lt;</code>% } %&gt;  
        <code class="err">&lt;</code>% if (lastPage != page) { %&gt;  
            <code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">"#"</code> <code class="na">class=</code><code class="s">"serverlast"</code><code class="nt">&gt;</code>Last<code class="nt">&lt;/a&gt;</code>  
        <code class="err">&lt;</code>% } %&gt;  
        <code class="nt">&lt;span</code> <code class="na">class=</code><code class="s">"divider"</code><code class="nt">&gt;</code>/<code class="nt">&lt;/span&gt;</code>  
        <code class="nt">&lt;span</code> <code class="na">class=</code><code class="s">"cell serverhowmany"</code><code class="nt">&gt;</code>  
            Show  
            <code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">"#"</code> <code class="na">class=</code><code class="s">"selected"</code><code class="nt">&gt;</code>3<code class="nt">&lt;/a&gt;</code>  
            |  
            <code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">"#"</code> <code class="na">class=</code><code class="s">""</code><code class="nt">&gt;</code>9<code class="nt">&lt;/a&gt;</code>  
            |  
            <code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">"#"</code> <code class="na">class=</code><code class="s">""</code><code class="nt">&gt;</code>12<code class="nt">&lt;/a&gt;</code>  
            per page  
        <code class="nt">&lt;/span&gt;</code>  
        <code class="nt">&lt;span</code> <code class="na">class=</code><code class="s">"divider"</code><code class="nt">&gt;</code>/<code class="nt">&lt;/span&gt;</code>  
        <code class="nt">&lt;span</code> <code class="na">class=</code><code class="s">"cell first records"</code><code class="nt">&gt;</code>  
            Page: <code class="nt">&lt;span</code> <code class="na">class=</code><code class="s">"current"</code><code class="nt">&gt;</code><code class="err">&lt;</code>%= page %&gt;<code class="nt">&lt;/span&gt;</code>  
            of  
            <code class="nt">&lt;span</code> <code class="na">class=</code><code class="s">"total"</code><code class="nt">&gt;</code><code class="err">&lt;</code>%= totalPages %&gt;<code class="nt">&lt;/span&gt;</code>  
                        shown  
        <code class="nt">&lt;/span&gt;</code>  
<code class="nt">&lt;span</code> <code class="na">class=</code><code class="s">"divider"</code><code class="nt">&gt;</code>/<code class="nt">&lt;/span&gt;</code>  
    <code class="nt">&lt;span</code> <code class="na">class=</code><code class="s">"cell sort"</code><code class="nt">&gt;</code>  
        <code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">"#"</code> <code class="na">class=</code><code class="s">"orderUpdate btn small"</code><code class="nt">&gt;</code>Sort by:<code class="nt">&lt;/a&gt;</code>  
    <code class="nt">&lt;/span&gt;</code>  
    <code class="nt">&lt;select</code> <code class="na">id=</code><code class="s">"sortByField"</code><code class="nt">&gt;</code>  
        <code class="nt">&lt;option</code> <code class="na">value=</code><code class="s">"cid"</code><code class="nt">&gt;</code>Select a field to sort on<code class="nt">&lt;/option&gt;</code>  
        <code class="nt">&lt;option</code> <code class="na">value=</code><code class="s">"ReleaseYear"</code><code class="nt">&gt;</code>Release year<code class="nt">&lt;/option&gt;</code>  
        <code class="nt">&lt;option</code> <code class="na">value=</code><code class="s">"ShortName"</code><code class="nt">&gt;</code>Alphabetical<code class="nt">&lt;/option&gt;</code>  
    <code class="nt">&lt;/select&gt;</code>  
<code class="nt">&lt;/span&gt;</code>  
</pre></div></div>

{% endraw %}

