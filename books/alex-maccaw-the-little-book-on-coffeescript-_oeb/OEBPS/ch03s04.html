---
layout: page
title: "The Little Book on CoffeeScript"
prev: OEBPS/ch03s03.html
next: OEBPS/ch03s05.html
book_path: books/alex-maccaw-the-little-book-on-coffeescript-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" title="Includes"><div class="book"><div class="book"><div class="book"><h1 class="title2"><a id="I_sect13_d1e1288" class="calibre2"></a>Includes</h1></div></div></div><p class="calibre8">Checking to see if a value is inside an array is typically done with
    <code class="literal">indexOf()</code>, which rather mind-bogglingly
    still requires a shim, as Internet Explorer hasn’t implemented it:</p><pre class="screen">var included = (array.indexOf("test") != -1)</pre><p class="calibre8">CoffeeScript has a neat alternative to this which Pythonists may
    recognize, namely <code class="literal">in</code>:</p><pre class="screen">included = "test" in array</pre><p class="calibre8">Behind the scenes, CoffeeScript is using <code class="literal">Array.prototype.indexOf()</code>, and shimming if
    necessary, to detect if the value is inside the array. Unfortunately, this
    means the same <code class="literal">in</code> syntax won’t work for
    strings. We need to revert back to using <code class="literal">indexOf()</code> and testing if the result is
    negative:</p><pre class="screen">included = "a long test string".indexOf("test") isnt -1</pre><p class="calibre8">Or even better, hijack the bitwise operator so we don’t have to do a
    <code class="literal">-1</code> comparison.</p><pre class="screen">string   = "a long test string"
included = !!~ string.indexOf "test"</pre></div></div>

{% endraw %}

