---
layout: page
title: "The Little Book on CoffeeScript"
prev: OEBPS/ch03s02.html
next: OEBPS/ch03s04.html
book_path: books/alex-maccaw-the-little-book-on-coffeescript-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" title="Select"><div class="book"><div class="book"><div class="book"><h1 class="title2"><a id="I_sect13_d1e1253" class="calibre2"></a>Select</h1></div></div></div><p class="calibre8">Again, ES5 has a utility function <a class="ulink" href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/array/filter"><code class="literal">filter()</code></a> for reducing arrays:</p><pre class="screen">var result = []
for (var i=0; i &lt; array.length; i++)
  if (array[i].name == "test")
    result.push(array[i])

result = array.filter(function(item, i){
  return item.name == "test"
});</pre><p class="calibre8">CoffeeScript’s basic syntax uses the <code class="literal">when</code> keyword to filter items with a comparison.
    Behind the scenes, a <code class="literal">for</code> loop is
    generated. The whole execution is performed in an anonymous function to
    ward against scope leakage and variable conflict:</p><pre class="screen">result = (item for item in array when item.name is "test")</pre><p class="calibre8">Don’t forget to include the parens, as otherwise <code class="literal">result</code> will be the last item in the array.
    CoffeeScript’s comprehensions are so flexible that they allow you to do
    powerful selections as in the
    following example:</p><pre class="screen">passed = []
failed = []
(if score &gt; 60 then passed else failed).push score for score in [49, 58, 76, 82, 88, 90]

# Or
passed = (score for score in scores when score &gt; 60)</pre><p class="calibre8">If comprehensions get too long, you can split them onto multiple
    lines:</p><pre class="screen">passed = []
failed = []
for score in [49, 58, 76, 82, 88, 90]
  (if score &gt; 60 then passed else failed).push score</pre></div></div>

{% endraw %}

