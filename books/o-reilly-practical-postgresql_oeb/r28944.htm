---
layout: page
title: "Unknown"
prev: r28883.htm
next: x29561.htm
book_path: books/o-reilly-practical-postgresql_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><th colspan="3" class="calibre2">Practical PostgreSQL</th></tr><tr class="calibre1"><td width="10%" valign="bottom" class="calibre3"><a href="r28883.htm" accesskey="P">Prev</a></td><td width="80%" valign="bottom" class="calibre4"/><td width="10%" valign="bottom" class="calibre5"><a href="r29056.htm" accesskey="N">Next</a></td></tr></table><hr width="100%" class="calibre6"/></div><h1 class="calibre7"><a name="SQL-UPDATE" class="calibre8">UPDATE</a></h1><div class="NAVHEADER"><a name="AEN28948"></a><h2 class="SECT">Name</h2>UPDATE -- Modifies the values of column data within a table.</div><div class="NAVHEADER"><a name="AEN28951"></a><h2 class="SECT">Synopsis</h2><pre class="SCREEN">UPDATE [ ONLY ] <tt class="REPLACEABLE"><i class="EMPHASIS">table</i></tt> SET
                <tt class="REPLACEABLE"><i class="EMPHASIS">column</i></tt>  = <tt class="REPLACEABLE"><i class="EMPHASIS">expression</i></tt> [, ...]
                [ FROM <tt class="REPLACEABLE"><i class="EMPHASIS">fromlist</i></tt> ]
                [ WHERE <tt class="REPLACEABLE"><i class="EMPHASIS">condition</i></tt> ]</pre><div class="NAVHEADER"><a name="R2-SQL-UPDATE-1"></a><h3 class="AUTHOR">Parameters</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">ONLY</tt></dt><dd class="calibre16"><p class="calibre9">The optional <tt class="REPLACEABLE">ONLY</tt> keyword indicates to only update the specified <tt class="REPLACEABLE"><i class="EMPHASIS">table</i></tt> (and not its inheriting child tables, if it has any).</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">table</i></tt></dt><dd class="calibre16"><p class="calibre9">The name of an existing table to update.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">column</i></tt></dt><dd class="calibre16"><p class="calibre9">The name of a column to update in the table you specified.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">expression</i></tt></dt><dd class="calibre16"><p class="calibre9">An expression or value that you want assigned to the specified column.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">fromlist</i></tt></dt><dd class="calibre16"><p class="calibre9">A valid table, view, or other <tt class="REPLACEABLE"><i class="EMPHASIS">from_item</i></tt> as defined in <a href="r28031.htm">SELECT</a>."  A PostgreSQL extension of the <tt class="REPLACEABLE">UPDATE</tt> command is the ability to use column values from other tables within the <tt class="REPLACEABLE">WHERE</tt> condition; to do this correctly, you must use this parameter to list the tables from which you will be pulling column values.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">condition</i></tt></dt><dd class="calibre16"><p class="calibre9">The <tt class="REPLACEABLE">WHERE</tt> condition for <tt class="REPLACEABLE">UPDATE</tt> to use when determining what rows are to be updated.  This can be any valid expression resulting in a value of type <tt class="REPLACEABLE">boolean</tt>.</p></dd></dl></div>
</div><div class="NAVHEADER"><a name="R2-SQL-UPDATE-2"></a><h3 class="AUTHOR">Results</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">UPDATE</tt> <tt class="REPLACEABLE"><i class="EMPHASIS">count</i></tt></dt><dd class="calibre16"><p class="calibre9">The message returned when an <tt class="REPLACEABLE">UPDATE</tt> was successful.  The <tt class="REPLACEABLE"><i class="EMPHASIS">count</i></tt> will actually be the number of rows that were modified as a result of the <tt class="REPLACEABLE">UPDATE</tt>. For example, if <tt class="REPLACEABLE"><i class="EMPHASIS">#</i></tt> is zero, it means that no rows were updated.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE">ERROR:  Relation '</tt><tt class="REPLACEABLE"><i class="EMPHASIS">table</i></tt><tt class="REPLACEABLE">' does not exist</tt></dt><dd class="calibre16"><p class="calibre9">The error returned if <tt class="REPLACEABLE"><i class="EMPHASIS">table</i></tt> is not a table in the connected database.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE">ERROR:  Relation '</tt><tt class="REPLACEABLE"><i class="EMPHASIS">table</i></tt><tt class="REPLACEABLE">' does not have attribute '</tt><tt class="REPLACEABLE"><i class="EMPHASIS">column</i></tt><tt class="REPLACEABLE">'</tt></dt><dd class="calibre16"><p class="calibre9">The error returned if a <tt class="REPLACEABLE"><i class="EMPHASIS">column</i></tt> that does not exist in the <tt class="REPLACEABLE"><i class="EMPHASIS">table</i></tt> is used in the <tt class="REPLACEABLE">SET</tt> clause.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE">ERROR:  Cannot update a view without an appropriate rule </tt></dt><dd class="calibre16"><p class="calibre9">The error returned if an <tt class="REPLACEABLE">UPDATE</tt> is attempted on a view instead of a table, without a defined rule on how to handle the attempt.</p></dd></dl></div>
</div></div><div class="NAVHEADER"><a name="R1-SQL-UPDATE-1"></a><h2 class="SECT">Description</h2><p class="calibre9">Use the <tt class="REPLACEABLE">UPDATE</tt> command to modify column values of all rows that match a <tt class="REPLACEABLE">WHERE</tt> condition that you specify.  You can also use this command to update the values of array columns.  For an array column, you can modify a single element, a range, or the entire array.  To update only the table specified, pass the <tt class="REPLACEABLE">ONLY</tt> parameter: otherwise all sub-tables will be updated as well.</p><div class="NAVHEADER"><blockquote class="NOTE"><p class="calibre9"><b class="calibre10">Note: </b>You must have write access to any columns you are attempting to modify, and read access to any columns referenced within your <tt class="REPLACEABLE">WHERE</tt> statement.</p></blockquote></div></div><div class="NAVHEADER"><a name="R1-SQL-UPDATE-2"></a><h2 class="SECT">Example</h2><p class="calibre9">The following example adds one to the total stock number for the book with the specified ISBN within the <tt class="REPLACEABLE">stock</tt> table:</p><pre class="SCREEN">booktown=# <tt class="REPLACEABLE"><b class="calibre10">UPDATE stock SET stock = stock + 1 WHERE isbn = '0385121679';</b></tt>
UPDATE 1</pre></div><div class="NAVHEADER"><hr width="100%" class="calibre6"/><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><td width="33%" valign="top" class="calibre3"><a href="r28883.htm" accesskey="P">Prev</a></td><td width="34%" valign="top" class="calibre4"><a href="book1.htm" accesskey="H">Home</a></td><td width="33%" valign="top" class="calibre5"><a href="r29056.htm" accesskey="N">Next</a></td></tr><tr class="calibre1"><td width="33%" valign="top" class="calibre3">UNLISTEN</td><td width="34%" valign="top" class="calibre4"><a href="c22759.htm" accesskey="U">Up</a></td><td width="33%" valign="top" class="calibre5">VACUUM</td></tr></table></div></div>

{% endraw %}

