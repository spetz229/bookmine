---
layout: page
title: "Unknown"
prev: r28639.htm
next: r28774.htm
book_path: books/o-reilly-practical-postgresql_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><th colspan="3" class="calibre2">Practical PostgreSQL</th></tr><tr class="calibre1"><td width="10%" valign="bottom" class="calibre3"><a href="r28639.htm" accesskey="P">Prev</a></td><td width="80%" valign="bottom" class="calibre4"/><td width="10%" valign="bottom" class="calibre5"><a href="r28774.htm" accesskey="N">Next</a></td></tr></table><hr width="100%" class="calibre6"/></div><h1 class="calibre7"><a name="SQL-SET-TRANSACTION" class="calibre8">SET TRANSACTION</a></h1><div class="NAVHEADER"><a name="AEN28713"></a><h2 class="SECT">Name</h2>SET TRANSACTION -- Sets the transaction isolation level for the current transaction block.</div><div class="NAVHEADER"><a name="AEN28716"></a><h2 class="SECT">Synopsis</h2><pre class="SCREEN">SET TRANSACTION ISOLATION LEVEL
    { READ COMMITTED | SERIALIZABLE }
SET SESSION CHARACTERISTICS AS TRANSACTION ISOLATION LEVEL
    { READ COMMITTED | SERIALIZABLE }</pre><div class="NAVHEADER"><a name="R2-SQL-SET-TRANSACTION-1"></a><h3 class="AUTHOR">Parameters</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">READ COMMITTED</tt></dt><dd class="calibre16"><p class="calibre9">The clause that specifies that statements will be able to view changes to the database that were committed before the transaction began. This is the default.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE">SERIALIZABLE</tt></dt><dd class="calibre16"><p class="calibre9">The clause that specifies that statements will be able to view all rows that were committed in the database before the transaction's first DML statement is executed.</p></dd></dl></div>
</div><div class="NAVHEADER"><a name="R2-SQL-SET-TRANSACTION-2"></a><h3 class="AUTHOR">Results</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">SET VARIABLE</tt></dt><dd class="calibre16"><p class="calibre9">The message returned when the isolation level has been set successfully.  To verify that it is correctly set, you can issue the command <tt class="REPLACEABLE">SHOW TRANSACTION ISOLATION LEVEL</tt>, which should then return the variable's setting (either <tt class="REPLACEABLE">READ COMMITTED</tt> or <tt class="REPLACEABLE">SERIALIZABLE</tt>).          </p></dd></dl></div>
</div></div><div class="NAVHEADER"><a name="R1-SQL-SET-TRANSACTION-1"></a><h2 class="SECT">Description</h2><p class="calibre9">Use the <tt class="REPLACEABLE">SET TRANSACTION</tt> command to set the transaction isolation level for the current transaction. This change will affect only the current transaction; all other subsequent transactions must have their isolation mode explicitly set, otherwise the default of <tt class="REPLACEABLE">READ COMMITTED</tt> will be used.</p><p class="calibre9">You can only use this command before the first <span><i class="EMPHASIS">DML</i></span> statement has been executed. A DML statement is one of <tt class="REPLACEABLE">SELECT</tt>, <tt class="REPLACEABLE">INSERT</tt>, <tt class="REPLACEABLE">DELETE</tt>, <tt class="REPLACEABLE">UPDATE</tt>, <tt class="REPLACEABLE">FETCH</tt>, or <tt class="REPLACEABLE">COPY</tt>.</p><p class="calibre9">To set the default transaction isolation level (as opposed to individual transaction), use <tt class="REPLACEABLE">SET SESSION CHARACTERISTICS</tt> and specify either <tt class="REPLACEABLE">READ COMMITTED</tt> or <tt class="REPLACEABLE">SERIALIZABLE</tt>.  Issuing a <tt class="REPLACEABLE">SET TRANSACTION</tt> command from within a transaction can override this default setting.</p><p class="calibre9">When the isolation level is set to <tt class="REPLACEABLE">READ COMMITTED</tt>, all statements within the transaction view only the rows that were committed before the transaction was started.  Setting the isolation level to <tt class="REPLACEABLE">SERIALIZABLE</tt> allows statements within the transaction to view changes made to the database before the first DML statement was executed within the transaction.</p></div><div class="NAVHEADER"><a name="R1-SQL-SET-TRANSACTION-2"></a><h2 class="SECT">Examples</h2><p class="calibre9">The following example sets the transaction isolation level to <tt class="REPLACEABLE">SERIALIZABLE</tt> for the current transaction:</p><pre class="SCREEN">testdb=# <tt class="REPLACEABLE"><b class="calibre10">SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;</b></tt>
SET VARIABLE</pre><p class="calibre9">The next example demonstrates setting the default transaction isolation level for the current session:</p><pre class="SCREEN">testdb=# <tt class="REPLACEABLE"><b class="calibre10">SET SESSION CHARACTERISTICS AS TRANSACTION ISOLATION LEVEL SERIALIZABLE;</b></tt>
SET VARIABLE</pre></div><div class="NAVHEADER"><hr width="100%" class="calibre6"/><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><td width="33%" valign="top" class="calibre3"><a href="r28639.htm" accesskey="P">Prev</a></td><td width="34%" valign="top" class="calibre4"><a href="book1.htm" accesskey="H">Home</a></td><td width="33%" valign="top" class="calibre5"><a href="r28774.htm" accesskey="N">Next</a></td></tr><tr class="calibre1"><td width="33%" valign="top" class="calibre3">SET CONSTRAINTS</td><td width="34%" valign="top" class="calibre4"><a href="c22759.htm" accesskey="U">Up</a></td><td width="33%" valign="top" class="calibre5">SHOW</td></tr></table></div></div>

{% endraw %}

