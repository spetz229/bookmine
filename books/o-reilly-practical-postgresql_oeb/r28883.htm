---
layout: page
title: "Unknown"
prev: r28837.htm
next: r28944.htm
book_path: books/o-reilly-practical-postgresql_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><th colspan="3" class="calibre2">Practical PostgreSQL</th></tr><tr class="calibre1"><td width="10%" valign="bottom" class="calibre3"><a href="r28837.htm" accesskey="P">Prev</a></td><td width="80%" valign="bottom" class="calibre4"/><td width="10%" valign="bottom" class="calibre5"><a href="r28944.htm" accesskey="N">Next</a></td></tr></table><hr width="100%" class="calibre6"/></div><h1 class="calibre7"><a name="SQL-UNLISTEN" class="calibre8">UNLISTEN</a></h1><div class="NAVHEADER"><a name="AEN28887"></a><h2 class="SECT">Name</h2>UNLISTEN -- Stops the backend process from listening for a notification event.</div><div class="NAVHEADER"><a name="AEN28890"></a><h2 class="SECT">Synopsis</h2><pre class="SCREEN">UNLISTEN { <tt class="REPLACEABLE"><i class="EMPHASIS">notifyname</i></tt> | * }</pre><div class="NAVHEADER"><a name="R2-SQL-UNLISTEN-1"></a><h3 class="AUTHOR">Examples</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">notifyname</i></tt></dt><dd class="calibre16"><p class="calibre9">The name of the <tt class="REPLACEABLE">NOTIFY</tt> condition you wish to stop listening for.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">*</i></tt></dt><dd class="calibre16"><p class="calibre9">          Passing the asterisk symbol (<tt class="REPLACEABLE">*</tt>) as the name of the notify condition will stop the backend from listening for any currently defined conditions.        </p></dd></dl></div>
</div><div class="NAVHEADER"><a name="R2-SQL-UNLISTEN-2"></a><h3 class="AUTHOR">Results </h3><p class="calibre9">
</p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">UNLISTEN</tt></dt><dd class="calibre16"><p class="calibre9">The message returned when a <tt class="REPLACEABLE">UNLISTEN</tt> command is completed successfully. </p></dd></dl></div>
</div></div><div class="NAVHEADER"><a name="R1-SQL-UNLISTEN-1"></a><h2 class="SECT">Description</h2><p class="calibre9"> Use the <tt class="REPLACEABLE">UNLISTEN</tt> command to unregister a current <tt class="REPLACEABLE">NOTIFY</tt> registration matching the notify condition specified by <tt class="REPLACEABLE"><i class="EMPHASIS">notifyname</i></tt>.  Alternatively, you can use the wildcard symbol (<tt class="REPLACEABLE">*</tt>) to remove <span><i class="EMPHASIS">all</i></span> listener registrations for the current session. When a backend shuts down it will automatically issue <tt class="REPLACEABLE">UNLISTEN *</tt> to remove all listener registrations.</p><div class="NAVHEADER"><blockquote class="NOTE"><p class="calibre9"><b class="calibre10">Note: </b>If you are interested in seeing all of the notification events being listened for, you may query the <tt class="REPLACEABLE">relname</tt> column from the <tt class="REPLACEABLE">pg_listener</tt> system table.</p></blockquote></div><p class="calibre9">More information about using the <tt class="REPLACEABLE">NOTIFY</tt> and <tt class="REPLACEABLE">LISTEN</tt> commands (which work together to form the simple interprocess communication or IPC system) can be found by referring to <a href="r27725.htm">NOTIFY</a>."</p></div><div class="NAVHEADER"><a name="R1-SQL-UNLISTEN-2"></a><h2 class="SECT">Example</h2><p class="calibre9">The following example checks all notifications being listened for, and subsequently stops the backend process from listening for the <tt class="REPLACEABLE">publisher_update</tt> event:</p><pre class="SCREEN">booktown=# <tt class="REPLACEABLE"><b class="calibre10">SELECT relname FROM pg_listener;</b></tt>
     relname
------------------
 publisher_update
 publisher_delete
(2 rows)

booktown=# <tt class="REPLACEABLE"><b class="calibre10">UNLISTEN publisher_update;</b></tt>
UNLISTEN
booktown=# <tt class="REPLACEABLE"><b class="calibre10">SELECT relname FROM pg_listener;</b></tt>
     relname
------------------
 publisher_delete</pre></div><div class="NAVHEADER"><hr width="100%" class="calibre6"/><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><td width="33%" valign="top" class="calibre3"><a href="r28837.htm" accesskey="P">Prev</a></td><td width="34%" valign="top" class="calibre4"><a href="book1.htm" accesskey="H">Home</a></td><td width="33%" valign="top" class="calibre5"><a href="r28944.htm" accesskey="N">Next</a></td></tr><tr class="calibre1"><td width="33%" valign="top" class="calibre3">TRUNCATE</td><td width="34%" valign="top" class="calibre4"><a href="c22759.htm" accesskey="U">Up</a></td><td width="33%" valign="top" class="calibre5">UPDATE</td></tr></table></div></div>

{% endraw %}

