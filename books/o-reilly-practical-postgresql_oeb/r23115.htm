---
layout: page
title: "Unknown"
prev: r23024.htm
next: r23165.htm
book_path: books/o-reilly-practical-postgresql_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><th colspan="3" class="calibre2">Practical PostgreSQL</th></tr><tr class="calibre1"><td width="10%" valign="bottom" class="calibre3"><a href="r23024.htm" accesskey="P">Prev</a></td><td width="80%" valign="bottom" class="calibre4"/><td width="10%" valign="bottom" class="calibre5"><a href="r23165.htm" accesskey="N">Next</a></td></tr></table><hr width="100%" class="calibre6"/></div><h1 class="calibre7"><a name="SQL-BEGIN" class="calibre8">BEGIN</a></h1><div class="NAVHEADER"><a name="AEN23119"></a><h2 class="SECT">Name</h2>BEGIN -- Starts a chained-mode transaction block.</div><div class="NAVHEADER"><a name="AEN23122"></a><h2 class="SECT">Synopsis</h2><pre class="SCREEN">BEGIN [ WORK | TRANSACTION ]</pre><div class="NAVHEADER"><a name="R2-SQL-BEGIN-1"></a><h3 class="AUTHOR">Parameters</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">WORK | TRANSACTION</tt></dt><dd class="calibre16"><p class="calibre9">A pair of optional noise keywords. They can be ignored, or used to make your SQL more readable.</p></dd></dl></div>
</div><div class="NAVHEADER"><a name="R2-SQL-BEGIN-2"></a><h3 class="AUTHOR">Results</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">BEGIN</tt></dt><dd class="calibre16"><p class="calibre9">The message returned when a transaction begins.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE">NOTICE:  BEGIN: already a transaction in progress</tt></dt><dd class="calibre16"><p class="calibre9">The notice returned if a transaction is already in progress within your PostgreSQL session. You cannot nest multiple transactions. The transaction you have in progress is not altered when this happens.</p></dd></dl></div>
</div></div><div class="NAVHEADER"><a name="R1-SQL-BEGIN-1"></a><h2 class="SECT">Description</h2><p class="calibre9">PostgreSQL executes transactions in <span><i class="EMPHASIS">unchained mode</i></span> by default.  Also called <span><i class="EMPHASIS">autocommit</i></span>, this mode encapsulates each user statement in an implicit transaction, and automatically finalizes the transaction by either committing the modification, or performing a rollback, depending on whether or not the execution was successful.</p><p class="calibre9">Using <tt class="REPLACEABLE">BEGIN</tt> specifies that you want to enter a transaction block using chained mode, in which statements will be queued by the database, and then sent in a single transaction when the database receives a <tt class="REPLACEABLE">COMMIT</tt> command. Alternatively, the queued statements can be discarded by a <tt class="REPLACEABLE">ROLLBACK</tt>, or by an unexpected disconnection.</p><p class="calibre9">Chained mode can be useful when you are working with multiple related tables, and also to increase database performance in general.  Executing statements in chained mode uses less CPU and disk resources, as there is only one commit needed per block of statements executed.</p><p class="calibre9">When a transaction is committed, the database will attempt to run all updates that have been specified within it.  If there are were no errors, the updates will be performed; otherwise the transaction block will be aborted.</p></div><div class="NAVHEADER"><a name="R1-SQL-BEGIN-2"></a><h2 class="SECT">Examples</h2><p class="calibre9">The following example begins a transaction block, creates a table, and commits the action:</p><pre class="SCREEN">booktown=# <tt class="REPLACEABLE"><b class="calibre10">BEGIN WORK;</b></tt>
BEGIN
booktown=# <tt class="REPLACEABLE"><b class="calibre10">CREATE TABLE test (id integer, name text);</b></tt>
CREATE
booktown=# <tt class="REPLACEABLE"><b class="calibre10">COMMIT WORK;</b></tt>
COMMIT</pre></div><div class="NAVHEADER"><hr width="100%" class="calibre6"/><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><td width="33%" valign="top" class="calibre3"><a href="r23024.htm" accesskey="P">Prev</a></td><td width="34%" valign="top" class="calibre4"><a href="book1.htm" accesskey="H">Home</a></td><td width="33%" valign="top" class="calibre5"><a href="r23165.htm" accesskey="N">Next</a></td></tr><tr class="calibre1"><td width="33%" valign="top" class="calibre3">ALTER USER</td><td width="34%" valign="top" class="calibre4"><a href="c22759.htm" accesskey="U">Up</a></td><td width="33%" valign="top" class="calibre5">CLOSE</td></tr></table></div></div>

{% endraw %}

