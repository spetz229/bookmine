---
layout: page
title: "Unknown"
prev: r24978.htm
next: r25397.htm
book_path: books/o-reilly-practical-postgresql_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><th colspan="3" class="calibre2">Practical PostgreSQL</th></tr><tr class="calibre1"><td width="10%" valign="bottom" class="calibre3"><a href="r24978.htm" accesskey="P">Prev</a></td><td width="80%" valign="bottom" class="calibre4"/><td width="10%" valign="bottom" class="calibre5"><a href="r25397.htm" accesskey="N">Next</a></td></tr></table><hr width="100%" class="calibre6"/></div><h1 class="calibre7"><a name="SQL-CREATETABLEAS" class="calibre8">CREATE TABLE AS</a></h1><div class="NAVHEADER"><a name="AEN25333"></a><h2 class="SECT">Name</h2>CREATE TABLE AS -- Creates a new table built from data retrieved by a SELECT.</div><div class="NAVHEADER"><a name="AEN25336"></a><h2 class="SECT">Synopsis</h2><pre class="SCREEN">CREATE TABLE <tt class="REPLACEABLE"><i class="EMPHASIS">table</i></tt> [ ( <tt class="REPLACEABLE"><i class="EMPHASIS">column</i></tt> [, ...] ) ]
             AS <tt class="REPLACEABLE"><i class="EMPHASIS">select</i></tt></pre><div class="NAVHEADER"><a name="AEN25341"></a><h3 class="AUTHOR">Parameters</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">table</i></tt></dt><dd class="calibre16"><p class="calibre9">The name of the new table to be created.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">column</i></tt></dt><dd class="calibre16"><p class="calibre9">The name of a column to create; you can specify multiple columns by including their names in a comma-delimited list. There should be the same number of columns specified as are returned by <tt class="REPLACEABLE"><i class="EMPHASIS">select</i></tt>.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">select</i></tt></dt><dd class="calibre16"><p class="calibre9">A valid <tt class="REPLACEABLE">SELECT</tt> statement. The number of targets selected must match the number of columns in the optional column list preceding the <tt class="REPLACEABLE">AS</tt> clause.</p></dd></dl></div>
</div><div class="NAVHEADER"><a name="AEN25363"></a><h3 class="AUTHOR">Results</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">SELECT</tt></dt><dd class="calibre16"><p class="calibre9">The message returned on successful creation of, and insertion of row data into, <tt class="REPLACEABLE"><i class="EMPHASIS">table</i></tt>.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE">ERROR:  CREATE TABLE/AS SELECT has mismatched column count</tt></dt><dd class="calibre16"><p class="calibre9">The error returned if the optional list of <tt class="REPLACEABLE"><i class="EMPHASIS">columns</i></tt> in parentheses contains a different number of rows than the <tt class="REPLACEABLE"><i class="EMPHASIS">select</i></tt> statement returns.</p></dd></dl></div>
</div></div><div class="NAVHEADER"><a name="AEN25380"></a><h2 class="SECT">Description</h2><p class="calibre9">Use the <tt class="REPLACEABLE">CREATE TABLE AS</tt> command to create a table from the contents of result set,
    such as a query on a table that already exists within the database.  Both the column types, and row data for the new table,
    come from the <tt class="REPLACEABLE">SELECT</tt> command specified by <tt class="REPLACEABLE"><i class="EMPHASIS">select</i></tt>.</p><p class="calibre9">Note that, as of PostgreSQL 7.1.x, if you specify the optional column list within parentheses, you cannot use the
  asterisk (<tt class="REPLACEABLE">*</tt>) in the <tt class="REPLACEABLE"><i class="EMPHASIS">select</i></tt> statement.</p></div><div class="NAVHEADER"><a name="AEN25389"></a><h2 class="SECT">Example</h2><p class="calibre9">The following example creates a backup table (aptly named <tt class="REPLACEABLE">book_backup</tt>) from all of the
    columns taken from the <tt class="REPLACEABLE">books</tt> table:</p><pre class="SCREEN">booktown=# <tt class="REPLACEABLE"><b class="calibre10">CREATE TABLE book_backup</b></tt>
booktown-# <tt class="REPLACEABLE"><b class="calibre10">             AS SELECT * FROM books;</b></tt>
SELECT</pre></div><div class="NAVHEADER"><hr width="100%" class="calibre6"/><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><td width="33%" valign="top" class="calibre3"><a href="r24978.htm" accesskey="P">Prev</a></td><td width="34%" valign="top" class="calibre4"><a href="book1.htm" accesskey="H">Home</a></td><td width="33%" valign="top" class="calibre5"><a href="r25397.htm" accesskey="N">Next</a></td></tr><tr class="calibre1"><td width="33%" valign="top" class="calibre3">CREATE TABLE</td><td width="34%" valign="top" class="calibre4"><a href="c22759.htm" accesskey="U">Up</a></td><td width="33%" valign="top" class="calibre5">CREATE TRIGGER</td></tr></table></div></div>

{% endraw %}

