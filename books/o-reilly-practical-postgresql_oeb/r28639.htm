---
layout: page
title: "Unknown"
prev: r28464.htm
next: r28709.htm
book_path: books/o-reilly-practical-postgresql_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><th colspan="3" class="calibre2">Practical PostgreSQL</th></tr><tr class="calibre1"><td width="10%" valign="bottom" class="calibre3"><a href="r28464.htm" accesskey="P">Prev</a></td><td width="80%" valign="bottom" class="calibre4"/><td width="10%" valign="bottom" class="calibre5"><a href="r28709.htm" accesskey="N">Next</a></td></tr></table><hr width="100%" class="calibre6"/></div><h1 class="calibre7"><a name="SQL-SET-CONSTRAINTS" class="calibre8">SET CONSTRAINTS</a></h1><div class="NAVHEADER"><a name="AEN28643"></a><h2 class="SECT">Name</h2>SET CONSTRAINTS -- Sets the constraint mode for the current transaction block.</div><div class="NAVHEADER"><a name="AEN28646"></a><h2 class="SECT">Synopsis</h2><pre class="SCREEN">SET CONSTRAINTS { ALL | <tt class="REPLACEABLE"><i class="EMPHASIS">constraint</i></tt> [,... ] }
                { DEFERRED | IMMEDIATE }</pre><div class="NAVHEADER"><a name="R2-SQL-SET-CONSTRAINTS-1"></a><h3 class="AUTHOR">Parameters</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">ALL</tt></dt><dd class="calibre16"><p class="calibre9">The keyword indicating that the mode you are specifying should be applied to all constraints within the current transaction.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">constraint</i></tt></dt><dd class="calibre16"><p class="calibre9">The name of a specific constraint of which you wish to set the mode.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE">DEFERRED</tt></dt><dd class="calibre16"><p class="calibre9">The keyword indicating that constraints (or a specific constraint) shouldn't be checked until the transaction reaches a <tt class="REPLACEABLE">COMMIT</tt>.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE">IMMEDIATE</tt></dt><dd class="calibre16"><p class="calibre9">The keyword indicating that constraints (or a specific constraint) <span><i class="EMPHASIS">should</i></span> be checked at the end of each statement within a transaction.</p></dd></dl></div>
</div><div class="NAVHEADER"><a name="R2-SQL-SET-CONSTRAINTS-2"></a><h3 class="AUTHOR">Results</h3><p class="calibre9"> </p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">SET CONSTRAINTS</tt></dt><dd class="calibre16"><p class="calibre9">The message returned when a constraint mode is set successfully.</p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE">ERROR:  Constraint '</tt><tt class="REPLACEABLE"><i class="EMPHASIS">constraint</i></tt><tt class="REPLACEABLE">' does not exist</tt></dt><dd class="calibre16"><p class="calibre9">The error returned if you attempt to change the mode of a <tt class="REPLACEABLE"><i class="EMPHASIS">constraint</i></tt> that does not exist.</p></dd></dl></div>
</div></div><div class="NAVHEADER"><a name="R1-SQL-SET-CONSTRAINTS-1"></a><h2 class="SECT">Description</h2><p class="calibre9">Use the <tt class="REPLACEABLE">SET CONSTRAINTS</tt> command to set the constraint mode for all constraints or for a single constraint within the current transaction block.  You can choose to set the constraint mode to either <tt class="REPLACEABLE">IMMEDIATE</tt> or <tt class="REPLACEABLE">DEFERRED</tt>. Use of <tt class="REPLACEABLE">IMMEDIATE</tt> mode will force the checking of all constraints at the end of each statement within the transaction.  In <tt class="REPLACEABLE">DEFERRED</tt> mode, constraints are not checked until a <tt class="REPLACEABLE">COMMIT</tt> command is issued.</p><div class="NAVHEADER"><blockquote class="NOTE"><p class="calibre9"><b class="calibre10">Note: </b>PostgreSQL 7.1.x (the most current version as of the writing of this book) only supports the use of these modes with foreign key constraints, as both check and unique constraints are set to a constraint mode that is not affected by this command.</p></blockquote></div></div><div class="NAVHEADER"><a name="R1-SQL-SET-CONSTRAINTS-2"></a><h2 class="SECT">Example</h2><p class="calibre9">The following example sets the constraint evaluation mode to <tt class="REPLACEABLE">IMMEDIATE</tt> for all constraints within the transaction:</p><pre class="SCREEN">booktown=# <tt class="REPLACEABLE"><b class="calibre10">SET CONSTRAINTS ALL IMMEDIATE;</b></tt>
SET CONSTRAINTS</pre></div><div class="NAVHEADER"><hr width="100%" class="calibre6"/><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><td width="33%" valign="top" class="calibre3"><a href="r28464.htm" accesskey="P">Prev</a></td><td width="34%" valign="top" class="calibre4"><a href="book1.htm" accesskey="H">Home</a></td><td width="33%" valign="top" class="calibre5"><a href="r28709.htm" accesskey="N">Next</a></td></tr><tr class="calibre1"><td width="33%" valign="top" class="calibre3">SET</td><td width="34%" valign="top" class="calibre4"><a href="c22759.htm" accesskey="U">Up</a></td><td width="33%" valign="top" class="calibre5">SET TRANSACTION</td></tr></table></div></div>

{% endraw %}

