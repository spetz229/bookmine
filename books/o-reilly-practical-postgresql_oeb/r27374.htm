---
layout: page
title: "Unknown"
prev: r27281.htm
next: r27431.htm
book_path: books/o-reilly-practical-postgresql_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><th colspan="3" class="calibre2">Practical PostgreSQL</th></tr><tr class="calibre1"><td width="10%" valign="bottom" class="calibre3"><a href="r27281.htm" accesskey="P">Prev</a></td><td width="80%" valign="bottom" class="calibre4"/><td width="10%" valign="bottom" class="calibre5"><a href="r27431.htm" accesskey="N">Next</a></td></tr></table><hr width="100%" class="calibre6"/></div><h1 class="calibre7"><a name="SQL-LISTEN" class="calibre8">LISTEN</a></h1><div class="NAVHEADER"><a name="AEN27378"></a><h2 class="SECT">Name</h2>LISTEN -- Listen for a notification event.</div><div class="NAVHEADER"><a name="AEN27381"></a><h2 class="SECT">Synopsis</h2><pre class="SCREEN">LISTEN <tt class="REPLACEABLE"><i class="EMPHASIS">name</i></tt></pre><div class="NAVHEADER"><a name="R2-SQL-LISTEN-1"></a><h3 class="AUTHOR">Parameters</h3><p class="calibre9">
</p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE"><i class="EMPHASIS">name</i></tt></dt><dd class="calibre16"><p class="calibre9">The name of the notify condition for which you want the backend to listen.</p></dd></dl></div>
</div><div class="NAVHEADER"><a name="R2-SQL-LISTEN-2"></a><h3 class="AUTHOR">Results</h3><p class="calibre9">
</p><p class="calibre9"></p><div class="NAVHEADER"><dl class="calibre9"><dt class="NAVHEADER"><tt class="REPLACEABLE">LISTEN</tt></dt><dd class="calibre16"><p class="calibre9">The message returned when a command is successful, and the backend process is listening for notification. </p></dd><dt class="NAVHEADER"><tt class="REPLACEABLE">NOTICE:  Async_Listen: We are already listening on</tt> <tt class="REPLACEABLE"><i class="EMPHASIS">name</i></tt></dt><dd class="calibre16"><p class="calibre9">The notice returned if the backend is already listening for the specified notify condition <tt class="REPLACEABLE"><i class="EMPHASIS">name</i></tt>. </p></dd></dl></div>
</div></div><div class="NAVHEADER"><a name="R1-SQL-LISTEN-1"></a><h2 class="SECT">Description</h2><p class="calibre9">The <tt class="REPLACEABLE">NOTIFY</tt> and <tt class="REPLACEABLE">LISTEN</tt> commands work together to create a system for PostgreSQL components to communicate between themselves.  Use the <tt class="REPLACEABLE">LISTEN</tt> command to start the backend process listening for a notification named <tt class="REPLACEABLE"><i class="EMPHASIS">name</i></tt>.  Notifications are passed by the <tt class="REPLACEABLE">NOTIFY</tt> command, which is usually placed in rules related to changes of various database components; in this way, notifications are sent out to listeners when things are changed.</p><p class="calibre9">All running backend processes that are listening for a specific notification are sent that notification when a <tt class="REPLACEABLE">NOTIFY</tt> command is issued for it by any of the processes.  When a backend process receives a notification, that notification is sent to the client application (such as <span><i class="EMPHASIS">psql</i></span>), which then handles the notification in whatever manner it is written for. For more information about this method of IPC (inter-process communication), see <a href="r27725.htm">NOTIFY</a>."</p><p class="calibre9">You can use any valid string no longer than 31 characters for the name of the notification to listen for (this is also true for the <tt class="REPLACEABLE">NOTIFY</tt> command). To stop a backend process from listening for notifications, use the <tt class="REPLACEABLE">UNLISTEN</tt> command.</p></div><div class="NAVHEADER"><a name="R1-SQL-LISTEN-2"></a><h2 class="SECT">Example</h2><p class="calibre9">The following example configures and executes a listen/notify sequence from <span><i class="EMPHASIS">psql</i></span>:</p><pre class="SCREEN">booktown=# <tt class="REPLACEABLE"><b class="calibre10">LISTEN publisher_update;</b></tt>
LISTEN
booktown=# <tt class="REPLACEABLE"><b class="calibre10">NOTIFY publisher_update;</b></tt>
Asynchronous NOTIFY 'publisher_update' from backend with pid '16864' received.</pre></div><div class="NAVHEADER"><hr width="100%" class="calibre6"/><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0" class="calibre"><tr class="calibre1"><td width="33%" valign="top" class="calibre3"><a href="r27281.htm" accesskey="P">Prev</a></td><td width="34%" valign="top" class="calibre4"><a href="book1.htm" accesskey="H">Home</a></td><td width="33%" valign="top" class="calibre5"><a href="r27431.htm" accesskey="N">Next</a></td></tr><tr class="calibre1"><td width="33%" valign="top" class="calibre3">INSERT</td><td width="34%" valign="top" class="calibre4"><a href="c22759.htm" accesskey="U">Up</a></td><td width="33%" valign="top" class="calibre5">LOAD</td></tr></table></div></div>

{% endraw %}

