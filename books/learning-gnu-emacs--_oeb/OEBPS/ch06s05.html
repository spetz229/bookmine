---
layout: page
title: "Learning GNU Emacs, 3rd Edition"
prev: OEBPS/ch06s04.html
next: OEBPS/ch06s06.html
book_path: books/learning-gnu-emacs--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" xml:lang="en"><div class="book"><div class="book"><div class="book"><h1 class="title"><a id="gnu3-CHP-6-SECT-5" class="calibre1"></a>The Macro Ring</h1></div></div></div><p class="copyright">Although our latest macro is<a id="gnu3-CHP-6-ITERM-2271" class="calibre2"></a> interesting, it's not
really a general purpose macro. It is a temporary solution to a
one-time problem. It saves you some work, but it
isn't general enough to save and use again. On the
other hand, our macro to transpose names is generally useful.
We'd like to use it again. We'd
like to bind it to a key. But it is no longer the
"latest" keyboard macro.</p><p class="copyright">As we mentioned earlier, Emacs has a macro ring much like the
infamous kill ring. It's useful in the case
we've just described, but it's also
useful because of the fragility of the macro definition process. You
create a macro and make a wrong move that rings the bell, and your
macro is canceled. It's fairly easy to create a
macro that does nothing. Perhaps the macro that you just created was
wonderful, and this new nonfunctional nothing macro has supplanted
it. Again, the macro ring is the solution. To delete a macro from the
ring, type <span><strong class="calibre5">C-x C-k C-d</strong></span> (for
<span><strong class="calibre5">kmacro-delete-ring-head</strong></span>). This
deletes the most recently defined keyboard macro.</p><p class="copyright">What if you want to swap the positions of two macros? Instead, type
<span><strong class="calibre5">C-x C-k C-t</strong></span> (for <span><strong class="calibre5">kmacro-swap-ring</strong></span>). This transposes macros 1
and 2.</p><p class="copyright">In a more general sense, you can cycle to the previously defined
macro by typing <span><strong class="calibre5">C-c C-k C-p</strong></span> (for
<span><strong class="calibre5">kmacro-cycle-ring-previous</strong></span>). To move
the ring the other way, type <span><strong class="calibre5">C-x C-k C-n</strong></span>
(for <span><strong class="calibre5">kmacro-cycle-ring-next</strong></span>). The familiar
<span><strong class="calibre5">C-p</strong></span> for previous and <span><strong class="calibre5">C-n</strong></span> for next bindings are appended to the
general macro keyboard prefix <span><strong class="calibre5">C-x
C-k</strong></span>.</p><p class="copyright">Before we can work with the transpose names macro, we must either
define it again or, if you've been working through
our examples, type <span><strong class="calibre5">C-x C-k C-p</strong></span> to
move to the previous macro.</p></div></div>

{% endraw %}

