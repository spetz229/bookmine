---
layout: page
title: "Learning GNU Emacs, 3rd Edition"
prev: OEBPS/ch06s09.html
next: OEBPS/ch07.html
book_path: books/learning-gnu-emacs--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" xml:lang="en"><div class="book"><div class="book"><div class="book"><h1 class="title"><a id="gnu3-CHP-6-SECT-10" class="calibre1"></a>Beyond Macros</h1></div></div></div><p class="copyright">Macros are an important tool for streamlining repetitive editing.
They let you write your own commands for performing complex tasks
without needing to know anything more than you already know: the
basic Emacs commands for moving around and manipulating text. Even if
you're an Emacs novice, you should be able to use
macros with little difficulty.</p><p class="copyright">However, Emacs is almost infinitely flexible, and macros cannot do
everything. In many situations, there's no
substitute for writing a Lisp function that does exactly what you
want. If you know Lisp or would like to learn some, you can write
your own Lisp functions to do more complex tasks than keyboard macros
can handle. <a class="calibre2" href="ch11.html" title="Chapter 11. Emacs Lisp Programming">Chapter 11</a> covers the basics of
writing Lisp functions.</p><p class="copyright">
            <a class="calibre2" href="ch06s10.html#gnu3-CHP-6-TABLE-6" title="Table 6-6. Macro commands">Table 6-6</a> summarizes
<a id="gnu3-CHP-6-ITERM-2294" class="calibre2"></a>
            <a id="gnu3-CHP-6-ITERM-2295" class="calibre2"></a>macro
commands.</p><div class="book"><a id="gnu3-CHP-6-TABLE-6" class="calibre2"></a><p class="title2"><b class="calibre25">Table 6-6. Macro commands</b></p><div class="table-contents"><table summary="Macro commands" class="calibre8"><colgroup class="calibre9"><col class="calibre10"/><col class="calibre10"/><col class="calibre10"/></colgroup><thead class="calibre11"><tr class="calibre12"><th class="calibre26">
                        <p class="copyright">Keystrokes</p>
                     </th><th class="calibre26">
                        <p class="copyright">Command name</p>
                     </th><th class="calibre27">
                        <p class="copyright">Action</p>
                     </th></tr></thead><tbody class="calibre15"><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x (</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-start-macro</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Start macro definition.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">F3</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-start-macro-or-insert-counter</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Start macro definition. If pressed while defining a macro, insert a
counter.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x )</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-end-macro</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">End macro definition.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">F4</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-end-or-call-macro</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">End macro definition (if definition is in progress) or invoke last
keyboard macro.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x e</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-end-and-call-macro</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Execute last keyboard macro defined. Can type <span><strong class="calibre5">e</strong></span> to repeat macro.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k n</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">name-last-kbd-macro</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Name the last macro you created (before saving it).</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">(<span><em class="calibre7">none</em></span>)</p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">insert-kbd-macro</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Insert the macro you named into a file.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">(<span><em class="calibre7">none</em></span>)</p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><em class="calibre7">macroname</em></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Execute a named keyboard macro.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x q</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kbd-macro-query</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Insert a query in a macro definition.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-u C-x q</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">(none)</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Insert a recursive edit in a macro definition.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-M-c</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">exit-recursive-edit</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Exit a recursive edit.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k b</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-bind-to-key</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Bind a macro to a key (<span><strong class="calibre5">C-x C-k</strong></span>
                           <span><strong class="calibre5">0</strong></span>-<span><strong class="calibre5">9</strong></span>
and <span><strong class="calibre5">A</strong></span>-<span><strong class="calibre5">Z</strong></span> are reserved for macro bindings). Lasts for
current session only.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k Space</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-step-edit-macro</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Edit a macro while stepping through it (in our opinion, the interface
is overly complex).</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k l</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-edit-lossage</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Turn the last 100 keystrokes into a keyboard macro. If any mouse
clicks are among the last 100 keystrokes, does not work.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k e</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">edit-kbd-macro</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Edit a keyboard macro by typing C-x e for the last keyboard macro
defined, M-x for a named macro, C-h l for lossage, or keystrokes for
a macro bound to a key.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k Enter</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-edit-macro</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Edit the last keyboard macro.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k C-e</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-edit-macro-repeat</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Edit the last keyboard macro again.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k C-t</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-swap-ring</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Transpose last keyboard macro with previous keyboard macro.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k C-d</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-delete-ring-head</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Delete last keyboard macro from the macro ring.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k C-p</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-cycle-ring-previous</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Move to the previous macro in the macro ring.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k C-n</strong></span>
                        </p>
                     </td><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">kmacro-cycle-ring-next</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Move to the next macro in the macro ring.</p>
                     </td></tr><tr class="calibre12"><td class="calibre30">
                        <p class="copyright">
                           <span><strong class="calibre5">C-x C-k r</strong></span>
                        </p>
                     </td><td class="calibre30">
                        <p class="copyright">
                           <span><strong class="calibre5">apply-macro-to-region-lines</strong></span>
                        </p>
                     </td><td class="calibre31">
                        <p class="copyright">Apply this macro to each line in a region.</p>
                     </td></tr></tbody></table></div></div><br class="book"/></div></div>

{% endraw %}

