---
layout: page
title: "Learning GNU Emacs, 3rd Edition"
prev: OEBPS/ch09s06.html
next: OEBPS/ch09s08.html
book_path: books/learning-gnu-emacs--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" xml:lang="en"><div class="book"><div class="book"><div class="book"><h1 class="title"><a id="gnu3-CHP-9-SECT-7" class="calibre1"></a>SQL Support</h1></div></div></div><p class="copyright">For you database folks out <a id="gnu3-CHP-9-ITERM-2604" class="calibre2"></a>
            <a id="gnu3-CHP-9-ITERM-2605" class="calibre2"></a>there, you can even
run interactive SQL sessions through Emacs. You can navigate through
your SQL command history using normal motion commands and even create
complex SQL statements in any buffer and then shuttle them off to the
interactive area for debugging.</p><div class="book" xml:lang="en"><div class="book"><div class="book"><div class="book"><h2 class="title1"><a id="gnu3-CHP-9-SECT-7.1" class="calibre1"></a>Prerequisites</h2></div></div></div><p class="copyright">Before we get started with SQL queries, you do need to have a few
things in place. Most of the SQL interaction modes require an actual
client application for their particular database. For example, we use
the MySQL server. We have to install the MySQL client programs
(<code class="calibre21">mysql</code>, at a minimum) on any system where we want
to use SQL mode. Even though the MySQL version of SQL mode is
built-in, we still need access to a real client. This is true for
every type of database you expect to access.</p><p class="copyright">And speaking of communicating with the database, you must also have
the basics of communication taken care of. You need to have network
access to the server in question. You also need to have a valid
username and password for connecting to that server. A good rule
before jumping into SQL mode in Emacs is to make sure you can connect
and interact with your database server from your machine. If it works
from a terminal window or other client application, you can make it
work in Emacs.</p><p class="copyright">One last thing to remember: the various SQL modes in Emacs are just
helpers, so you can't do anything with them that you
couldn't do with your normal database client. You
won't magically have access to that restricted table
with everyone's salaries. Sorry. Even so,
it's just more convenient to stay in Emacs when
possible, so let's forge ahead.</p></div><div class="book" xml:lang="en"><div class="book"><div class="book"><div class="book"><h2 class="title1"><a id="gnu3-CHP-9-SECT-7.2" class="calibre1"></a>Modes of Operation</h2></div></div></div><p class="copyright">You'll find two modes
<a id="gnu3-CHP-9-ITERM-2606" class="calibre2"></a>
               <a id="gnu3-CHP-9-ITERM-2607" class="calibre2"></a>
               <a id="gnu3-CHP-9-ITERM-2608" class="calibre2"></a>of operation for dealing with SQL. The
interactive mode lets you communicate directly with a database server
and run commands and view their output immediately. The editing mode
allows you to build up (and edit) more complex commands. If you want,
you can have the editing buffer send parts of itself to the
interactive session for testing and verification.</p><div class="book" xml:lang="en"><div class="book"><div class="book"><div class="book"><h3 class="title4"><a id="gnu3-CHP-9-SECT-7.2.1" class="calibre1"></a>Interactive mode</h3></div></div></div><p class="copyright">Start the interactive mode by typing <span><strong class="calibre5">M-x
sql-mysql</strong></span> (or rather, your own variant of the interactive
modes shown in <a class="calibre2" href="ch09s07.html#gnu3-CHP-9-TABLE-9" title="Table 9-9. Commands for entering database-specific SQL modes">Table 9-9</a>).</p><div class="book"><a id="gnu3-CHP-9-TABLE-9" class="calibre2"></a><p class="title2"><b class="calibre25">Table 9-9. Commands for entering database-specific SQL modes</b></p><div class="table-contents"><table summary="Commands for entering database-specific SQL modes" class="calibre8"><colgroup class="calibre9"><col class="calibre10"/><col class="calibre10"/><col class="calibre10"/></colgroup><tbody class="calibre15"><tr class="calibre12"><td class="calibre28">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-db2</strong></span>
                              </p>
                           </td><td class="calibre28">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-linter</strong></span>
                              </p>
                           </td><td class="calibre29">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-postgres</strong></span>
                              </p>
                           </td></tr><tr class="calibre12"><td class="calibre28">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-informix</strong></span>
                              </p>
                           </td><td class="calibre28">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-ms (Microsoft)</strong></span>
                              </p>
                           </td><td class="calibre29">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-solid</strong></span>
                              </p>
                           </td></tr><tr class="calibre12"><td class="calibre28">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-ingres</strong></span>
                              </p>
                           </td><td class="calibre28">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-mysql</strong></span>
                              </p>
                           </td><td class="calibre29">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-sqlite</strong></span>
                              </p>
                           </td></tr><tr class="calibre12"><td class="calibre30">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-interbase</strong></span>
                              </p>
                           </td><td class="calibre30">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-oracle</strong></span>
                              </p>
                           </td><td class="calibre31">
                              <p class="copyright">
                                 <span><strong class="calibre5">sql-sybase</strong></span>
                              </p>
                           </td></tr></tbody></table></div></div><br class="book"/><p class="copyright">You'll be prompted for things like your username and
password, the database or catalog to use, and the server to contact.
Remember the prerequisites, though; many modes require that you have
a normal command-line client available. The mode simply supplies an
intelligent layer on top of those clients.</p><p class="copyright">After you get connected, just type normal SQL commands that your
server understands. Most interactive clients have some type of
"end-of-line" marker to let the
system know when to send a completed command. In MySQL, for example,
you can end statements with a semicolon (;) or the <span><strong class="calibre5">\g</strong></span> sequence.</p><p class="copyright">Emacs keeps these commands in a history buffer for you so that you
can revisit them. <span><strong class="calibre5">M-p</strong></span> and <span><strong class="calibre5">M-n</strong></span> allow you navigate to previous and next
commands respectively. (<span><strong class="calibre5">C-p</strong></span> and
<span><strong class="calibre5">C-n</strong></span> simply allow you to move around
in the buffer as you would expect.)</p></div><div class="book" xml:lang="en"><div class="book"><div class="book"><div class="book"><h3 class="title4"><a id="gnu3-CHP-9-SECT-7.2.2" class="calibre1"></a>Editing mode</h3></div></div></div><p class="copyright">You can also put a buffer <a id="gnu3-CHP-9-ITERM-2609" class="calibre2"></a>
                  <a id="gnu3-CHP-9-ITERM-2610" class="calibre2"></a>
                  <a id="gnu3-CHP-9-ITERM-2611" class="calibre2"></a>directly into SQL mode with <span><strong class="calibre5">M-x sql-mode</strong></span>. This provides some assistance
for motion and composition of SQL statements, but mostly
it's there to let you build complex statements and
then ship them to the interactive buffer for execution. <a class="calibre2" href="ch09s07.html#gnu3-CHP-9-TABLE-10" title="Table 9-10. SQL mode send commands">Table 9-10</a> shows how to send various segments of the
buffer to the database.</p><div class="book"><a id="gnu3-CHP-9-TABLE-10" class="calibre2"></a><p class="title2"><b class="calibre25">Table 9-10. SQL mode send commands</b></p><div class="table-contents"><a id="gnu3-CHP-9-ITERM-2612" class="calibre2"></a><a id="gnu3-CHP-9-ITERM-2613" class="calibre2"></a><table summary="SQL mode send commands" class="calibre8"><colgroup class="calibre9"><col class="calibre10"/><col class="calibre10"/><col class="calibre10"/></colgroup><thead class="calibre11"><tr class="calibre12"><th class="calibre26">
                              <p class="copyright">Keystroke</p>
                           </th><th class="calibre26">
                              <p class="copyright">Command name</p>
                           </th><th class="calibre27">
                              <p class="copyright">Action</p>
                           </th></tr></thead><tbody class="calibre15"><tr class="calibre12"><td class="calibre28">
                              <p class="copyright">
                                 <span><strong class="calibre5">C-c C-c</strong></span>
                              </p>
                           </td><td class="calibre28">
                              <p class="copyright">sql-send-paragraph</p>
                           </td><td class="calibre29">
                              <p class="copyright">Send the paragraph the cursor is on. A paragraph is defined by the
particular database client. For the <span><strong class="calibre5">sql-mysql</strong></span> process, for example, a paragraph
begins with a statement like select or update and ends with a
semicolon. Any number of lines can intervene.</p>
                           </td></tr><tr class="calibre12"><td class="calibre28">
                              <p class="copyright">
                                 <span><strong class="calibre5">C-c C-r</strong></span>
                              </p>
                           </td><td class="calibre28">
                              <p class="copyright">sql-send-region</p>
                           </td><td class="calibre29">
                              <p class="copyright">Send the marked region.</p>
                           </td></tr><tr class="calibre12"><td class="calibre30">
                              <p class="copyright">
                                 <span><strong class="calibre5">C-c C-b</strong></span>
                              </p>
                           </td><td class="calibre30">
                              <p class="copyright">sql-send-buffer</p>
                           </td><td class="calibre31">
                              <p class="copyright">Send the entire buffer.</p>
                           </td></tr></tbody></table></div></div><br class="book"/><p class="copyright">The output of all of these send commands shows up in your interactive
buffer. Nothing changes in the editing buffer so you should feel free
to experiment. That's what these modes are here for!</p></div></div></div></div>

{% endraw %}

