---
layout: page
title: "Learning GNU Emacs, 3rd Edition"
prev: OEBPS/ch05s02.html
next: OEBPS/ch05s04.html
book_path: books/learning-gnu-emacs--_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" xml:lang="en"><div class="book"><div class="book"><div class="book"><h1 class="title"><a id="gnu3-CHP-5-SECT-3" class="calibre1"></a>Printing from Emacs</h1></div></div></div><p class="copyright">Emacs offers several commands
<a id="gnu3-CHP-5-ITERM-2224" class="calibre2"></a>for printing
buffers and regions. To print a buffer with page numbers and headers
for the filename, type <span><strong class="calibre5">M-x print-buffer
Enter</strong></span>. This command sends the buffer to <span><strong class="calibre5">pr</strong></span> (a program that does simple formatting for
listings), followed by <span><strong class="calibre5">lpr</strong></span> (which
sends the listing to the printer). If you want to print the file
directly, without the headers and page numbers that <span><strong class="calibre5">pr</strong></span> provides, give the command <span><strong class="calibre5">M-x lpr-buffer Enter</strong></span>. You can also use these
commands to print a selected portion of a file. First define a region
by setting a mark at one end and moving the cursor to the other end.
Then give the command <span><strong class="calibre5">M-x print-region
Enter</strong></span> (or <span><strong class="calibre5">M-x lpr-region
Enter</strong></span>).</p><p class="copyright">The <span><strong class="calibre5">lpr-buffer</strong></span> and <span><strong class="calibre5">lpr-region</strong></span> commands
<a id="gnu3-CHP-5-ITERM-2225" class="calibre2"></a>
            <a id="gnu3-CHP-5-ITERM-2226" class="calibre2"></a>
            <a id="gnu3-CHP-5-ITERM-2227" class="calibre2"></a>
            <a id="gnu3-CHP-5-ITERM-2228" class="calibre2"></a>always check the variable <span><strong class="calibre5">lpr-switches</strong></span> to determine whether any options
should be passed to the Unix <span><strong class="calibre5">lpr</strong></span>
command. These options are used to request a particular printer and
for many other purposes; see the manpage for <span><strong class="calibre5">lpr</strong></span> for more information. For example, if you
want to use the printer named lpt1 whenever you print from Emacs, you
would want to set <span><strong class="calibre5">lpr-switches</strong></span> to
-<code class="calibre21">Plpt1</code>. To do so, add the following line to your
<span><em class="calibre7">.emacs</em></span> file:</p><a id="I_5_tt164" class="calibre2"></a><pre class="programlisting">(setq lpr-switches '("-Plpt1"))</pre><p class="copyright">Note the single quote preceding, and the parentheses surrounding, the
string "<code class="calibre21">-Plpt1</code>". This is just weird-but-necessary Lisp
syntax; see <a class="calibre2" href="ch11.html" title="Chapter 11. Emacs Lisp Programming">Chapter 11</a> for more details.</p><p class="copyright">You can also print from Dired. To print the file the cursor is on,
type <span><strong class="calibre5">P</strong></span>. Emacs puts the default
printing command in the minibuffer, and you can modify it.</p><p class="copyright">Emacs also includes commands to print a buffer as a PostScript file.
If you have formatted text in the file, you can print the buffer with
those attributes by typing <span><strong class="calibre5">M-x
ps-print-buffer-with-faces</strong></span>.</p><p class="copyright">
            <a class="calibre2" href="ch05s03.html#gnu3-CHP-5-TABLE-3" title="Table 5-3. Printing commands">Table 5-3</a> provides a summary of commands for
printing.</p><div class="book"><a id="gnu3-CHP-5-TABLE-3" class="calibre2"></a><p class="title2"><b class="calibre25">Table 5-3. Printing commands</b></p><div class="table-contents"><a id="gnu3-CHP-5-ITERM-2229" class="calibre2"></a><a id="gnu3-CHP-5-ITERM-2230" class="calibre2"></a><table summary="Printing commands" class="calibre8"><colgroup class="calibre9"><col class="calibre10"/><col class="calibre10"/></colgroup><thead class="calibre11"><tr class="calibre12"><th class="calibre26">
                        <p class="copyright">
                           <span><strong class="calibre5">Keystrokes</strong></span>
                        </p>
                     </th><th class="calibre27">
                        <p class="copyright">
                           <span><strong class="calibre5">Action</strong></span>
                        </p>
                     </th></tr></thead><tbody class="calibre15"><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">M-x print-buffer</strong></span>
                           <span><em class="calibre7">File</em></span>
                           <span>→</span> 
                           <span><em class="calibre7">Print Buffer</em></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Print the buffer (similar to Unix <span><strong class="calibre5">pr |
lpr</strong></span>).</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">M-x print-region</strong></span>
                           <span><em class="calibre7">File</em></span>
                           <span>→</span> 
                           <span><em class="calibre7">Print Region</em></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Print the region (similar to Unix <span><strong class="calibre5">pr |
lpr</strong></span>).</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">M-x lpr-buffer</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Print buffer with no page numbers (similar to Unix <span><strong class="calibre5">lpr</strong></span>).</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">M-x lpr-region</strong></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Print region with no page numbers (similar to Unix <span><strong class="calibre5">lpr</strong></span>).</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">P</strong></span>
                           <span><em class="calibre7">Operate</em></span>
                           <span>→</span> 
                           <span><em class="calibre7">Print</em></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">From Dired, put the default print command in the minibuffer; you can
change it or press <span><strong class="calibre5">Enter</strong></span> to execute
it.</p>
                     </td></tr><tr class="calibre12"><td class="calibre28">
                        <p class="copyright">
                           <span><strong class="calibre5">M-x
ps-print-buffer-with-faces</strong></span>
                           <span><em class="calibre7">File</em></span>
                           <span>→</span> 
                           <span><em class="calibre7">Postscript Print Buffer</em></span>
                        </p>
                     </td><td class="calibre29">
                        <p class="copyright">Print the buffer with text attributes.</p>
                     </td></tr><tr class="calibre12"><td class="calibre30">
                        <p class="copyright">
                           <span><strong class="calibre5">M-x
ps-print-region-with-faces</strong></span>
                           <span><em class="calibre7">File</em></span>
                           <span>→</span> 
                           <span><em class="calibre7">Postscript Print Region</em></span>
                        </p>
                     </td><td class="calibre31">
                        <p class="copyright">Print the region with text attributes.</p>
                     </td></tr></tbody></table></div></div><br class="book"/></div></div>

{% endraw %}

