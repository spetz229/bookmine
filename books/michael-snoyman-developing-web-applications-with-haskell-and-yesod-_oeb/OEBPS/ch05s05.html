---
layout: page
title: "Developing Web Applications with Haskell and Yesod"
prev: OEBPS/ch05s04.html
next: OEBPS/ch05s06.html
book_path: books/michael-snoyman-developing-web-applications-with-haskell-and-yesod-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>
<div class="book" title="Generate IDs"><div class="book"><div class="book"><div class="book"><h1 class="title2"><a id="I_sect15_d1e2174" class="calibre1"></a>Generate IDs</h1></div></div></div><p class="calibre7">If we’re really going for true code reuse here, we’re eventually going to run into name
      conflicts. Let’s say that there are two helper libraries that both use the class name
      “foo” to affect styling. We want to avoid such a possibility. Therefore, we have
      the <code class="literal">newIdent</code> function. This function automatically
      generates a word that is unique for this handler.</p><div class="example"><a id="generate-ids-x2" class="firstname"></a><p class="title6">Example 5-2. Using newIdent</p><div class="book"><pre class="programlistinghaskell"><code class="nf">getRootR</code> <code class="ow">=</code> <code class="n">defaultLayout</code> <code class="o">$</code> <code class="kr">do</code>
    <code class="n">headerClass</code> <code class="ow">&lt;-</code> <code class="n">lift</code> <code class="n">newIdent</code>
    <code class="n">toWidget</code> <code class="p">[</code><code class="n">hamlet</code><code class="o">|&lt;</code><code class="n">h1</code> <code class="o">.#</code><code class="p">{</code><code class="n">headerClass</code><code class="p">}</code><code class="o">&gt;</code><code class="kt">My</code> <code class="kt">Header</code><code class="o">|</code><code class="p">]</code>
    <code class="n">toWidget</code> <code class="p">[</code><code class="n">lucius</code><code class="o">|</code> <code class="o">.#</code><code class="p">{</code><code class="n">headerClass</code><code class="p">}</code> <code class="p">{</code> <code class="n">color</code><code class="kt">:</code> <code class="n">green</code><code class="p">;</code> <code class="p">}</code> <code class="o">|</code><code class="p">]</code>
</pre></div></div><div class="tip" title="Note"><h3 class="title3">Note</h3><p class="calibre7">You might be wondering: what does lift mean? A <code class="literal">Widget</code>
        is a monad transformer, sitting on top of a <code class="literal">Handler</code>.
          <code class="literal">newIdent</code> is a function of a <code class="literal">Handler</code>, so we need to “lift” the function from the <code class="literal">Handler</code> layer to the <code class="literal">Widget</code>
        layer to use it. We can actually use this same approach to perform complex actions, like
        database queries, from within a widget. We’ll cover that when we discuss Yesod’s
        monads.</p></div></div></div>

{% endraw %}

