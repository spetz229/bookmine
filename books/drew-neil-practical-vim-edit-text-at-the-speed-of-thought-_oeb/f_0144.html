---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0143.html
next: f_0145.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<table class="arr-recipe" id="sec.quickfix.browse">
<tr class="calibre14">
<td class="arr-recipe-number">Tip 105</td>
<td class="arr-recipe-name">Browse the Quickfix List</td>
</tr>
</table>
<p id="N1B085" class="calibre4">
<span class="calibre5">
        The quickfix list holds a collection of locations from one or more files. Each record could be an error raised by the compiler when running <code class="cf">:make</code>, or it could be a search match from running <code class="cf">:grep</code>. No matter how the list was forged, we must be able to navigate these records. In this tip, we’ll review the ways of browsing the quickfix list.
    </span>
</p>
<p id="N1B09B" class="calibre4">
      An exhaustive list of commands for navigating the quickfix list can be found by looking up 
      <strong xmlns:str="http://exslt.org/strings" class="calibre10">quickfix</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/quickfix.html#quickfix">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>. 
      <a xmlns:str="http://exslt.org/strings" href="#table.navigate-quickfix">Table 28, ​<em class="calibre5">Commandsfor Navigating the Quickfix List</em>​</a> shows some of the most useful.
    </p>
<hr class="calibre37"/>
<div class="figurecaption" id="table.navigate-quickfix">Table 28. Commandsfor Navigating the Quickfix List</div>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Command</th>
<th class="hlines">Action</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">:cnext</code>
</p>
</td>
<td class="calibre24">
<p class="last-para-in-cell">
		Jump to next item</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">:cprev</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		Jump to previous item</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">:cfirst</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		Jump to first item</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">:clast</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		Jump to last item</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">:cnfile</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		Jump to first item in next file</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">:cpfile</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		Jump to last item in previous file</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">:cc N</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		Jump to <span class="calibre5">n</span>th item</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">:copen</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		Open the quickfix window</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">:cclose</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		Close the quickfix window</p>
</td>
</tr>
</tbody>
</table>
<hr class="calibre37"/>
<p id="N1B13C" class="calibre4">
      They all begin with <code class="cf">:c</code>. The location list (see <a xmlns:str="http://exslt.org/strings" href="#sidebar.location.list">​<em class="calibre5">Meet the Location List</em>​</a>) has equivalents for all of these commands, each beginning with <code class="cf">:l</code>, such as <code class="cf">:lnext</code>, <code class="cf">:lprev</code>, and so on. The <code class="cf">:ll N</code> command, which jumps to the <span class="calibre5">n</span>th item in the location list, makes a natural diversion from this pattern.
    </p>
<div class="sidebar" id="sidebar.location.list">
<div class="sidebar-title">Meet the Location List</div>
<div class="calibre1">
<p id="N1B15A" class="calibre4">
        For every command that populates the quickfix list, there’s a variant that places the results in a location list instead. While <code class="cf1">:make</code>, <code class="cf1">:grep</code>, and <code class="cf1">:vimgrep</code> use the quickfix list, <code class="cf1">:lmake</code>, <code class="cf1">:lgrep</code>, and <code class="cf1">:lvimgrep</code> use the location list. So what’s the difference? At any given moment, there can be only one quickfix list, but we can create as many location lists as we want.
      </p>
<p id="N1B187" class="calibre4">
        Suppose that we’ve followed the steps in <a xmlns:str="http://exslt.org/strings" href="f_0146.html#sec.makeprg">Tip 107</a>, so that running <code class="cf1">:make</code> in a JavaScript file passes the contents of the file through JSLint. Now let’s say that we’ve got two different JavaScript files open in split windows. We run <code class="cf1">:lmake</code> to compile the contents of the active window, which saves any error messages to the location list. Then we switch to the other window and run <code class="cf1">:lmake</code> again. Rather than overwriting the existing location list, Vim creates a new one. Now we have two location lists, each containing errors for a different JavaScript file.
      </p>
<p id="N1B197" class="calibre4">
        Any commands that interact with a location list (<code class="cf1">:lnext</code>, <code class="cf1">:lprev</code>, and so on) will act on the list that is bound to the currently active window. Compare this with the quickfix list, which is available globally throughout Vim: no matter which tab page or window is active, when you run <code class="cf1">:copen</code>, the quickfix window will show the same list.
      </p>
</div>
</div>
<h3 class="calibre22">Basic Quickfix Motions</h3>
<p id="N1B1A7" class="calibre4">
        We can iterate forward and backward through the items in the quickfix list with the <code class="cf">:cnext</code> and <code class="cf">:cprevious</code> commands. If we want to skip to the start or end of the list, we can do so with the <code class="cf">:cfirst</code> and <code class="cf">:clast</code> commands. We’ll use these four commands a lot, so it’s a good idea to map them to something easier to reach. See <a xmlns:str="http://exslt.org/strings" href="f_0060.html#sidebar.unimpaired">​<em class="calibre5">Create Mappings to Quickly Traverse Vim’s Lists</em>​</a>, for a suggestion.
      </p>
<h3 class="calibre22">Quickfix Fast Forward/Rewind</h3>
<p id="N1B1BE" class="calibre4">
        Both <code class="cf">:cnext</code> and <code class="cf">:cprev</code> can be prepended with a count. So instead of stepping through every item in the quickfix list one by one, we could skip through them five at a time by running this:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:5cnext</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N1B1D4" class="calibre4">
        Suppose that we’re browsing through the quickfix list and we come upon a file with dozens of matches, none of which are of much interest to us. In this scenario, rather than stepping through the results one at a time (or even ten at a time), it would be handy if we could just skip all of the results in that file by jumping to the first record in the <span class="calibre5">next</span> file. That’s what the <code class="cf">:cnfile</code> command does. As you’d expect, the <code class="cf">:cpfile</code> does the same in reverse, jumping to the last quickfix record in the previous file.
      </p>
<h3 class="calibre22">Use the Quickfix Window</h3>
<p id="N1B1E4" class="calibre4">
        We can open a window containing the contents of the quickfix list by running <code class="cf">:copen</code>. In some ways, this window behaves like a regular Vim buffer. We can scroll up and down with the <span class="calibre17">k</span> and <span class="calibre17">j</span> keys, and we can even use Vim’s search feature on the contents of the quickfix list.
      </p>
<p id="N1B1F8" class="calibre4">
        The quickfix window has special behavior of its own. If we position our cursor on it and press the <span class="calibre17">&lt;CR&gt;</span> key, then that file will be opened with our cursor positioned on the line containing the match. The file usually opens in the window directly above the quickfix window, but if the file is already open in a window in the current tab page, then that buffer will be reused.
      </p>
<p id="N1B1FE" class="calibre4">
        Note that each line in the quickfix window corresponds to a record in the quickfix list. If we run <code class="cf">:cnext</code>, then the cursor position will move down one line in the quickfix window, even when that window is not active. Conversely, if we use the quickfix window to jump to an item in the quickfix list, then the next time we run <code class="cf">:cnext</code> we’ll go to the item after the one we selected in the quickfix window. Selecting an item from the quickfix window is much like running the <code class="cf">:cc [nr]</code> command but with an intuitive visual interface.
      </p>
<p id="N1B20A" class="calibre4">
        We can close the quickfix window as usual by running <code class="cf">:q</code> when the window is active. But we can also close it by running <code class="cf">:cclose</code> when any other window is active.
		</p>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

