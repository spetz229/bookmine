---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0011.html
next: f_0013.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>

<h2 id="N101C4" class="calibre19">Notation for Simulating Vim on the Page</h2>
<p id="N101CB" class="calibre4">
      Vim’s modal interface sets it apart from most other text editors. To make a musical analogy, let’s compare the Qwerty and piano keyboards. A pianist can pick out a melody by playing one note at a time or he or she can hold down several keys at once to sound a chord. In most text editors, keyboard shortcuts are triggered by pressing a key while holding down one or more modifier buttons, such as the control and command keys. This is the Qwerty equivalent of playing a chord on the piano keyboard.
    </p>
<p id="N101D6" class="calibre4">
      Some of Vim’s commands are also triggered by playing chords, but Normal mode commands are designed to be typed as a sequence of keystrokes. It’s the Qwerty equivalent of playing a melody on the piano keyboard.
    </p>
<p id="N101DE" class="calibre4">
<span class="calibre17">Ctrl</span>-<span class="calibre17">s</span> is a common convention for representing chordal key commands. It means “Press the Control key and the <span class="calibre17">s</span> key at the same time.” But this convention isn’t well suited to describing Vim’s modal command set. In this section, we’ll meet the notation used throughout <span class="calibre5">Practical Vim</span> to illustrate Vim usage.
    </p>
<h3 class="calibre22">Playing Melodies</h3>
<p id="N101FC" class="calibre4">
        In Normal mode, we compose commands by typing one or more keystrokes in sequence. These commands appear as follows:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Notation</th>
<th class="hlines">Meaning</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<span class="calibre17">x</span>
</p>
</td>
<td class="calibre25">
<p class="last-para-in-cell">Press <span class="calibre17">x</span> once</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">dw</span>
</p>
</td>
<td class="calibre27">
<p class="last-para-in-cell">In sequence, press <span class="calibre17">d</span>, then <span class="calibre17">w</span>
</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">dap</span>
</p>
</td>
<td class="calibre27">
<p class="last-para-in-cell">In sequence, press <span class="calibre17">d</span>, <span class="calibre17">a</span>, then <span class="calibre17">p</span>
</p>
</td>
</tr>
</tbody>
</table>
<p id="N1023B" class="calibre4">
        Most of these sequences involve two or three keystrokes, but some are longer. Deciphering the meaning of Vim’s Normal mode command sequences can be challenging, but you’ll get better at it with practice.
      </p>
<h3 class="calibre22">Playing Chords</h3>
<p id="N10243" class="calibre4">
        When  you see a keystroke such as <span class="calibre17">&lt;C-p&gt;</span>, it doesn’t mean “Press <span class="calibre17">&lt;</span>, then <span class="calibre17">C</span>, then <span class="calibre17">-</span>, and so on.” The <span class="calibre17">&lt;C-p&gt;</span> notation is equivalent to <span class="calibre17">Ctrl</span>-<span class="calibre17">p</span>, which means “Press the <span class="calibre17">&lt;Ctrl&gt;</span> and <span class="calibre17">p</span> keys at the same time.”
      </p>
<p id="N10264" class="calibre4">
        I didn’t choose this notation without good reason. Vim’s documentation uses it (<strong xmlns:str="http://exslt.org/strings" class="calibre10">key-notation</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/intro.html#key-notation">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>), and we can also use it in defining custom key mappings. Some of Vim’s commands are formed by combining chords and keystrokes in sequence, and this notation handles them well. Consider these examples:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Notation</th>
<th class="hlines">Meaning</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<span class="calibre17">&lt;C-n&gt;</span>
</p>
</td>
<td class="calibre24">
<p class="last-para-in-cell">Press <span class="calibre17">&lt;Ctrl&gt;</span> and <span class="calibre17">n</span> at the same time</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">g&lt;C-]&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Press <span class="calibre17">g</span>, followed by <span class="calibre17">&lt;Ctrl&gt;</span> and <span class="calibre17">]</span> at the same time</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;C-r&gt;0</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Press <span class="calibre17">&lt;Ctrl&gt;</span> and <span class="calibre17">r</span> at the same time, then <span class="calibre17">0</span>
</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;C-w&gt;&lt;C-=&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Press <span class="calibre17">&lt;Ctrl&gt;</span> and <span class="calibre17">w</span> at the same time, then <span class="calibre17">&lt;Ctrl&gt;</span> and <span class="calibre17">=</span> at the same time</p>
</td>
</tr>
</tbody>
</table>
<h3 class="calibre22">Placeholders</h3>
<p id="N102C5" class="calibre4">
        Many of Vim’s commands require two or more keystrokes to be entered in sequence. Some commands must be followed by a particular kind of keystroke, while other commands can be followed by any key on the keyboard. I use curly braces to denote the set of valid keystrokes that can follow a command. Here are some examples:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Notation</th>
<th class="hlines">Meaning</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<span class="calibre17">f{char}</span>
</p>
</td>
<td class="calibre24">
<p class="last-para-in-cell">Press <span class="calibre17">f</span>, followed by any other character</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">✎{a-z}</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Press <span class="calibre17">✎</span>, followed by any lowercase letter</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">m{a-zA-Z}</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Press <span class="calibre17">m</span>, followed by any lowercase or uppercase letter</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">d{motion}</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Press <span class="calibre17">d</span>, followed by any motion command</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;C-r&gt;{register}</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Press <span class="calibre17">&lt;Ctrl&gt;</span> and <span class="calibre17">r</span> at the same time, followed by the address of a register</p>
</td>
</tr>
</tbody>
</table>
<h3 class="calibre22">Showing Special Keys</h3>
<p id="N10321" class="calibre4">
        Some keys are called by name. This table shows a selection of them:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Notation</th>
<th class="hlines">Meaning</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<span class="calibre17">&lt;Esc&gt;</span>
</p>
</td>
<td class="calibre24">
<p class="last-para-in-cell">
		  Press the Escape key</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;CR&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		  Press the carriage return key (also known as <span class="calibre17">&lt;Enter&gt;</span>)</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;Ctrl&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Press the Control key
		  </p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;Tab&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		  Press the Tab key</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;Shift&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Press the Shift key</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;S-Tab&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Press the <span class="calibre17">&lt;Shift&gt;</span> and <span class="calibre17">&lt;Tab&gt;</span> keys at the same time</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;Up&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		  Press the up arrow key</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;Down&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		  Press the down arrow key</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">␣</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		  Press the space bar</p>
</td>
</tr>
</tbody>
</table>
<p id="N103B5" class="calibre4">
        Note that the space bar is represented as <span class="calibre17">␣</span>. This could be combined with the <span class="calibre17">f{char}</span> command to form <span class="calibre17">f␣</span>.
      </p>
<h3 class="calibre22">Switching Modes Midcommand</h3>
<p id="N103C5" class="calibre4">
		When operating Vim, it’s common to switch from Normal to Insert mode and back again.
        Each keystroke could mean something different, depending on which mode is active.
        I’ve used an alternative style to represent keystrokes entered in Insert mode, which makes it easy to differentiate them from Normal mode keystrokes.
      </p>
<p id="N103DC" class="calibre4">
        Consider this example: <span class="calibre17">cw</span>
<code class="cf">replacement&lt;Esc&gt;</code>. The Normal mode <span class="calibre17">cw</span> command deletes to the end of the current word and switches to Insert mode. Then we type the word “replacement” in Insert mode and press <span class="calibre17">&lt;Esc&gt;</span> to switch back to Normal mode again.
      </p>
<p id="N103EA" class="calibre4">
		The Normal mode styling is also used for Visual mode keystrokes, while the Insert mode styling can indicate keystrokes entered in Command-Line mode and Replace mode.
        Which mode is active should be clear from context.
      </p>
<h3 class="calibre22">Interacting with the Command Line</h3>
<p id="N103F9" class="calibre4">
		In some tips we’ll execute a command line, either in the shell or from inside Vim. This is what it looks like when we execute the <code class="cf">grep</code> command in the shell:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">$ grep -n Waldo *</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N1041B" class="calibre4">
        And this is how it looks when we execute Vim’s built-in <code class="cf">:grep</code> command:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:grep Waldo *</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N1042E" class="calibre4">
        In <span class="calibre5">Practical Vim</span>, the <code class="cf">$</code> symbol indicates that a command line is to be executed in an external shell, whereas the <code class="cf">:</code> prompt indicates that the command line is to be executed internally from Command-Line mode.
        Occasionally we’ll see other prompts, including these:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Prompt</th>
<th class="hlines">Meaning</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">$</code>
</p>
</td>
<td class="calibre24">
<p class="last-para-in-cell">Enter the command line in an external shell</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">:</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Use Command-Line mode to execute an Ex command</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">/</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Use Command-Line mode to perform a forward search</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">?</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Use Command-Line mode to perform a backward search</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">=</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Use Command-Line mode to evaluate a Vim script expression</p>
</td>
</tr>
</tbody>
</table>
<p id="N10477" class="calibre4">
        Any time you see an Ex command listed inline, such as <code class="cf">:write</code>, you can assume that the <span class="calibre17">&lt;CR&gt;</span> key is pressed to execute the command. Nothing happens otherwise, so you can consider <span class="calibre17">&lt;CR&gt;</span> to be implicit.
      </p>
<p id="N10483" class="calibre4">
        By contrast, Vim’s search command allows us to preview the first match before pressing <span class="calibre17">&lt;CR&gt;</span> (see <a xmlns:str="http://exslt.org/strings" href="f_0115.html#sec.incsearch">Tip 81</a>).
        When you see a search command listed inline, such as <code class="cf">/pattern</code>
<span class="calibre17">&lt;CR&gt;</span>, the <span class="calibre17">&lt;CR&gt;</span> keystroke is listed explicitly.
        If the <span class="calibre17">&lt;CR&gt;</span> is omitted, that’s intentional, and it means you shouldn’t press the Enter key just yet.
      </p>
<h3 class="calibre22">Showing the Cursor Position in a Buffer</h3>
<p id="N104A1" class="calibre4">
		When showing the contents of a buffer, it’s useful to be able to indicate where the cursor is positioned. In this example, you should see that the cursor is placed on the first letter of the word “One”:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<span class="shade-fg-white">O</span>ne two three​</code>​</div>
</td>
</tr>
</table>
<p id="N104BD" class="calibre4">
        When we make a change that involves several steps, the contents of the buffer pass through intermediate states. To illustrate the process, I use a table showing the commands executed in the left column and the contents of the buffer in the right column. Here’s a simple example:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Keystrokes</th>
<th class="hlines">Buffer Contents</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">{start}</code>
</p>
</td>
<td class="calibre24">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-white">O</span>ne two three​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">dw</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-white">t</span>wo three​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<p id="N104F7" class="calibre4">
        In row 2 we run the <span class="calibre17">dw</span> command to delete the word under the cursor. We can see how the buffer looks immediately after running this command by looking at the contents of the buffer in the same row.
      </p>
<h3 class="calibre22">Highlighting Search Matches</h3>
<p id="N10501" class="calibre4">
        When demonstrating Vim’s search command, it’s helpful to be able to highlight any matches that occur in the buffer. In this example, searching for the string “the” causes four occurrences of the pattern to be highlighted:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Keystrokes</th>
<th class="hlines">Buffer Contents</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">{start}</code>
</p>
</td>
<td class="calibre24">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-white">t</span>he problem with these new recruits is that​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​they don't keep their boots clean.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">/the</code>
<span class="calibre17">&lt;CR&gt;</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-black">the</span> problem with <span class="shade-fg-black">
<span class="shade-fg-white">t</span>he</span>se new recruits is that​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-black">the</span>y don't keep <span class="shade-fg-black">the</span>ir boots clean.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<p id="N1055A" class="calibre4">
        Skip ahead to <a xmlns:str="http://exslt.org/strings" href="f_0114.html#sec.hlsearch">Tip 80</a>, to find out how to enable search highlighting in Vim.
      </p>
<h3 class="calibre22">Selecting Text in Visual Mode</h3>
<p id="N10565" class="calibre4">
		Visual mode allows us to select text in the buffer and then operate on the selection. In this example, we use the <span class="calibre17">it</span> text object to select the contents of the <code class="cf">&lt;a&gt;</code> tag:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Keystrokes</th>
<th class="hlines">Buffer Contents</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">{start}</code>
</p>
</td>
<td class="calibre24">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​&lt;a <span class="shade-fg-white">h</span>ref="http://pragprog.com/dnvim/"&gt;Practical Vim&lt;/a&gt;​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">vit</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​&lt;a href="http://pragprog.com/dnvim/"&gt;<span class="shade-fg-black">Practical Vi<span class="shade-fg-white">m</span>
</span>&lt;/a&gt;​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<p id="N105BA" class="calibre4">
      Note that the styling for a Visual selection is the same for highlighted search matches.
      When you see this style, it should be clear from context whether it represents a search match or a Visual selection.
    </p>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

