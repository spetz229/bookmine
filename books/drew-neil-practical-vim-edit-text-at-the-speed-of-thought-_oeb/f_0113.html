---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0112.html
next: f_0114.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<table class="arr-recipe" id="N18AE8">
<tr class="calibre14">
<td class="arr-recipe-number">Tip 79</td>
<td class="arr-recipe-name">Meet the Search Command</td>
</tr>
</table>
<p id="N18AEE" class="calibre4">
<span class="calibre5">
        In this tip, we’ll cover the basics of using the search command, including how to specify the direction of a search, repeat (or reverse) the last search, and work with the search history.
    </span>
</p>
<h3 class="calibre22">Execute a Search</h3>
<p id="N18AFC" class="calibre4">
        From Normal mode, the <span class="calibre17">/</span> key brings up Vim’s search prompt. Here we can enter the pattern, or literal text, that we want to search for. Vim does nothing until we press the <span class="calibre17">&lt;CR&gt;</span> key to execute the search. If we press the <span class="calibre17">&lt;Esc&gt;</span> key instead, the search prompt will be dismissed and we’ll return to Normal mode.
      </p>
<p id="N18B16" class="calibre4">
        When we execute a search, Vim scans forward from the current cursor position, stopping on the first match that it finds. If nothing is found before the end of the document, Vim informs us “search hit BOTTOM, continuing at TOP.” This means that in some circumstances, a forward search can take us backward. That’s not as disorienting as it might sound. Just remember that the search command wraps around the document, and it’ll make sense.
      </p>
<p id="N18B19" class="calibre4">
        If you ever need to search from the current cursor position to the end of the document <span class="calibre5">without</span> wrapping around, you can disable the <code class="cf">‘wrapscan’</code> option (see <strong xmlns:str="http://exslt.org/strings" class="calibre10">'wrapscan'</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/options.html#'wrapscan'">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>).
      </p>
<h3 class="calibre22">Specify the Search Direction</h3>
<p id="N18B30" class="calibre4">
        When a search is initiated with the <span class="calibre17">/</span> key, Vim scans the document forward. If we use the <span class="calibre17">?</span> key to bring up the search prompt, Vim searches backward instead. The search prompt always begins with either the <code class="cf">/</code> or <code class="cf">?</code> character, which indicates in what direction the search will scan.
      </p>
<h3 id="sec.search.repeat" class="calibre22">Repeat the Last Search</h3>
<p id="N18B52" class="calibre4">
        The <span class="calibre17">n</span> command jumps to the next match, and the <span class="calibre17">N</span> command jumps to the previous match. We can easily navigate between matches in the current document with the <span class="calibre17">n</span> and <span class="calibre17">N</span> commands. But the definition of “next match” depends on context.
      </p>
<p id="N18B6E" class="calibre4">
        The <span class="calibre17">n</span> command preserves the direction as well as any offsets that were applied to the previous search (we’ll meet offsets in <a xmlns:str="http://exslt.org/strings" href="f_0117.html#sec.search.offsets">Tip 83</a>). So if we execute a forward search using <span class="calibre17">/</span>, then <span class="calibre17">n</span> will continue searching forward. Whereas if we used <span class="calibre17">?</span> for the original search, then <span class="calibre17">n</span> will continue backward. Meanwhile, the <span class="calibre17">N</span> command always goes in the opposite direction from the last search.
      </p>
<p id="N18B8C" class="calibre4">
        Sometimes we might want to repeat a search using the same pattern but changing the direction or offset. In this case, it’s useful to know that if we execute a search without providing a pattern,  Vim will just reuse the pattern from the previous search. <a xmlns:str="http://exslt.org/strings" href="#table.repeat-options">Table 22, ​<em class="calibre5">Options for Repeating a Search</em>​</a> summarizes the matrix of options for repeating a search:
      </p>
<hr class="calibre37"/>
<div class="figurecaption" id="table.repeat-options">Table 22. Options for Repeating a Search</div>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Command</th>
<th class="hlines">Effect</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<span class="calibre17">n</span>
</p>
</td>
<td class="calibre24">
<p class="last-para-in-cell">Jump to next match, preserving direction and offset</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">N</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Jump to previous match, preserving direction and offset</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">/</code>
<span class="calibre17">&lt;CR&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Jump forward to next match of same pattern</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">?</code>
<span class="calibre17">&lt;CR&gt;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Jump backward to previous match of same pattern</p>
</td>
</tr>
</tbody>
</table>
<hr class="calibre37"/>
<p id="N18BCB" class="calibre4">
        Suppose that we use <span class="calibre17">?</span> to initiate a search. Having jumped backward to the previous match, we then decide that we want to skip forward through the remainder of the matches. We could do it with the <span class="calibre17">N</span> key, but somehow that makes everything feel upside down. Instead, we could execute <code class="cf">/</code>
<span class="calibre17">&lt;CR&gt;</span>. This executes a forward search, reusing the same pattern. Now, we can use the <span class="calibre17">n</span> key to skip forward through the rest of the matches in the document.
      </p>
<p id="N18BDC" class="calibre4">
        In <a xmlns:str="http://exslt.org/strings" href="f_0118.html#sec.working.with.search.matches">Tip 84</a>, we’ll meet a more complex example where we change the offset each time we repeat a search.
      </p>
<h3 class="calibre22">Recall Historical Searches</h3>
<p id="N18BE7" class="calibre4">
        Vim records our search patterns so we can easily recall them. When the search prompt is visible, we can scroll through the previous searches by pressing the <span class="calibre17">&lt;Up&gt;</span> key. In fact, the interface for browsing the search history is just the same as for browsing the command-line history. We covered this in more depth in <a xmlns:str="http://exslt.org/strings" href="f_0056.html#sec.command.history">Tip 34</a>. We’ll put these techniques into action in <a xmlns:str="http://exslt.org/strings" href="f_0119.html#sec.search.iterate">Tip 85</a>.
    </p>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

