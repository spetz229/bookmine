---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0106.html
next: f_0108.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<table class="arr-recipe" id="sec.literal">
<tr class="calibre14">
<td class="arr-recipe-number">Tip 74</td>
<td class="arr-recipe-name">Use the <code class="cf2">\V</code> Literal Switch for Verbatim Searches</td>
</tr>
</table>
<p id="N183CD" class="calibre4">
<span class="calibre5">
        The special characters used for defining regular expressions are handy when searching for patterns, but they can get in the way if we want to search for text verbatim. Using the <code class="cf">verynomagic</code> literal switch, we can cancel out most of the special meanings attached to characters such as <code class="cf">.</code>, <code class="cf">*</code>, and <code class="cf">?</code>.
    </span>
</p>
<p id="N18401" class="calibre4">
      Take this excerpt of text:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td colspan="2" class="calibre33">
<a href="http://media.pragprog.com/titles/dnvim/code/patterns/excerpt-also-known-as.txt">patterns/excerpt-also-known-as.txt</a>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​The N key searches backward...​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​...the \v pattern switch (a.k.a. very magic search)...​</code>​</div>
</td>
</tr>
</table>
<p id="N18414" class="calibre4">
      Now suppose that we want to jump to the occurrence of “a.k.a.” (which stands for <span class="calibre5">also known as</span>) by searching for it. The most natural thing to do would be to run this search:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">/a.k.a.</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N18427" class="calibre4">
      But when we press Enter, we’ll find that this pattern matches more than we bargained for. The “<code class="cf">.</code>” symbol has a special meaning: it matches any character. As chance would have it, the word “backward” contains a fragment that matches our pattern. This table illustrates the outcome.
    </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Keystrokes</th>
<th class="hlines">Buffer Contents</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">{start}</code>
</p>
</td>
<td class="calibre24">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-white">T</span>he N key searches backward...​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​...the \v pattern switch (a.k.a. very magic search)...​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">/a.k.a.</code>
<span class="calibre17">&lt;CR&gt;</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​The N key searches b<span class="shade-fg-black">
<span class="shade-fg-white">a</span>ckwar</span>d...​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​...the \v pattern switch (<span class="shade-fg-black">a.k.a.</span> very magic search)...​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">/a\.k\.a\.</code>
<span class="calibre17">&lt;CR&gt;</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​The N key searches backward...​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​...the \v pattern switch (<span class="shade-fg-black">
<span class="shade-fg-white">a</span>.k.a.</span> very magic search)...​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">/\Va.k.a.</code>
<span class="calibre17">&lt;CR&gt;</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​The N key searches backward...​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​...the \v pattern switch (<span class="shade-fg-black">
<span class="shade-fg-white">a</span>.k.a.</span> very magic search)...​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<p id="N184B4" class="calibre4">
      In this example, the result is merely an irritation. We can jump to the next match—the one we’re aiming for, let’s hope—just by pressing the <span class="calibre17">n</span> key. But in some circumstances, a false positive match could be more insidious. Imagine if we were to go ahead and run a substitute command, such as <code class="cf">:%s//also known as/g</code>, without realizing that our search pattern was too broad (leaving the search field of the <code class="cf">:substitute</code> command blank tells Vim to use the last search pattern, as discussed in <a xmlns:str="http://exslt.org/strings" href="f_0125.html#sec.substitute.lastpat">Tip 90</a>). That could lead to some surprising typos!
    </p>
<p id="N184C4" class="calibre4">
      We can cancel out the special meaning of the <code class="cf">.</code> character by escaping it. The following pattern would not match the fragment inside the word <span class="calibre5">backward</span>, but it would still match “a.k.a.”:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">/a\.k\.a\.</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N184DA" class="calibre4">
      Alternatively, we could use the <code class="cf">\V</code> literal switch to enable <code class="cf">very nomagic</code> search:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">/\Va.k.a.</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N184F0" class="calibre4">
      As Vim’s documentation says, “use of <code class="cf">\V</code> means that in the pattern after it, only the backslash has a special meaning” (see <strong xmlns:str="http://exslt.org/strings" class="calibre10">/\V</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/pattern.html#/\V">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>). As we’ll see in <a xmlns:str="http://exslt.org/strings" href="f_0111.html#sec.problem.chars">Tip 78</a>, this is a slight oversimplification, but it will do for the purposes of this discussion.
    </p>
<p id="N184FE" class="calibre4">
      Creating regular expressions in a <code class="cf">very nomagic</code> search is still possible, but it’s awkward because we have to escape every symbol. As a general rule, if you want to search for a regular expression, use the <code class="cf">\v</code> pattern switch, and if you want to search for verbatim text, use the <code class="cf">\V</code> literal switch.
    </p>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

