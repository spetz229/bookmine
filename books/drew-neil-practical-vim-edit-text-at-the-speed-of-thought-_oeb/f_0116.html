---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0115.html
next: f_0117.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<table class="arr-recipe" id="sec.count.matches">
<tr class="calibre14">
<td class="arr-recipe-number">Tip 82</td>
<td class="arr-recipe-name">Count the Matches for the Current Pattern</td>
</tr>
</table>
<p id="N18D83" class="calibre4">
<span class="calibre5">
        This quick tip shows how to count the number of matches for a pattern.
    </span>
</p>
<p id="N18D91" class="calibre4">
      There’s no way of making the search command report the number of matches in the current document. But here’s a command that does:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:%s///gn</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>&lt;= </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​117 matches on 65 lines​</code>​</div>
</td>
</tr>
</table>
<p id="N18DA5" class="calibre4">
      We’re actually calling the <code class="cf">:substitute</code> command, but the <code class="cf">n</code> flag suppresses the usual behavior. Instead of replacing each match with the target, it simply counts the number of matches and then echoes the result below the command line. By leaving the search field blank, we instruct Vim to use the current search pattern. The replacement field is ignored anyway (because of the <code class="cf">n</code> flag), so we can leave it blank too.
    </p>
<p id="N18DB6" class="calibre4">
      Whatever you do, don’t omit any of the <code class="cf">/</code> characters. Running <code class="cf">:%s//gn</code> would replace every match with “gn”! If it seems like too much typing, you might want to create a mapping for it. I’ll leave this as an exercise for you.
    </p>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

