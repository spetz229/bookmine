---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0155.html
next: f_0157.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<table class="arr-recipe" id="N1BD03">
<tr class="calibre14">
<td class="arr-recipe-number">Tip 115</td>
<td class="arr-recipe-name">Autocomplete Entire Lines</td>
</tr>
</table>
<p id="N1BD09" class="calibre4">
<span class="calibre5">
        In all of the examples so far, we’ve looked at completing words, but Vim can also autocomplete entire lines. 
    </span>
      Line-wise autocompletion is triggered by running <span class="calibre17">&lt;C-x&gt;&lt;C-l&gt;</span> (see <strong xmlns:str="http://exslt.org/strings" class="calibre10">compl-whole-line</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/insert.html#compl-whole-line">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>).
    </p>
<p id="N1BD24" class="calibre4">
      Suppose that we started off with this snippet:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td colspan="2" class="calibre33">
<a href="http://media.pragprog.com/titles/dnvim/code/auto_complete/bg-colors.css">auto_complete/bg-colors.css</a>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​.top {​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​  background-color: #ef66ef; }​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​.bottom {​</code>​</div>
</td>
</tr>
</table>
<p id="N1BD3A" class="calibre4">
      We want to duplicate the second line and place it at the end of the file. Here’s how this can be done using whole-line autocompletion (<a xmlns:str="http://exslt.org/strings" href="#table.whole-line-autocompletion">Table 31, ​<em class="calibre5">Duplicating the Second Line at the End of a File</em>​</a>).
    </p>
<hr class="calibre37"/>
<div class="figurecaption" id="table.whole-line-autocompletion">Table 31. Duplicating the Second Line at the End of a File</div>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Keystrokes</th>
<th class="hlines">Buffer Contents</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">{start}</code>
</p>
</td>
<td class="calibre24">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​.top {​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​  background-color: #ef66ef; }​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​.bottom <span class="shade-fg-white">{</span>​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">o</span>
<code class="cf">ba</code>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​.top {​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​  background-color: #ef66ef; }​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​.bottom {​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​  ba<span class="shade-fg-white"> </span>​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">&lt;C-x&gt;&lt;C-l&gt;</span>
<code class="cf">&lt;Esc&gt;</code>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​.top {​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​  background-color: #ef66ef; }​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​.bottom {​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​  background-color: #ef66ef; <span class="shade-fg-white">}</span>​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<hr class="calibre37"/>
<p id="N1BDAB" class="calibre4">
      The same files that provide the source for generic keyword autocompletion (see <a xmlns:str="http://exslt.org/strings" href="f_0154.html#sec.keyword.origins">Tip 113</a>) are also used to generate a list of suggestions for line-wise autocompletion. Also, note that Vim ignores any indentation at the start of the line. 
    </p>
<p id="N1BDB2" class="calibre4">
      The beauty of line-wise autocompletion is that we don’t have to know the location of the line we’re duplicating. We need to know only that it exists. After typing out the first few characters, we hit <span class="calibre17">&lt;C-x&gt;&lt;C-l&gt;</span>, and bang! Vim fills out the rest for us.
    </p>
<p id="N1BDB8" class="calibre4">
      We’ve seen two other methods for duplicating a line by means of a register (<a xmlns:str="http://exslt.org/strings" href="f_0089.html#sec.yyp">​<em class="calibre5">Duplicating Lines</em>​</a>) or an Ex command (<a xmlns:str="http://exslt.org/strings" href="f_0051.html#sec.ex.copy">​<em class="calibre5">Duplicate Lines with the ‘:t’ Command</em>​</a>). Each has its strengths and its weaknesses. Try to identify the scenarios where each of these techniques shines, and use them accordingly.
    </p>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

