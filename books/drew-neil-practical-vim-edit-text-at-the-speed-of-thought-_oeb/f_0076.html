---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0075.html
next: f_0077.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<table class="arr-recipe" id="sec.fchar">
<tr class="calibre14">
<td class="arr-recipe-number">Tip 49</td>
<td class="arr-recipe-name">Find by Character</td>
</tr>
</table>
<p id="N14F43" class="calibre4">
<span class="calibre5">
        Vim’s character search commands allow us to move quickly within a line, and they work beautifully in Operator-Pending mode.
    </span>
</p>
<p id="N14F59" class="calibre4">
      The <span class="calibre17">f{char}</span> command is one of the quickest methods of moving around in Vim. It searches for the specified character, starting with the cursor position and continuing to the end of the current line. If a match is found, then the cursor advances to the specified character. If no match is found, then the cursor stays put (see <strong xmlns:str="http://exslt.org/strings" class="calibre10">f</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/motion.html#f">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>).
    </p>
<p id="N14F69" class="calibre4">
      That may sound complex, but it’s quite simple in practice. Observe:
    </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Keystrokes</th>
<th class="hlines">Buffer Contents</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">{start}</code>
</p>
</td>
<td class="calibre24">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-white">F</span>ind the first occurrence of {char} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">fx</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-white">F</span>ind the first occurrence of {char} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">fo</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​Find the first <span class="shade-fg-white">o</span>ccurrence of {char} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<p id="N14FBA" class="calibre4">
      In this case, the <span class="calibre17">fx</span> command does nothing. Vim searches forward for an occurrence of the “x” character, but no matches are found, so the cursor doesn’t move. The <span class="calibre17">fo</span> command finds an occurrence of the “o” character, so the cursor is positioned on top of the first match.
    </p>
<p id="N14FC3" class="calibre4">
      If we need to position our cursor at the start of the word “occurrence,” there’s no way we can do it with fewer than two keystrokes. The <span class="calibre17">f{char}</span> command is efficient, and when it works as well as it does in this example, it feels as though Vim is reading our minds.
    </p>
<p id="N14FC9" class="calibre4">
      But the <span class="calibre17">f{char}</span> command doesn’t always work out so well. Suppose that we wanted to position our cursor on the “c” at the start of the word <code class="cf">{char}</code>. Watch what happens when we use the <span class="calibre17">fc</span> command:
    </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Keystrokes</th>
<th class="hlines">Buffer Contents</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">{start}</code>
</p>
</td>
<td class="calibre24">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-white">F</span>ind the first occurrence of {char} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">fc</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​Find the first o<span class="shade-fg-white">c</span>currence of {char} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">;</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​Find the first oc<span class="shade-fg-white">c</span>urrence of {char} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">;</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​Find the first occurren<span class="shade-fg-white">c</span>e of {char} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">;</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​Find the first occurrence of {<span class="shade-fg-white">c</span>har} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<p id="N15052" class="calibre4">
      The “c” character occurs several times on this line, so this time we don’t make a direct hit on our target. It takes a few attempts to move the cursor to the position where we want it. Luckily we don’t have to explicitly repeat the <span class="calibre17">fc</span> command. Vim keeps track of the most recent <span class="calibre17">f{char}</span> search, and we can repeat it using the <span class="calibre17">;</span> command (see <strong xmlns:str="http://exslt.org/strings" class="calibre10">;</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/motion.html#;">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>). In this example, we have to press <span class="calibre17">;</span> three times to maneuver the cursor into position.
    </p>
<p id="N1506C" class="calibre4">
      The <span class="calibre17">f{char}</span> and <span class="calibre17">;</span> commands make a powerful combination, and we can cover a lot of distance with very few keystrokes. But where the cursor will end up isn’t always obvious. As a result, it’s easy to get trigger-happy with the <span class="calibre17">;</span> key, and occasionally we’ll miss our target. For example, suppose that we want to place the cursor at the start of the word “of”:
    </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Keystrokes</th>
<th class="hlines">Buffer Contents</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">{start}</code>
</p>
</td>
<td class="calibre24">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-white">F</span>ind the first occurrence of {char} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">fo</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​Find the first <span class="shade-fg-white">o</span>ccurrence of {char} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">;;</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​Find the first occurrence of {char} and m<span class="shade-fg-white">o</span>ve to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">,</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​Find the first occurrence <span class="shade-fg-white">o</span>f {char} and move to it.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<p id="N150DE" class="calibre4">
      Having accidentally overshot our mark, we can back up using the <span class="calibre17">,</span> command. This repeats the last <span class="calibre17">f{char}</span> search but in the opposite direction (see <strong xmlns:str="http://exslt.org/strings" class="calibre10">,</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/motion.html#,">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>). Remember our mantra from <a xmlns:str="http://exslt.org/strings" href="f_0021.html#sec.act.repeat.reverse">Tip 4</a>: act, repeat, reverse. I think of <span class="calibre17">,</span> as a safety net for those times when I get overzealous with the <span class="calibre17">;</span> key.
    </p>
<div class="sidebar">
<div class="sidebar-title">Don't Throw Away the Reverse Character Search Command</div>
<div class="calibre1">
<p id="N15106" class="calibre4">
        Vim assigns a function to almost every key on the keyboard. If we want to create our own custom mappings, which keys should we bind them to? Vim provides the <span class="calibre17">&lt;Leader&gt;</span> key as a namespace for our own user-defined commands. Here is how we can create our own custom mappings using <span class="calibre17">&lt;Leader&gt;</span>:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix4" valign="top">
<span> </span>
</td>
<td class="codeline4" valign="top">
<div class="calibre38">
​<code class="calibre39">​<strong class="prompt">noremap</strong> <em class="string">&lt;Leader&gt;</em>n nzz​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix4" valign="top">
<span> </span>
</td>
<td class="codeline4" valign="top">
<div class="calibre38">
​<code class="calibre39">​<strong class="prompt">noremap</strong> <em class="string">&lt;Leader&gt;</em>N Nzz​</code>​</div>
</td>
</tr>
</table>
<p id="N15139" class="calibre4">
        The default leader key is <span class="calibre17">\</span>, so we could trigger these custom mappings by pressing <span class="calibre17">\n</span> and <span class="calibre17">\N</span>. If you want to know what these mappings do, look up <strong xmlns:str="http://exslt.org/strings" class="calibre10">zz</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/scroll.html#zz">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>.
      </p>
<p id="N15149" class="calibre4">
        On some keyboards, the <span class="calibre17">\</span> command is inconvenient to reach, so Vim makes it easy to set the leader key to something else (see <strong xmlns:str="http://exslt.org/strings" class="calibre10">mapleader</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/map.html#mapleader">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>). A common choice is to set the comma key as leader. If you take this route, I strongly recommend mapping the reverse character search command to another key. Here’s an example:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix4" valign="top">
<span> </span>
</td>
<td class="codeline4" valign="top">
<div class="calibre38">
​<code class="calibre39">​<strong class="prompt">let</strong> mapleader=","​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix4" valign="top">
<span> </span>
</td>
<td class="codeline4" valign="top">
<div class="calibre38">
​<code class="calibre39">​<strong class="prompt">noremap</strong> \ ,​</code>​</div>
</td>
</tr>
</table>
<p id="N15166" class="calibre4">
        The <span class="calibre17">;</span> and <span class="calibre17">,</span> commands complement each other. If you take one of them away, then the whole family of character search commands becomes much less useful.
      </p>
</div>
</div>
<h3 class="calibre22">Character Searches Can Include or Exclude the Target</h3>
<p id="N15174" class="calibre4">
        The <span class="calibre17">f{char}</span>, <span class="calibre17">;</span>, and <span class="calibre17">,</span> commands are part of a set of character-search commands. This table lists them all:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Command</th>
<th class="hlines">Effect</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<span class="calibre17">f{char}</span>
</p>
</td>
<td class="calibre24">
<p class="last-para-in-cell">Forward to the next occurrence of <code class="cf">{char}</code>
</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">F{char}</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		  Backward to the previous occurrence of <code class="cf">{char}</code>
</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">t{char}</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		  Forward to the character before the next occurrence of <code class="cf">{char}</code>
</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">T{char}</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">
		  Backward to the character after the previous occurrence of <code class="cf">{char}</code>
</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">;</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Repeat the last character-search command</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">,</span>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Reverse the last character-search command</p>
</td>
</tr>
</tbody>
</table>
<p id="N151DF" class="calibre4">
        Think of the <span class="calibre17">t{char}</span> and <span class="calibre17">T{char}</span> commands as searching <span class="calibre5">till</span> the specified character. The cursor stops <span class="calibre5">one character before</span>
<code class="cf">{char}</code>, whereas the <span class="calibre17">f{char}</span> and <span class="calibre17">F{char}</span> commands position the cursor <span class="calibre5">on top of</span> the specified character.
      </p>
<p id="N151F9" class="calibre4">
        It’s not immediately obvious why you would want both kinds of character search. This example demonstrates them in action:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Keystrokes</th>
<th class="hlines">Buffer Contents</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">{start}</code>
</p>
</td>
<td class="calibre24">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-white">I</span>'ve been expecting you, Mister Bond.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">f,</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​I've been expecting you<span class="shade-fg-white">,</span> Mister Bond.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">dt.</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​I've been expecting you<span class="shade-fg-white">.</span>​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<p id="N1524A" class="calibre4">
        To begin with, we want to position our cursor directly on top of the comma symbol. For this we can use the <span class="calibre17">f,</span> command. Next we want to delete all of the text until the end of the sentence, but not including the period symbol itself. This time, the <span class="calibre17">dt.</span> command does the job.
      </p>
<p id="N15253" class="calibre4">
        Alternatively, we could have used <span class="calibre17">dfd</span>, which would delete everything from the cursor position to the last letter of the word “Bond.” The end result is the same either way, but I find that <span class="calibre17">dt.</span> requires less concentration. Deleting through the letter “d” is not a common pattern, whereas deleting the last clause of a sentence is something we do often enough that we can treat <span class="calibre17">f,dt.</span> as a finger macro.
      </p>
<p id="N1525F" class="calibre4">
        In general, I tend to use <span class="calibre17">f{char}</span> and <span class="calibre17">F{char}</span> in Normal mode when I want to move the cursor quickly within the current line, whereas I tend to use the <span class="calibre17">t{char}</span> and <span class="calibre17">T{char}</span> character search commands in combination with <span class="calibre17">d{motion}</span> or <span class="calibre17">c{motion}</span>. To put it another way, I use <span class="calibre17">f</span> and <span class="calibre17">F</span> in Normal mode, and <span class="calibre17">t</span> and <span class="calibre17">T</span> in Operator-Pending mode. Refer to <a xmlns:str="http://exslt.org/strings" href="f_0031.html#sec.operator">Tip 12</a> (and <a xmlns:str="http://exslt.org/strings" href="f_0031.html#sidebar.operator.pending.mode">​<em class="calibre5">Meet Operator-Pending Mode</em>​</a>), for more details.
      </p>
<h3 id="sec.scrabble" class="calibre22">Think Like a Scrabble® Player</h3>
<p id="N1528F" class="calibre4">
        The character search commands can be highly economical with keystrokes, but their efficiency varies depending on our choice of target. As any Scrabble player can tell you, some letters appear more frequently than others. If we can make a habit of choosing less common characters for use with the <span class="calibre17">f{char}</span> command, then we’ll be more likely to strike our target with a single move.
      </p>
<p id="N15295" class="calibre4">
        Suppose that we wanted to delete the only adjective from this sentence:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<span class="shade-fg-white">I</span>mprove your writing by deleting excellent adjectives.​</code>​</div>
</td>
</tr>
</table>
<p id="N152A7" class="calibre4">
        What motion should we use to position our cursor on the word “excellent”? If we target the first letter by pressing <span class="calibre17">fe</span>, then we have to follow up by pressing <span class="calibre17">;;;</span> to skip all of the obstacles in between. A better choice would be <span class="calibre17">fx</span>, which gets us where we want to go with a single move. From there, we can delete the word with the <span class="calibre17">daw</span> command (for more details about <span class="calibre17">aw</span>, see <a xmlns:str="http://exslt.org/strings" href="f_0079.html#sec.daw.ciw">Tip 52</a>).
      </p>
<p id="N152C2" class="calibre4">
        Take a look at the text that you’re reading. It’s composed almost entirely of lowercase letters. Capital letters are much rarer, and so too are punctuation marks. When using the character search commands, it’s better to choose target characters with a low frequency of occurrences. With practice you’ll learn to spot them.
      </p>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

