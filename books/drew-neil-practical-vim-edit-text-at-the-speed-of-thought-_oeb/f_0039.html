---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0038.html
next: f_0040.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<table class="arr-recipe" id="N11C54">
<tr class="calibre14">
<td class="arr-recipe-number">Tip 19</td>
<td class="arr-recipe-name">Overwrite Existing Text with Replace Mode</td>
</tr>
</table>
<p id="N11C5A" class="calibre4">
<span class="calibre5">
        Replace mode is identical to Insert mode, except that it overwrites existing text in the document.
    </span>
</p>
<p id="N11C6D" class="calibre4">
      Suppose that we had an excerpt of text such as this:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td colspan="2" class="calibre33">
<a href="http://media.pragprog.com/titles/dnvim/code/insert_mode/replace.txt">insert_mode/replace.txt</a>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​Typing in Insert mode extends the line. But in Replace mode​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​the line length doesn't change.​</code>​</div>
</td>
</tr>
</table>
<p id="N11C80" class="calibre4">
      Instead of using two separate sentences, we’re going to run this together into a single sentence by changing the period to a comma. We also have to downcase the “B” in the word “But.” This example shows how we could do this using Replace mode.
    </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Keystrokes</th>
<th class="hlines">Buffer Contents</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">{start}</code>
</p>
</td>
<td class="calibre24">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​<span class="shade-fg-white">T</span>yping in Insert mode extends the line. But in Replace mode​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix1" valign="top">
<span> </span>
</td>
<td class="codeline1" valign="top">
<div class="calibre32">
​<code class="calibre30">​the line length doesn't change.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">f.</span>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​Typing in Insert mode extends the line<span class="shade-fg-white">.</span> But in Replace mode​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​the line length doesn't change.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<span class="calibre17">R</span>
<code class="cf">, b&lt;Esc&gt;</code>
</p>
</td>
<td class="calibre26">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​Typing in Insert mode extends the line, <span class="shade-fg-white">b</span>ut in Replace mode​</code>​</div>
</td>
</tr>
<tr class="calibre31">
<td class="codeprefix2" valign="top">
<span> </span>
</td>
<td class="codeline2" valign="top">
<div class="calibre32">
​<code class="calibre30">​the line length doesn't change.​</code>​</div>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<p id="N11CDB" class="calibre4">
      From Normal mode, we can engage Replace mode with the <span class="calibre17">R</span> command. As the example demonstrates, typing “, b” overwrites the existing “. B” characters. And when we’re finished with Replace mode, we can hit the <span class="calibre17">&lt;Esc&gt;</span> key to return to Normal mode. Not all keyboards have an <span class="calibre17">&lt;Insert&gt;</span> key, but if yours does, then you can use it to toggle between Insert and Replace modes.
    </p>
<h3 class="calibre22">Overwrite Tab Characters with Virtual Replace Mode</h3>
<p id="N11CF5" class="calibre4">
        Some characters can complicate matters for Replace mode. Consider the tab character. This is represented by a single character in the file, but onscreen it expands to fill several columns, as defined by the <code class="cf">‘tabstop’</code> setting (see <strong xmlns:str="http://exslt.org/strings" class="calibre10">'tabstop'</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/options.html#'tabstop'">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>). If we placed our cursor on a tab stop and initiated Replace mode, then the next character we typed would overwrite the tab character. Supposing that the <code class="cf">‘tabstop’</code> option was set to 8 (the default), this would appear to replace eight characters with one, causing a drastic reduction in the length of the current line.
      </p>
<p id="N11D17" class="calibre4">
        Vim has a second variant of Replace mode. <span class="calibre5">Virtual Replace mode</span> is triggered with <span class="calibre17">gR</span> and treats the tab character as though it consisted of spaces. Suppose that we position the cursor on a tab stop spanning eight columns of screen real estate. If we switch to Virtual Replace mode, we could type up to seven characters, each of which would be inserted in front of the tab character. Finally, if we typed an eighth character, it would replace the tab stop.
      </p>
<p id="N11D20" class="calibre4">
	  In Virtual Replace mode, we overwrite characters of screen real estate rather than dealing with the actual characters that would eventually be saved in a file. This tends to produce fewer surprises, so I would recommend using Virtual Replace mode whenever possible.
      </p>
<p id="N11D23" class="calibre4">
        Vim also provides a single-shot version of Replace mode and Virtual Replace mode. The <span class="calibre17">r{char}</span> and <span class="calibre17">gr{char}</span> commands allow us to overwrite a single character before switching straight back to Normal mode (<strong xmlns:str="http://exslt.org/strings" class="calibre10">r</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/change.html#r">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>).
		</p>

<div class="copyright">Copyright © 2012, The Pragmatic Bookshelf.</div>




<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

