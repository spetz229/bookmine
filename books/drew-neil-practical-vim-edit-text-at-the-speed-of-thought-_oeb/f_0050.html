---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0049.html
next: f_0051.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<table class="arr-recipe" id="sec.ex.address">
<tr class="calibre14">
<td class="arr-recipe-number">Tip 28</td>
<td class="arr-recipe-name">Execute a Command on One or More Consecutive Lines</td>
</tr>
</table>
<p id="N12940" class="calibre4">
<span class="calibre5">
        Many Ex commands can be given a <code class="cf">[range]</code> of lines to act upon. We can specify the start and end of a range with either a line number, a mark, or a pattern.
    </span>
</p>
<p id="N12947" class="calibre4">
      One of the strengths of Ex commands is that they can be executed across a range of lines. We’ll use this short excerpt of HTML as an example:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td colspan="2" class="calibre33">
<a href="http://media.pragprog.com/titles/dnvim/code/ex_mode/practical-vim.html">ex_mode/practical-vim.html</a>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>Line 1 </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​&lt;!DOCTYPE html&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>2 </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">&lt;html&gt;</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>3 </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​  <strong class="prompt">&lt;head&gt;</strong>
<strong class="prompt">&lt;title&gt;</strong>Practical Vim<strong class="prompt">&lt;/title&gt;</strong>
<strong class="prompt">&lt;/head&gt;</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>4 </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​  <strong class="prompt">&lt;body&gt;</strong>
<strong class="prompt">&lt;h1&gt;</strong>Practical Vim<strong class="prompt">&lt;/h1&gt;</strong>
<strong class="prompt">&lt;/body&gt;</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>5 </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">&lt;/html&gt;</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N12996" class="calibre4">
      To demonstrate, we’ll use the <code class="cf">:print</code> command, which simply echoes the specified lines below Vim’s command line. This command doesn’t perform any useful work, but it helps to illustrate which lines make up a range. Try replacing <code class="cf">:print</code> in each of the following examples with a command such as <code class="cf">:delete</code>, <code class="cf">:join</code>, <code class="cf">:substitute</code>, or <code class="cf">:normal</code>, and you should get a feel for how useful Ex commands can be.
    </p>
<h3 class="calibre22">Use Line Numbers as an Address</h3>
<p id="N129B4" class="calibre4">
        If we enter an Ex command consisting only of a number, then Vim will interpret that as an address and move our cursor to the specified line. We can jump to the top of the file by running the following:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:1</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:print</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>&lt;= </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​1 &lt;!DOCTYPE html&gt;​</code>​</div>
</td>
</tr>
</table>
<p id="N129D5" class="calibre4">
        This file contains only five lines. If we wanted to jump to the end of the file, we could enter <code class="cf">:5</code> or we could use the special <code class="cf">$</code> symbol:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:$</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:p</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>&lt;= </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​5 &lt;/html&gt;​</code>​</div>
</td>
</tr>
</table>
<p id="N129F4" class="calibre4">
        Here we’ve used <code class="cf">:p</code>, which is the abbreviated form of <code class="cf">:print</code>. Instead of splitting up the two commands, we could roll them into a single incantation:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:3p</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>&lt;= </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​3 &lt;head&gt;&lt;title&gt;Practical Vim&lt;/title&gt;&lt;/head&gt;​</code>​</div>
</td>
</tr>
</table>
<p id="N12A0E" class="calibre4">
        That moves the cursor to line 3 and then echoes the contents of that line. Remember, we’re just using the <code class="cf">:p</code> command for illustrative purposes here. If we had issued the command <code class="cf">:3d</code>, then we would have jumped to line 3 and deleted it in a single move. The equivalent Normal mode commands would be <span class="calibre17">3G</span> followed by <span class="calibre17">dd</span>. So this is one example where an Ex command can be quicker than a Normal mode command.
      </p>
<h3 class="calibre22">Specify a Range of Lines by Address</h3>
<p id="N12A27" class="calibre4">
        So far, we’ve specified addresses as a single line number. But we can also specify a range of lines. Here’s an example:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:2,5p</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>&lt;= </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​2 &lt;html&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​3   &lt;head&gt;&lt;title&gt;Practical Vim&lt;/title&gt;&lt;/head&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​4   &lt;body&gt;&lt;h1&gt;Practical Vim&lt;/h1&gt;&lt;/body&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​5 &lt;/html&gt;​</code>​</div>
</td>
</tr>
</table>
<p id="N12A44" class="calibre4">
        That prints each line from 2 to 5, inclusive. Note that after running this command, the cursor would be left positioned on line 5. In general, we could say that a range takes this form:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​:{start},{end}​</code>​</div>
</td>
</tr>
</table>
<p id="N12A5B" class="calibre4">
        Note that both the <code class="cf">{start}</code> and <code class="cf">{end}</code> are addresses. So far, we’ve looked at using line numbers for addresses, but we’ll soon see that using a pattern or a mark is also possible.
      </p>
<p id="N12A64" class="calibre4">
        We can use the <code class="cf">.</code> symbol as an address to represent the current line. So, we can easily compose a range representing everything from here to the end of the file:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:2</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:.,$p</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>&lt;= </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​2 &lt;html&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​3   &lt;head&gt;&lt;title&gt;Practical Vim&lt;/title&gt;&lt;/head&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​4   &lt;body&gt;&lt;h1&gt;Practical Vim&lt;/h1&gt;&lt;/body&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​5 &lt;/html&gt;​</code>​</div>
</td>
</tr>
</table>
<p id="N12A8E" class="calibre4">
        The <code class="cf">%</code> symbol also has a special meaning—it stands for all the lines in the current file:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:%p</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>&lt;= </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​1 &lt;!DOCTYPE html&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​2 &lt;html&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​3   &lt;head&gt;&lt;title&gt;Practical Vim&lt;/title&gt;&lt;/head&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​4   &lt;body&gt;&lt;h1&gt;Practical Vim&lt;/h1&gt;&lt;/body&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​5 &lt;/html&gt;​</code>​</div>
</td>
</tr>
</table>
<p id="N12ABF" class="calibre4">
        This is equivalent to running <code class="cf">:1,$p</code>. Using this shorthand in combination with the <code class="cf">:substitute</code> command is very common:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:%s/Practical/Pragmatic/</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N12ADA" class="calibre4">
        This command tells Vim to replace the first occurrence of “Practical” with “Pragmatic” on each line. We’ll learn more about this command in <a xmlns:str="http://exslt.org/strings" href="f_0121.html#chp.substitution">Chapter 14, ​<em class="calibre5">Substitution</em>​</a>.
      </p>
<h3 class="calibre22">Specify a Range of Lines by Visual Selection</h3>
<p id="N12AE5" class="calibre4">
        Instead of addressing a range of lines by number, we could just make a visual selection. If we ran the command <span class="calibre17">2G</span> followed by <span class="calibre17">VG</span>, we would make a visual selection that looks like this:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​&lt;!DOCTYPE html&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<span class="shade-fg-black">&lt;html&gt; </span>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<span class="shade-fg-black">  &lt;head&gt;&lt;title&gt;Practical Vim&lt;/title&gt;&lt;/head&gt; </span>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<span class="shade-fg-black">  &lt;body&gt;&lt;h1&gt;Practical Vim&lt;/h1&gt;&lt;/body&gt; </span>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<span class="shade-fg-black">&lt;/html&gt; </span>​</code>​</div>
</td>
</tr>
</table>
<p id="N12B1B" class="calibre4">
        If we press the <span class="calibre17">:</span> key now, the command-line prompt will be prepopulated with the range <code class="cf">:’&lt;,’&gt;</code>. It looks cryptic, but you can think of it simply as a range standing for the visual selection. Then we can specify our Ex command, and it will execute on every selected line:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:'&lt;,'&gt;p</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>&lt;= </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​2 &lt;html&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​3   &lt;head&gt;&lt;title&gt;Practical Vim&lt;/title&gt;&lt;/head&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​4   &lt;body&gt;&lt;h1&gt;Practical Vim&lt;/h1&gt;&lt;/body&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​5 &lt;/html&gt;​</code>​</div>
</td>
</tr>
</table>
<p id="N12B3E" class="calibre4">
        This range can be really handy if we want to run a <code class="cf">:substitute</code> command on a subset of the file.
      </p>
<p id="N12B44" class="calibre4">
        The <code class="cf">’&lt;</code> symbol is a mark standing for the first line of the visual selection, while <code class="cf">’&gt;</code> stands for the last line of the visual selection (see <a xmlns:str="http://exslt.org/strings" href="f_0080.html#sec.marks">Tip 53</a>, for more about marks). These marks persist even when we leave Visual mode. If you try running <code class="cf">:’&lt;,’&gt;p</code> straight from Normal mode, it will always act on the lines that most recently formed a Visual mode selection.
      </p>
<h3 class="calibre22">Specify a Range of Lines by Patterns</h3>
<p id="N12B6C" class="calibre4">
        Vim also accepts a pattern as an address for an Ex command, such as the one shown here:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:/&lt;html&gt;/,/&lt;\/html&gt;/p</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>&lt;= </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​2 &lt;html&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​3   &lt;head&gt;&lt;title&gt;Practical Vim&lt;/title&gt;&lt;/head&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​4   &lt;body&gt;&lt;h1&gt;Practical Vim&lt;/h1&gt;&lt;/body&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​5 &lt;/html&gt;​</code>​</div>
</td>
</tr>
</table>
<p id="N12B8E" class="calibre4">
        This looks quite complex, but it follows the usual form for a range: <code class="cf">:{start},{end}</code>. The <code class="cf">{start}</code> address in this case is the pattern <code class="cf">/&lt;html&gt;/</code>, while the <code class="cf">{end}</code> address is <code class="cf">/&lt;\/html&gt;/</code>. In other words, the range begins on the line containing an opening <code class="cf">&lt;html&gt;</code> tag and ends on the line containing the corresponding closing tag.
      </p>
<p id="N12BA3" class="calibre4">
        In this particular case, we could achieve the same result using the address <code class="cf">:2,5</code>, which is shorter but more brittle. If we use patterns to specify the range, then our command will always operate on the entire <code class="cf">&lt;html&gt;&lt;/html&gt;</code> element, no matter how many lines it comprises.
      </p>
<h3 class="calibre22">Modify an Address Using an Offset</h3>
<p id="N12BB0" class="calibre4">
        Suppose that we wanted to run an Ex command on every line inside the <code class="cf">&lt;html&gt;&lt;/html&gt;</code> block but not on the lines that contain the <code class="cf">&lt;html&gt;</code> and <code class="cf">&lt;/html&gt;</code> tags themselves. We could do so using an offset:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:/&lt;html&gt;/+1,/&lt;\/html&gt;/-1p</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>&lt;= </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​3 &lt;head&gt;&lt;title&gt;Practical Vim&lt;/title&gt;&lt;/head&gt;​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​4 &lt;body&gt;&lt;h1&gt;Practical Vim&lt;/h1&gt;&lt;/body&gt;​</code>​</div>
</td>
</tr>
</table>
<p id="N12BDA" class="calibre4">
        The general form for an offset goes like this:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​:{address}+n​</code>​</div>
</td>
</tr>
</table>
<p id="N12BE8" class="calibre4">
        If <code class="cf">n</code> is omitted, it defaults to 1. The <code class="cf">{address}</code> could be a line number, a mark, or a pattern.
      </p>
<p id="N12BF1" class="calibre4">
        Suppose that we wanted to execute a command on a particular number of lines, starting with the current line. We could use an offset relative to the current line:
      </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:2</strong>​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:.,.+3p</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N12C06" class="calibre4">
        The <code class="cf">.</code> symbol stands for the current line, so <code class="cf">:.,.+3</code> is equivalent to <code class="cf">:2,5</code> in this case.
      </p>
<h3 class="calibre22">Discussion</h3>
<p id="N12C16" class="calibre4">
        The syntax for defining a range is very flexible. We can mix and match line numbers, marks, and patterns, and we can apply an offset to any of them. This table summarizes a few of the symbols that can be used to create addresses and ranges for Ex commands:
      </p>
<table class="simpletable">
<thead class="calibre23">
<tr class="calibre7">
<th class="hlines">Symbol</th>
<th class="hlines">Address</th>
</tr>
</thead>
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre24">
<p class="last-para-in-cell">
<code class="cf">1</code>
</p>
</td>
<td class="calibre24">
<p class="last-para-in-cell">First line of the file</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">$</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Last line of the file</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">0</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Virtual line above first line of the file</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">.</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Line where the cursor is placed</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">’m</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Line containing mark <code class="cf">m</code>
</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">’&lt;</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">Start of visual selection</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">’&gt;</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">End of visual selection</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre26">
<p class="last-para-in-cell">
<code class="cf">%</code>
</p>
</td>
<td class="calibre26">
<p class="last-para-in-cell">The entire file (shorthand for <code class="cf">:1,$</code>)</p>
</td>
</tr>
</tbody>
</table>
<p id="N12C83" class="calibre4">
        Line 0 doesn’t really exist, but it can be useful as an address in certain contexts. In particular, it can be used as the final argument in the <code class="cf">:copy {address}</code> and <code class="cf">:move {address}</code> commands when we want to copy or move a range of lines to the top of a file. We’ll see examples of these commands in the next two tips.
      </p>
<p id="N12C8C" class="calibre4">
        When we specify a <code class="cf">[range]</code>, it always represents a set of contiguous lines. It’s also possible to execute an Ex command on a set of noncontiguous lines using the <code class="cf">:global</code> command. We’ll learn more about that in <a xmlns:str="http://exslt.org/strings" href="f_0132.html#chp.global.commands">Chapter 15, ​<em class="calibre5">Global Commands</em>​</a>.
      </p>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

