---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0019.html
next: f_0021.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>


<table class="arr-recipe" id="sec.pad.with.spaces">
<tr class="calibre14">
<td class="arr-recipe-number">Tip 3</td>
<td class="arr-recipe-name">Take One Step Back, Then Three Forward</td>
</tr>
</table>
<p id="N10C30" class="calibre4">
<span class="calibre5">
        We can pad a single character with two spaces (one in front, the other behind) by using an idiomatic Vim solution. At first it might look slightly odd, but the solution has the benefit of being repeatable, which allows us to complete the task effortlessly.
    </span>
</p>
<p id="N10C34" class="calibre4">
	  Suppose that we have a line of code that looks like this:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td colspan="2" class="calibre33">
<a href="http://media.pragprog.com/titles/dnvim/code/the_vim_way/3_concat.js">the_vim_way/3_concat.js</a>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">var</strong> foo = <em class="string">"method("</em>+argument1+<em class="string">","</em>+argument2+<em class="string">")"</em>;​</code>​</div>
</td>
</tr>
</table>
<p id="N10C61" class="calibre4">
	  Concatenating strings in JavaScript never looks pretty, but we could make this a little easier on the eye by padding each <code class="cf">+</code> sign with spaces to make it look like this:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">var</strong> foo = <em class="string">"method("</em> + argument1 + <em class="string">","</em> + argument2 + <em class="string">")"</em>;​</code>​</div>
</td>
</tr>
</table>
<h3 class="calibre22">Make the Change Repeatable</h3>
<p id="N10C8A" class="calibre4">
        This idiomatic approach solves the problem:
      </p>
<dl class="calibre34">
<dt class="calibre1">
<b class="calibre10">Keystrokes</b>
</dt>
<dd class="calibre35">
<b class="calibre10">Buffer Contents</b>
</dd>
<dt class="calibre1">
<code class="cf">{start}</code>
</dt>
<dd class="calibre35">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix3" valign="top">
<span> </span>
</td>
<td class="codeline3" valign="top">
<div class="calibre36">
​<code class="calibre30">​<span class="shade-fg-white">v</span>ar foo = "method("+argument1+","+argument2+")";​</code>​</div>
</td>
</tr>
</table>
</dd>
<dt class="calibre1">
<span class="calibre17">f+</span>
</dt>
<dd class="calibre35">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix3" valign="top">
<span> </span>
</td>
<td class="codeline3" valign="top">
<div class="calibre36">
​<code class="calibre30">​var foo = "method("<span class="shade-fg-white">+</span>argument1+","+argument2+")";​</code>​</div>
</td>
</tr>
</table>
</dd>
<dt class="calibre1">
<span class="calibre17">s</span>
<code class="cf">
<img xmlns:str="http://exslt.org/strings" alt="info" src="images/open_box.png" class="calibre21"/>+<img xmlns:str="http://exslt.org/strings" alt="info" src="images/open_box.png" class="calibre21"/>&lt;Esc&gt;</code>
</dt>
<dd class="calibre35">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix3" valign="top">
<span> </span>
</td>
<td class="codeline3" valign="top">
<div class="calibre36">
​<code class="calibre30">​var foo = "method(" +<span class="shade-fg-white"> </span>argument1+","+argument2+")";​</code>​</div>
</td>
</tr>
</table>
</dd>
<dt class="calibre1">
<span class="calibre17">;</span>
</dt>
<dd class="calibre35">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix3" valign="top">
<span> </span>
</td>
<td class="codeline3" valign="top">
<div class="calibre36">
​<code class="calibre30">​var foo = "method(" + argument1<span class="shade-fg-white">+</span>","+argument2+")";​</code>​</div>
</td>
</tr>
</table>
</dd>
<dt class="calibre1">
<span class="calibre17">.</span>
</dt>
<dd class="calibre35">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix3" valign="top">
<span> </span>
</td>
<td class="codeline3" valign="top">
<div class="calibre36">
​<code class="calibre30">​var foo = "method(" + argument1 +<span class="shade-fg-white"> </span>","+argument2+")";​</code>​</div>
</td>
</tr>
</table>
</dd>
<dt class="calibre1">
<span class="calibre17">;.</span>
</dt>
<dd class="calibre35">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix3" valign="top">
<span> </span>
</td>
<td class="codeline3" valign="top">
<div class="calibre36">
​<code class="calibre30">​var foo = "method(" + argument1 + "," +<span class="shade-fg-white"> </span>argument2+")";​</code>​</div>
</td>
</tr>
</table>
</dd>
<dt class="calibre1">
<span class="calibre17">;.</span>
</dt>
<dd class="calibre35">
<table class="processedcode1">
<tr class="calibre31">
<td class="codeprefix3" valign="top">
<span> </span>
</td>
<td class="codeline3" valign="top">
<div class="calibre36">
​<code class="calibre30">​var foo = "method(" + argument1 + "," + argument2 +<span class="shade-fg-white"> </span>")";​</code>​</div>
</td>
</tr>
</table>
</dd>
</dl>
<p id="N10D3A" class="calibre4">
        The <span class="calibre17">s</span> command compounds two steps into one: it deletes the character under the cursor and then enters Insert mode. Having deleted the <code class="cf">+</code> sign, we then type <span class="calibre17">␣+␣</span> and leave Insert mode.
      </p>
<p id="N10D5D" class="calibre4">
        One step back and then three steps forward. It’s a strange little dance that might seem unintuitive, but we get a big win by doing it this way: we can repeat the change with the dot command; all we need to do is position our cursor on the next <code class="cf">+</code> symbol, and the dot command will repeat that little dance.
      </p>
<h3 class="calibre22">Make the Motion Repeatable</h3>
<p id="N10D67" class="calibre4">
        There’s another trick in this example. The <span class="calibre17">f{char}</span> command tells Vim to look ahead for the next occurrence of the specified character and then move the cursor directly to it if a match is found (see <strong xmlns:str="http://exslt.org/strings" class="calibre10">f</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/motion.html#f">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>). So when we type <span class="calibre17">f+</span>, our cursor goes straight to the next <code class="cf">+</code> symbol. We’ll learn more about the <span class="calibre17">f{char}</span> command in <a xmlns:str="http://exslt.org/strings" href="f_0076.html#sec.fchar">Tip 49</a>.
      </p>
<p id="N10D8D" class="calibre4">
		Having made our first change, we could jump to the next occurrence by repeating the <span class="calibre17">f+</span> command, but there’s a better way. The <span class="calibre17">;</span> command will repeat the last search that the <span class="calibre17">f</span> command performed. So instead of typing <span class="calibre17">f+</span> four times, we can use that command once and then follow up by using the <span class="calibre17">;</span> command three times.
      </p>
<h3 class="calibre22">All Together Now</h3>
<p id="N10DB8" class="calibre4">
        The <span class="calibre17">;</span> command takes us to our next target, and the <span class="calibre17">.</span> command repeats the last change, so we can complete the changes by typing <span class="calibre17">;.</span> three times. Does that look familiar?
      </p>
<p id="N10DC4" class="calibre4">
        Instead of fighting Vim’s modal input model, we’re working with it, and look how much easier it makes this particular task.
		</p>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

