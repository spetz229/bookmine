---
layout: page
title: "Practical Vim (for Kathryn Amaral)"
prev: f_0169.html
next: f_0171.html
book_path: books/drew-neil-practical-vim-edit-text-at-the-speed-of-thought-_oeb/
---
{% include JB/setup %}
{% raw %}
<div>

<h2 id="sec.vimrc" class="calibre19">A1.2 Save Your Configuration in a vimrc File</h2>
<p id="N1C4CC" class="calibre4">
      Changing Vim’s settings on the fly is all very well, but if you have customizations that you are particularly fond of, wouldn’t it be handy if they persisted between editing sessions?
    </p>
<p id="N1C4E6" class="calibre4">
      We can save our customizations by writing them to a file. Then we can use the <code class="cf">:source {file}</code> command to apply the settings from the specified <code class="cf">{file}</code> to our current editing session (<strong xmlns:str="http://exslt.org/strings" class="calibre10">:source</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/repeat.html#:source">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>). When sourcing a file, Vim executes each line as an Ex command, just as though it had been entered in Command-Line mode.
    </p>
<p id="N1C4F8" class="calibre4">
      Suppose that we often work on files indented with two spaces. We could create a file with the appropriate settings and save it to disk:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td colspan="2" class="calibre33">
<a href="http://media.pragprog.com/titles/dnvim/code/customizations/two-space-indent.vim">customizations/two-space-indent.vim</a>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<em class="comment">"</em>" Use two spaces <strong class="prompt">for</strong> indentation​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">set</strong> <strong class="prompt">tabstop</strong>=2​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">set</strong> <strong class="prompt">softtabstop</strong>=2​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">set</strong> <strong class="prompt">shiftwidth</strong>=2​</code>​</div>
</td>
</tr>
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span> </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">set</strong> <strong class="prompt">expandtab</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N1C52C" class="calibre4">
      Whenever we want to apply those settings to the current buffer, we run this command:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:source two-space-indent.vim</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N1C53C" class="calibre4">
      When changing settings on the fly, we start by typing a colon to switch to Command-Line mode. The leading colon isn’t necessary when saving settings to a file because the <code class="cf">:source</code> command assumes that each line of the file is to be executed as an Ex command.
    </p>
<p id="N1C542" class="calibre4">
      When Vim starts up, it checks for the existence of a file called <code class="cf">vimrc</code>. If the file is found, then Vim automatically sources the contents of that file on launch. Using this mechanism, we can save our favorite customizations to the <code class="cf">vimrc</code> file, and they will be applied every time we start Vim.
    </p>
<p id="N1C54B" class="calibre4">
      Vim looks for a <code class="cf">vimrc</code> in several places (see <strong xmlns:str="http://exslt.org/strings" class="calibre10">vimrc</strong>
<a xmlns:str="http://exslt.org/strings" href="http://vimdoc.sourceforge.net/htmldoc/starting.html#vimrc">
<img alt="info" src="images/information.png" class="calibre21"/>​</a>). On Unix systems, Vim expects to find a file called <code class="cf">~/.vimrc</code>. On Windows, the expected filename is <code class="cf">$HOME/_vimrc</code>. No matter which system you’re running, you can open the file from inside Vim by running this command:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:edit $MYVIMRC</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N1C576" class="calibre4">
<code class="cf">$MYVIMRC</code> is an environment variable in Vim, which expands to the path of the <code class="cf">vimrc</code> file. After saving changes to the <code class="cf">vimrc</code> file, we can load the new configuration into our Vim session by running this:
    </p>
<table class="processedcode">
<tr class="calibre28">
<td class="codeprefix" valign="top">
<span>=&gt; </span>
</td>
<td class="codeline" valign="top">
<div class="calibre29">
​<code class="calibre30">​<strong class="prompt">:source $MYVIMRC</strong>​</code>​</div>
</td>
</tr>
</table>
<p id="N1C593" class="calibre4">
      If the <code class="cf">vimrc</code> file is the active buffer, then this can be shortened to <code class="cf">:so %</code>.
    </p>
<script src="scripts/book_local.js" type="text/javascript" class="calibre2"/>
</div>

{% endraw %}

